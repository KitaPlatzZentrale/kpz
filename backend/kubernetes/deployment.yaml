apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-deployment
spec:
  replicas: 3 # Number of desired replicas (adjust as needed)
  selector:
    matchLabels:
      app: api
  template:
    metadata:
      labels:
        app: api
    spec:
      containers:
        - name: api-container
          image: public.ecr.aws/b2z0n9v4/kpz-api-k8ts:v1.3
          ports:
            - containerPort: 3000 # Replace with the port your API listens on
          envFrom:
            - secretRef:
                name: my-secrets
          # volumeMounts:  # If you need to mount volumes, add them here
          #   - name: volume-name
          #     mountPath: /path/to/mount
          #     readOnly: true  # Optional, set to true if read-only
          # Add more container settings if required
      # Add init containers, volumes, etc. if necessary
