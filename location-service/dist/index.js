var uv=Object.create;var mf=Object.defineProperty;var av=Object.getOwnPropertyDescriptor;var cv=Object.getOwnPropertyNames;var lv=Object.getPrototypeOf,fv=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hv=(t,e)=>{for(var r in e)mf(t,r,{get:e[r],enumerable:!0})},e7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of cv(e))!fv.call(t,s)&&s!==r&&mf(t,s,{get:()=>e[s],enumerable:!(n=av(e,s))||n.enumerable});return t};var t7=(t,e,r)=>(r=t!=null?uv(lv(t)):{},e7(e||!t||!t.__esModule?mf(r,"default",{value:t,enumerable:!0}):r,t)),dv=t=>e7(mf({},"__esModule",{value:!0}),t);var yf=y((cae,h2)=>{"use strict";var r7=null;h2.exports.get=function(){return r7};h2.exports.set=function(t){r7=t}});var Vu=y((a7,c7)=>{"use strict";var Rs=c7.exports=a7=Object.create(null),n7="disconnected",s7="connected",i7="connecting",o7="disconnecting",u7="uninitialized";Rs[0]=n7;Rs[1]=s7;Rs[2]=i7;Rs[3]=o7;Rs[99]=u7;Rs[n7]=0;Rs[s7]=1;Rs[i7]=2;Rs[o7]=3;Rs[u7]=99});var fn=y((lae,l7)=>{"use strict";var pv=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):t=>setTimeout(t,0);l7.exports=function(e){return pv(e)}});var d7=y((fae,h7)=>{"use strict";var mv=require("events").EventEmitter,yv=Vu(),f7=fn();function Ve(t,e,r){r===void 0&&(r={}),this.opts=r,this.name=t,this.collectionName=t,this.conn=e,this.queue=[],this.buffer=!0,this.emitter=new mv,yv.connected===this.conn.readyState&&this.onOpen()}Ve.prototype.name;Ve.prototype.collectionName;Ve.prototype.conn;Ve.prototype.onOpen=function(){this.buffer=!1,f7(()=>this.doQueue())};Ve.prototype.onClose=function(){};Ve.prototype.addQueue=function(t,e){return this.queue.push([t,e]),this};Ve.prototype.removeQueue=function(t,e){let r=this.queue.findIndex(n=>n[0]===t&&n[1]===e);return r===-1?!1:(this.queue.splice(r,1),!0)};Ve.prototype.doQueue=function(){for(let e of this.queue)typeof e[0]=="function"?e[0].apply(this,e[1]):this[e[0]].apply(this,e[1]);this.queue=[];let t=this;return f7(function(){t.emitter.emit("queue")}),this};Ve.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};Ve.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};Ve.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};Ve.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};Ve.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};Ve.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};Ve.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};Ve.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};Ve.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};Ve.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};Ve.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};Ve.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};Ve.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};Ve.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};Ve.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};Ve.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};Ve.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};Ve.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};Ve.prototype._shouldBufferCommands=function(){let e=this.opts;return e.bufferCommands!=null?e.bufferCommands:e&&e.schemaUserProvidedOptions!=null&&e.schemaUserProvidedOptions.bufferCommands!=null?e.schemaUserProvidedOptions.bufferCommands:this.conn._shouldBufferCommands()};Ve.prototype._getBufferTimeoutMS=function(){let e=this.conn,r=this.opts;return r.bufferTimeoutMS!=null?r.bufferTimeoutMS:r&&r.schemaUserProvidedOptions!=null&&r.schemaUserProvidedOptions.bufferTimeoutMS!=null?r.schemaUserProvidedOptions.bufferTimeoutMS:e.config.bufferTimeoutMS!=null?e.config.bufferTimeoutMS:e.base!=null&&e.base.get("bufferTimeoutMS")!=null?e.base.get("bufferTimeoutMS"):1e4};h7.exports=Ve});var ut=y((hae,p7)=>{"use strict";var gf=class extends Error{};Object.defineProperty(gf.prototype,"name",{value:"MongooseError"});p7.exports=gf});var is=y(Le=>{"use strict";function v2(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function Wu(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function Gu(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function k2(t){return Object.prototype.toString.call(t)==="[object Map]"}function Hu(t){return Object.prototype.toString.call(t)==="[object Date]"}function hn(t,e){return JSON.stringify(t,(r,n)=>typeof n=="bigint"?{$numberLong:`${n}`}:k2(n)?Object.fromEntries(n):n)}function gv(t){if(t!=null&&typeof t=="object"&&"stylize"in t&&typeof t.stylize=="function")return t.stylize}var xo=6,i1=2147483647,o1=-2147483648,N7=Math.pow(2,63)-1,$7=-Math.pow(2,63),I7=Math.pow(2,53),R7=-Math.pow(2,53),q2=1,x7=2,L2=3,v7=4,j2=5,Ev=6,k7=7,q7=8,L7=9,U2=10,Af=11,_v=12,V2=13,j7=14,U7=15,n1=16,V7=17,z2=18,z7=19,W7=255,G7=127,Av=0,Of=4,H7=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127}),v=class extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e,r){super(e,r)}static isBSONError(e){return e!=null&&typeof e=="object"&&"bsonError"in e&&e.bsonError===!0&&"name"in e&&"message"in e&&"stack"in e}},oi=class extends v{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${xo}.x.x`)}},Qu=class extends v{get name(){return"BSONRuntimeError"}constructor(e){super(e)}},Fn=class extends v{get name(){return"BSONOffsetError"}constructor(e,r,n){super(`${e}. offset: ${r}`,n),this.offset=r}},m7,y7;function K7(t,e,r,n){if(n){m7??(m7=new TextDecoder("utf8",{fatal:!0}));try{return m7.decode(t.subarray(e,r))}catch(s){throw new v("Invalid UTF-8 string in BSON document",{cause:s})}}return y7??(y7=new TextDecoder("utf8",{fatal:!1})),y7.decode(t.subarray(e,r))}function Y7(t,e,r){if(t.length===0)return"";let n=r-e;if(n===0)return"";if(n>20)return null;if(n===1&&t[e]<128)return String.fromCharCode(t[e]);if(n===2&&t[e]<128&&t[e+1]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1]);if(n===3&&t[e]<128&&t[e+1]<128&&t[e+2]<128)return String.fromCharCode(t[e])+String.fromCharCode(t[e+1])+String.fromCharCode(t[e+2]);let s=[];for(let i=e;i<r;i++){let o=t[i];if(o>127)return null;s.push(o)}return String.fromCharCode(...s)}function Ov(t,e,r){if(e.length===0)return 0;if(e.length>25||t.length-r<e.length)return null;for(let n=0,s=r;n<e.length;n++,s++){let i=e.charCodeAt(n);if(i>127)return null;t[s]=i}return e.length}function Cv(t){return Hi.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}var Sv=(()=>{try{return require("crypto").randomBytes}catch{return Cv}})(),Hi={toLocalBufferType(t){if(Buffer.isBuffer(t))return t;if(ArrayBuffer.isView(t))return Buffer.from(t.buffer,t.byteOffset,t.byteLength);let e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return Buffer.from(t);throw new v(`Cannot create Buffer from ${String(t)}`)},allocate(t){return Buffer.alloc(t)},allocateUnsafe(t){return Buffer.allocUnsafe(t)},equals(t,e){return Hi.toLocalBufferType(t).equals(e)},fromNumberArray(t){return Buffer.from(t)},fromBase64(t){return Buffer.from(t,"base64")},toBase64(t){return Hi.toLocalBufferType(t).toString("base64")},fromISO88591(t){return Buffer.from(t,"binary")},toISO88591(t){return Hi.toLocalBufferType(t).toString("binary")},fromHex(t){return Buffer.from(t,"hex")},toHex(t){return Hi.toLocalBufferType(t).toString("hex")},toUTF8(t,e,r,n){let s=r-e<=20?Y7(t,e,r):null;if(s!=null)return s;let i=Hi.toLocalBufferType(t).toString("utf8",e,r);if(n){for(let o=0;o<i.length;o++)if(i.charCodeAt(o)===65533){K7(t,e,r,!0);break}}return i},utf8ByteLength(t){return Buffer.byteLength(t,"utf8")},encodeUTF8Into(t,e,r){let n=Ov(t,e,r);return n??Hi.toLocalBufferType(t).write(e,r,void 0,"utf8")},randomBytes:Sv};function wv(){let{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function bv(t){if(t<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${t}`);return s1.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}var Dv=(()=>{let{crypto:t}=globalThis;if(t!=null&&typeof t.getRandomValues=="function")return e=>t.getRandomValues(s1.allocate(e));if(wv()){let{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return bv})(),g7=/(\d|[a-f])/i,s1={toLocalBufferType(t){let e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="Uint8Array")return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return new Uint8Array(t);throw new v(`Cannot make a Uint8Array from ${String(t)}`)},allocate(t){if(typeof t!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(t)}`);return new Uint8Array(t)},allocateUnsafe(t){return s1.allocate(t)},equals(t,e){if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},fromNumberArray(t){return Uint8Array.from(t)},fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))},toBase64(t){return btoa(s1.toISO88591(t))},fromISO88591(t){return Uint8Array.from(t,e=>e.charCodeAt(0)&255)},toISO88591(t){return Array.from(Uint16Array.from(t),e=>String.fromCharCode(e)).join("")},fromHex(t){let e=t.length%2===0?t:t.slice(0,t.length-1),r=[];for(let n=0;n<e.length;n+=2){let s=e[n],i=e[n+1];if(!g7.test(s)||!g7.test(i))break;let o=Number.parseInt(`${s}${i}`,16);r.push(o)}return Uint8Array.from(r)},toHex(t){return Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},toUTF8(t,e,r,n){let s=r-e<=20?Y7(t,e,r):null;return s??K7(t,e,r,n)},utf8ByteLength(t){return new TextEncoder().encode(t).byteLength},encodeUTF8Into(t,e,r){let n=new TextEncoder().encode(e);return t.set(n,r),n.byteLength},randomBytes:Dv},Tv=typeof Buffer=="function"&&Buffer.prototype?._isBuffer!==!0,$=Tv?Hi:s1,pr=class{get[Symbol.for("@@mdb.bson.version")](){return xo}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){return this.inspect(e,r,n)}},Ae=class extends pr{get _bsontype(){return"Binary"}constructor(e,r){if(super(),e!=null&&typeof e=="string"&&!ArrayBuffer.isView(e)&&!v2(e)&&!Array.isArray(e))throw new v("Binary can only be constructed from Uint8Array or number[]");this.sub_type=r??Ae.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=$.allocate(Ae.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(e)?$.fromNumberArray(e):$.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if(typeof e=="string"&&e.length!==1)throw new v("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new v("only accepts single character Uint8Array or Array");let r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new v("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=r;else{let n=$.allocate(Ae.BUFFER_SIZE+this.buffer.length);n.set(this.buffer,0),this.buffer=n,this.buffer[this.position++]=r}}write(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.byteLength<r+e.length){let n=$.allocate(this.buffer.byteLength+e.length);n.set(this.buffer,0),this.buffer=n}if(ArrayBuffer.isView(e))this.buffer.set($.toLocalBufferType(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position;else if(typeof e=="string")throw new v("input cannot be string")}read(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return $.toBase64(this.buffer.subarray(0,this.position))}toString(e){return e==="hex"?$.toHex(this.buffer.subarray(0,this.position)):e==="base64"?$.toBase64(this.buffer.subarray(0,this.position)):e==="utf8"||e==="utf-8"?$.toUTF8(this.buffer,0,this.position,!1):$.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(e){e=e||{};let r=$.toBase64(this.buffer),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}}toUUID(){if(this.sub_type===Ae.SUBTYPE_UUID)return new Nt(this.buffer.slice(0,this.position));throw new v(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${Ae.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,r){return new Ae($.fromHex(e),r)}static createFromBase64(e,r){return new Ae($.fromBase64(e),r)}static fromExtendedJSON(e,r){r=r||{};let n,s;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(s=e.$type?parseInt(e.$type,16):0,n=$.fromBase64(e.$binary)):typeof e.$binary!="string"&&(s=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=$.fromBase64(e.$binary.base64)):"$uuid"in e&&(s=4,n=Nt.bytesFromString(e.$uuid)),!n)throw new v(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return s===Of?new Nt(n):new Ae(n,s)}inspect(e,r,n){n??(n=hn);let s=$.toBase64(this.buffer.subarray(0,this.position)),i=n(s,r),o=n(this.sub_type,r);return`Binary.createFromBase64(${i}, ${o})`}};Ae.BSON_BINARY_SUBTYPE_DEFAULT=0;Ae.BUFFER_SIZE=256;Ae.SUBTYPE_DEFAULT=0;Ae.SUBTYPE_FUNCTION=1;Ae.SUBTYPE_BYTE_ARRAY=2;Ae.SUBTYPE_UUID_OLD=3;Ae.SUBTYPE_UUID=4;Ae.SUBTYPE_MD5=5;Ae.SUBTYPE_ENCRYPTED=6;Ae.SUBTYPE_COLUMN=7;Ae.SUBTYPE_SENSITIVE=8;Ae.SUBTYPE_USER_DEFINED=128;var d2=16,Mv=/^[0-9A-F]{32}$/i,Bv=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,Nt=class extends Ae{constructor(e){let r;if(e==null)r=Nt.generate();else if(e instanceof Nt)r=$.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&e.byteLength===d2)r=$.toLocalBufferType(e);else if(typeof e=="string")r=Nt.bytesFromString(e);else throw new v("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(r,Of)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[$.toHex(this.buffer.subarray(0,4)),$.toHex(this.buffer.subarray(4,6)),$.toHex(this.buffer.subarray(6,8)),$.toHex(this.buffer.subarray(8,10)),$.toHex(this.buffer.subarray(10,16))].join("-"):$.toHex(this.buffer)}toString(e){return e==="hex"?$.toHex(this.id):e==="base64"?$.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof Nt)return $.equals(e.id,this.id);try{return $.equals(new Nt(e).id,this.id)}catch{return!1}}toBinary(){return new Ae(this.id,Ae.SUBTYPE_UUID)}static generate(){let e=$.randomBytes(d2);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e}static isValid(e){return e?typeof e=="string"?Nt.isValidUUIDString(e):Wu(e)?e.byteLength===d2:e._bsontype==="Binary"&&e.sub_type===this.SUBTYPE_UUID&&e.buffer.byteLength===16:!1}static createFromHexString(e){let r=Nt.bytesFromString(e);return new Nt(r)}static createFromBase64(e){return new Nt($.fromBase64(e))}static bytesFromString(e){if(!Nt.isValidUUIDString(e))throw new v("UUID string representation must be 32 hex digits or canonical hyphenated representation");return $.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return Mv.test(e)||Bv.test(e)}inspect(e,r,n){return n??(n=hn),`new UUID(${n(this.toHexString(),r)})`}},ns=class extends pr{get _bsontype(){return"Code"}constructor(e,r){super(),this.code=e.toString(),this.scope=r??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new ns(e.$code,e.$scope)}inspect(e,r,n){n??(n=hn);let s=n(this.code,r),i=s.includes(`
`);this.scope!=null&&(s+=`,${i?`
`:" "}${n(this.scope,r)}`);let o=i&&this.scope===null;return`new Code(${i?`
`:""}${s}${o?`
`:""})`}};function Q7(t){return t!=null&&typeof t=="object"&&"$id"in t&&t.$id!=null&&"$ref"in t&&typeof t.$ref=="string"&&(!("$db"in t)||"$db"in t&&typeof t.$db=="string")}var Nn=class extends pr{get _bsontype(){return"DBRef"}constructor(e,r,n,s){super();let i=e.split(".");i.length===2&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=s||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){let e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r}static fromExtendedJSON(e){let r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new Nn(e.$ref,e.$id,e.$db,r)}inspect(e,r,n){n??(n=hn);let s=[n(this.namespace,r),n(this.oid,r),...this.db?[n(this.db,r)]:[],...Object.keys(this.fields).length>0?[n(this.fields,r)]:[]];return s[1]=n===hn?`new ObjectId(${s[1]})`:s[1],`new DBRef(${s.join(", ")})`}};function J7(t){if(t==="")return t;let e=0,r=t[e]==="-",n=t[e]==="+";(n||r)&&(e+=1);let s=!1;for(;e<t.length&&t[e]==="0";++e)s=!0;return s?`${r?"-":""}${t.length===e?"0":t.slice(e)}`:n?t.slice(1):t}function Pv(t,e){e=e??10;let r="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,e);return new RegExp(`[^-+${r}]`,"i").test(t)?!1:t}var Pn;try{Pn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var E7=65536,Fv=1<<24,Ku=E7*E7,X7=Ku*Ku,_7=X7/2,A7={},O7={},Nv=20,$v=/^(\+?0|(\+|-)?[1-9][0-9]*)$/,w=class extends pr{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,r,n){super(),typeof e=="bigint"?Object.assign(this,w.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,w.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n)}static fromBits(e,r,n){return new w(e,r,n)}static fromInt(e,r){let n,s,i;return r?(e>>>=0,(i=0<=e&&e<256)&&(s=O7[e],s)?s:(n=w.fromBits(e,(e|0)<0?-1:0,!0),i&&(O7[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(s=A7[e],s)?s:(n=w.fromBits(e,e<0?-1:0,!1),i&&(A7[e]=n),n))}static fromNumber(e,r){if(isNaN(e))return r?w.UZERO:w.ZERO;if(r){if(e<0)return w.UZERO;if(e>=X7)return w.MAX_UNSIGNED_VALUE}else{if(e<=-_7)return w.MIN_VALUE;if(e+1>=_7)return w.MAX_VALUE}return e<0?w.fromNumber(-e,r).neg():w.fromBits(e%Ku|0,e/Ku|0,r)}static fromBigInt(e,r){return w.fromString(e.toString(),r)}static _fromString(e,r,n){if(e.length===0)throw new v("empty string");if(n<2||36<n)throw new v("radix");let s;if((s=e.indexOf("-"))>0)throw new v("interior hyphen");if(s===0)return w._fromString(e.substring(1),r,n).neg();let i=w.fromNumber(Math.pow(n,8)),o=w.ZERO;for(let u=0;u<e.length;u+=8){let a=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+a),n);if(a<8){let l=w.fromNumber(Math.pow(n,a));o=o.mul(l).add(w.fromNumber(c))}else o=o.mul(i),o=o.add(w.fromNumber(c))}return o.unsigned=r,o}static fromStringStrict(e,r,n){let s=!1;if(typeof r=="number"?(n=r,r=!1):s=!!r,n??(n=10),e.trim()!==e)throw new v(`Input: '${e}' contains leading and/or trailing whitespace`);if(!Pv(e,n))throw new v(`Input: '${e}' contains invalid characters for radix: ${n}`);let i=J7(e),o=w._fromString(i,s,n);if(o.toString(n).toLowerCase()!==i.toLowerCase())throw new v(`Input: ${e} is not representable as ${o.unsigned?"an unsigned":"a signed"} 64-bit Long ${n!=null?`with radix: ${n}`:""}`);return o}static fromString(e,r,n){let s=!1;return typeof r=="number"?(n=r,r=!1):s=!!r,n??(n=10),e==="NaN"&&n<24||(e==="Infinity"||e==="+Infinity"||e==="-Infinity")&&n<35?w.ZERO:w._fromString(e,s,n)}static fromBytes(e,r,n){return n?w.fromBytesLE(e,r):w.fromBytesBE(e,r)}static fromBytesLE(e,r){return new w(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)}static fromBytesBE(e,r){return new w(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)}static isLong(e){return e!=null&&typeof e=="object"&&"__isLong__"in e&&e.__isLong__===!0}static fromValue(e,r){return typeof e=="number"?w.fromNumber(e,r):typeof e=="string"?w.fromString(e,r):w.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)}add(e){w.isLong(e)||(e=w.fromValue(e));let r=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,u=e.high&65535,a=e.low>>>16,c=e.low&65535,l=0,f=0,h=0,d=0;return d+=i+c,h+=d>>>16,d&=65535,h+=s+a,f+=h>>>16,h&=65535,f+=n+u,l+=f>>>16,f&=65535,l+=r+o,l&=65535,w.fromBits(h<<16|d,l<<16|f,this.unsigned)}and(e){return w.isLong(e)||(e=w.fromValue(e)),w.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(w.isLong(e)||(e=w.fromValue(e)),this.eq(e))return 0;let r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(w.isLong(e)||(e=w.fromValue(e)),e.isZero())throw new v("division by zero");if(Pn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;let i=(this.unsigned?Pn.div_u:Pn.div_s)(this.low,this.high,e.low,e.high);return w.fromBits(i,Pn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?w.UZERO:w.ZERO;let r,n,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return w.UZERO;if(e.gt(this.shru(1)))return w.UONE;s=w.UZERO}else{if(this.eq(w.MIN_VALUE))return e.eq(w.ONE)||e.eq(w.NEG_ONE)?w.MIN_VALUE:e.eq(w.MIN_VALUE)?w.ONE:(r=this.shr(1).div(e).shl(1),r.eq(w.ZERO)?e.isNegative()?w.ONE:w.NEG_ONE:(n=this.sub(e.mul(r)),s=r.add(n.div(e)),s));if(e.eq(w.MIN_VALUE))return this.unsigned?w.UZERO:w.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=w.ZERO}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));let i=Math.ceil(Math.log(r)/Math.LN2),o=i<=48?1:Math.pow(2,i-48),u=w.fromNumber(r),a=u.mul(e);for(;a.isNegative()||a.gt(n);)r-=o,u=w.fromNumber(r,this.unsigned),a=u.mul(e);u.isZero()&&(u=w.ONE),s=s.add(u),n=n.sub(a)}return s}div(e){return this.divide(e)}equals(e){return w.isLong(e)||(e=w.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(w.MIN_VALUE)?64:this.neg().getNumBitsAbs();let e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&!(e&1<<r);r--);return this.high!==0?r+33:r+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(w.isLong(e)||(e=w.fromValue(e)),Pn){let r=(this.unsigned?Pn.rem_u:Pn.rem_s)(this.low,this.high,e.low,e.high);return w.fromBits(r,Pn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return w.ZERO;if(w.isLong(e)||(e=w.fromValue(e)),Pn){let p=Pn.mul(this.low,this.high,e.low,e.high);return w.fromBits(p,Pn.get_high(),this.unsigned)}if(e.isZero())return w.ZERO;if(this.eq(w.MIN_VALUE))return e.isOdd()?w.MIN_VALUE:w.ZERO;if(e.eq(w.MIN_VALUE))return this.isOdd()?w.MIN_VALUE:w.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(w.TWO_PWR_24)&&e.lt(w.TWO_PWR_24))return w.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);let r=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,u=e.high&65535,a=e.low>>>16,c=e.low&65535,l=0,f=0,h=0,d=0;return d+=i*c,h+=d>>>16,d&=65535,h+=s*c,f+=h>>>16,h&=65535,h+=i*a,f+=h>>>16,h&=65535,f+=n*c,l+=f>>>16,f&=65535,f+=s*a,l+=f>>>16,f&=65535,f+=i*u,l+=f>>>16,f&=65535,l+=r*c+n*a+s*u+i*o,l&=65535,w.fromBits(h<<16|d,l<<16|f,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(w.MIN_VALUE)?w.MIN_VALUE:this.not().add(w.ONE)}neg(){return this.negate()}not(){return w.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return w.isLong(e)||(e=w.fromValue(e)),w.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return w.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?w.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):w.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return w.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?w.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):w.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(w.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;{let r=this.high;if(e<32){let n=this.low;return w.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?w.fromBits(r,0,this.unsigned):w.fromBits(r>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return w.isLong(e)||(e=w.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*Ku+(this.low>>>0):this.high*Ku+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){let e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){let e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]}toSigned(){return this.unsigned?w.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw new v("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(w.MIN_VALUE)){let i=w.fromNumber(e),o=this.div(i),u=o.mul(i).sub(this);return o.toString(e)+u.toInt().toString(e)}else return"-"+this.neg().toString(e);let r=w.fromNumber(Math.pow(e,6),this.unsigned),n=this,s="";for(;;){let i=n.div(r),u=(n.sub(i.mul(r)).toInt()>>>0).toString(e);if(n=i,n.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}}toUnsigned(){return this.unsigned?this:w.fromBits(this.low,this.high,!0)}xor(e){return w.isLong(e)||(e=w.fromValue(e)),w.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,r){let{useBigInt64:n=!1,relaxed:s=!0}={...r};if(e.$numberLong.length>Nv)throw new v("$numberLong string is too long");if(!$v.test(e.$numberLong))throw new v(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(n){let o=BigInt(e.$numberLong);return BigInt.asIntN(64,o)}let i=w.fromString(e.$numberLong);return s?i.toNumber():i}inspect(e,r,n){n??(n=hn);let s=n(this.toString(),r),i=this.unsigned?`, ${n(this.unsigned,r)}`:"";return`new Long(${s}${i})`}};w.TWO_PWR_24=w.fromInt(Fv);w.MAX_UNSIGNED_VALUE=w.fromBits(-1,-1,!0);w.ZERO=w.fromInt(0);w.UZERO=w.fromInt(0,!0);w.ONE=w.fromInt(1);w.UONE=w.fromInt(1,!0);w.NEG_ONE=w.fromInt(-1);w.MAX_VALUE=w.fromBits(-1,2147483647,!1);w.MIN_VALUE=w.fromBits(0,-2147483648,!1);var Iv=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Rv=/^(\+|-)?(Infinity|inf)$/i,xv=/^(\+|-)?NaN$/i,zu=6111,t1=-6176,C7=6176,S7=34,p2=$.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),w7=$.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),b7=$.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),vv=/^([-+])?(\d+)?$/,kv=31,D7=16383,qv=30,Lv=31;function T7(t){return!isNaN(parseInt(t,10))}function jv(t){let e=w.fromNumber(1e9),r=w.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(let n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new w(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function Uv(t,e){if(!t&&!e)return{high:w.fromNumber(0),low:w.fromNumber(0)};let r=t.shiftRightUnsigned(32),n=new w(t.getLowBits(),0),s=e.shiftRightUnsigned(32),i=new w(e.getLowBits(),0),o=r.multiply(s),u=r.multiply(i),a=n.multiply(s),c=n.multiply(i);return o=o.add(u.shiftRightUnsigned(32)),u=new w(u.getLowBits(),0).add(a).add(c.shiftRightUnsigned(32)),o=o.add(u.shiftRightUnsigned(32)),c=u.shiftLeft(32).add(new w(c.getLowBits(),0)),{high:o,low:c}}function Vv(t,e){let r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){let s=t.low>>>0,i=e.low>>>0;if(s<i)return!0}return!1}function ts(t,e){throw new v(`"${t}" is not a valid Decimal128 string - ${e}`)}var Wt=class extends pr{get _bsontype(){return"Decimal128"}constructor(e){if(super(),typeof e=="string")this.bytes=Wt.fromString(e).bytes;else if(Wu(e)){if(e.byteLength!==16)throw new v("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new v("Decimal128 must take a Buffer or string")}static fromString(e){return Wt._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return Wt._fromString(e,{allowRounding:!0})}static _fromString(e,r){let n=!1,s=!1,i=!1,o=!1,u=0,a=0,c=0,l=0,f=0,h=[0],d=0,p=0,m=0,g=0,E=new w(0,0),_=new w(0,0),A=0,C=0;if(e.length>=7e3)throw new v(""+e+" not a valid Decimal128 string");let x=e.match(Iv),F=e.match(Rv),T=e.match(xv);if(!x&&!F&&!T||e.length===0)throw new v(""+e+" not a valid Decimal128 string");if(x){let M=x[2],N=x[4],q=x[5],K=x[6];N&&K===void 0&&ts(e,"missing exponent power"),N&&M===void 0&&ts(e,"missing exponent base"),N===void 0&&(q||K)&&ts(e,"missing e before exponent")}if((e[C]==="+"||e[C]==="-")&&(s=!0,n=e[C++]==="-"),!T7(e[C])&&e[C]!=="."){if(e[C]==="i"||e[C]==="I")return new Wt(n?w7:b7);if(e[C]==="N")return new Wt(p2)}for(;T7(e[C])||e[C]===".";){if(e[C]==="."){i&&ts(e,"contains multiple periods"),i=!0,C=C+1;continue}d<S7&&(e[C]!=="0"||o)&&(o||(f=a),o=!0,h[p++]=parseInt(e[C],10),d=d+1),o&&(c=c+1),i&&(l=l+1),a=a+1,C=C+1}if(i&&!a)throw new v(""+e+" not a valid Decimal128 string");if(e[C]==="e"||e[C]==="E"){let M=e.substr(++C).match(vv);if(!M||!M[2])return new Wt(p2);g=parseInt(M[0],10),C=C+M[0].length}if(e[C])return new Wt(p2);if(!d)h[0]=0,c=1,d=1,u=0;else if(m=d-1,u=c,u!==1)for(;e[f+u-1+Number(s)+Number(i)]==="0";)u=u-1;for(g<=l&&l>g+16384?g=t1:g=g-l;g>zu;){if(m=m+1,m>=S7){if(u===0){g=zu;break}ts(e,"overflow")}g=g-1}if(r.allowRounding){for(;g<t1||d<c;){if(m===0&&u<d){g=t1,u=0;break}if(d<c?c=c-1:m=m-1,g<zu)g=g+1;else{if(h.join("").match(/^0+$/)){g=zu;break}ts(e,"overflow")}}if(m+1<u){let M=a;i&&(f=f+1,M=M+1),s&&(f=f+1,M=M+1);let N=parseInt(e[f+m+1],10),q=0;if(N>=5&&(q=1,N===5)){q=h[m]%2===1?1:0;for(let K=f+m+2;K<M;K++)if(parseInt(e[K],10)){q=1;break}}if(q){let K=m;for(;K>=0&&++h[K]>9;K--)if(h[K]=0,K===0)if(g<zu)g=g+1,h[K]=1;else return new Wt(n?w7:b7)}}}else{for(;g<t1||d<c;){if(m===0){if(u===0){g=t1;break}ts(e,"exponent underflow")}d<c?(e[c-1+Number(s)+Number(i)]!=="0"&&u!==0&&ts(e,"inexact rounding"),c=c-1):(h[m]!==0&&ts(e,"inexact rounding"),m=m-1),g<zu?g=g+1:ts(e,"overflow")}m+1<u&&(i&&(f=f+1),s&&(f=f+1),parseInt(e[f+m+1],10)!==0&&ts(e,"inexact rounding"))}if(E=w.fromNumber(0),_=w.fromNumber(0),u===0)E=w.fromNumber(0),_=w.fromNumber(0);else if(m<17){let M=0;for(_=w.fromNumber(h[M++]),E=new w(0,0);M<=m;M++)_=_.multiply(w.fromNumber(10)),_=_.add(w.fromNumber(h[M]))}else{let M=0;for(E=w.fromNumber(h[M++]);M<=m-17;M++)E=E.multiply(w.fromNumber(10)),E=E.add(w.fromNumber(h[M]));for(_=w.fromNumber(h[M++]);M<=m;M++)_=_.multiply(w.fromNumber(10)),_=_.add(w.fromNumber(h[M]))}let V=Uv(E,w.fromString("100000000000000000"));V.low=V.low.add(_),Vv(V.low,_)&&(V.high=V.high.add(w.fromNumber(1))),A=g+C7;let z={low:w.fromNumber(0),high:w.fromNumber(0)};V.high.shiftRightUnsigned(49).and(w.fromNumber(1)).equals(w.fromNumber(1))?(z.high=z.high.or(w.fromNumber(3).shiftLeft(61)),z.high=z.high.or(w.fromNumber(A).and(w.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(V.high.and(w.fromNumber(0x7fffffffffff)))):(z.high=z.high.or(w.fromNumber(A&16383).shiftLeft(49)),z.high=z.high.or(V.high.and(w.fromNumber(562949953421311)))),z.low=V.low,n&&(z.high=z.high.or(w.fromString("9223372036854775808")));let R=$.allocateUnsafe(16);return C=0,R[C++]=z.low.low&255,R[C++]=z.low.low>>8&255,R[C++]=z.low.low>>16&255,R[C++]=z.low.low>>24&255,R[C++]=z.low.high&255,R[C++]=z.low.high>>8&255,R[C++]=z.low.high>>16&255,R[C++]=z.low.high>>24&255,R[C++]=z.high.low&255,R[C++]=z.high.low>>8&255,R[C++]=z.high.low>>16&255,R[C++]=z.high.low>>24&255,R[C++]=z.high.high&255,R[C++]=z.high.high>>8&255,R[C++]=z.high.high>>16&255,R[C++]=z.high.high>>24&255,new Wt(R)}toString(){let e,r=0,n=new Array(36);for(let C=0;C<n.length;C++)n[C]=0;let s=0,i=!1,o,u={parts:[0,0,0,0]},a,c,l=[];s=0;let f=this.bytes,h=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,d=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,p=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,m=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24;s=0,{low:new w(h,d),high:new w(p,m)}.high.lessThan(w.ZERO)&&l.push("-");let E=m>>26&kv;if(E>>3===3){if(E===qv)return l.join("")+"Infinity";if(E===Lv)return"NaN";e=m>>15&D7,o=8+(m>>14&1)}else o=m>>14&7,e=m>>17&D7;let _=e-C7;if(u.parts[0]=(m&16383)+((o&15)<<14),u.parts[1]=p,u.parts[2]=d,u.parts[3]=h,u.parts[0]===0&&u.parts[1]===0&&u.parts[2]===0&&u.parts[3]===0)i=!0;else for(c=3;c>=0;c--){let C=0,x=jv(u);if(u=x.quotient,C=x.rem.low,!!C)for(a=8;a>=0;a--)n[c*9+a]=C%10,C=Math.floor(C/10)}if(i)r=1,n[s]=0;else for(r=36;!n[s];)r=r-1,s=s+1;let A=r-1+_;if(A>=34||A<=-7||_>0){if(r>34)return l.push("0"),_>0?l.push(`E+${_}`):_<0&&l.push(`E${_}`),l.join("");l.push(`${n[s++]}`),r=r-1,r&&l.push(".");for(let C=0;C<r;C++)l.push(`${n[s++]}`);l.push("E"),A>0?l.push(`+${A}`):l.push(`${A}`)}else if(_>=0)for(let C=0;C<r;C++)l.push(`${n[s++]}`);else{let C=r+_;if(C>0)for(let x=0;x<C;x++)l.push(`${n[s++]}`);else l.push("0");for(l.push(".");C++<0;)l.push("0");for(let x=0;x<r-Math.max(C-1,0);x++)l.push(`${n[s++]}`)}return l.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return Wt.fromString(e.$numberDecimal)}inspect(e,r,n){return n??(n=hn),`new Decimal128(${n(this.toString(),r)})`}},Lr=class extends pr{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}static fromString(e){let r=Number(e);if(e==="NaN")return new Lr(NaN);if(e==="Infinity")return new Lr(1/0);if(e==="-Infinity")return new Lr(-1/0);if(!Number.isFinite(r))throw new v(`Input: ${e} is not representable as a Double`);if(e.trim()!==e)throw new v(`Input: '${e}' contains whitespace`);if(e==="")throw new v("Input is an empty string");if(/[^-0-9.+eE]/.test(e))throw new v(`Input: '${e}' is not in decimal or exponential notation`);return new Lr(r)}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,r){let n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new Lr(n)}inspect(e,r,n){return n??(n=hn),`new Double(${n(this.value,r)})`}},ss=class extends pr{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e|0}static fromString(e){let r=J7(e),n=Number(e);if(i1<n)throw new v(`Input: '${e}' is larger than the maximum value for Int32`);if(o1>n)throw new v(`Input: '${e}' is smaller than the minimum value for Int32`);if(Number.isSafeInteger(n)){if(n.toString()!==r)throw new v(`Input: '${e}' is not a valid Int32 string`)}else throw new v(`Input: '${e}' is not a safe integer`);return new ss(n)}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new ss(e.$numberInt)}inspect(e,r,n){return n??(n=hn),`new Int32(${n(this.value,r)})`}},ui=class extends pr{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new ui}inspect(){return"new MaxKey()"}},ai=class extends pr{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new ai}inspect(){return"new MinKey()"}},Yu=new Float64Array(1),Me=new Uint8Array(Yu.buffer,0,8);Yu[0]=-1;var M7=Me[7]===0,re={getNonnegativeInt32LE(t,e){if(t[e+3]>127)throw new RangeError(`Size cannot be negative at offset: ${e}`);return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getInt32LE(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24},getUint32LE(t,e){return t[e]+t[e+1]*256+t[e+2]*65536+t[e+3]*16777216},getUint32BE(t,e){return t[e+3]+t[e+2]*256+t[e+1]*65536+t[e]*16777216},getBigInt64LE(t,e){let r=re.getUint32LE(t,e),n=re.getUint32LE(t,e+4);return(BigInt(n)<<BigInt(32))+BigInt(r)},getFloat64LE:M7?(t,e)=>(Me[7]=t[e],Me[6]=t[e+1],Me[5]=t[e+2],Me[4]=t[e+3],Me[3]=t[e+4],Me[2]=t[e+5],Me[1]=t[e+6],Me[0]=t[e+7],Yu[0]):(t,e)=>(Me[0]=t[e],Me[1]=t[e+1],Me[2]=t[e+2],Me[3]=t[e+3],Me[4]=t[e+4],Me[5]=t[e+5],Me[6]=t[e+6],Me[7]=t[e+7],Yu[0]),setInt32BE(t,e,r){return t[e+3]=r,r>>>=8,t[e+2]=r,r>>>=8,t[e+1]=r,r>>>=8,t[e]=r,4},setInt32LE(t,e,r){return t[e]=r,r>>>=8,t[e+1]=r,r>>>=8,t[e+2]=r,r>>>=8,t[e+3]=r,4},setBigInt64LE(t,e,r){let n=BigInt(4294967295),s=Number(r&n);t[e]=s,s>>=8,t[e+1]=s,s>>=8,t[e+2]=s,s>>=8,t[e+3]=s;let i=Number(r>>BigInt(32)&n);return t[e+4]=i,i>>=8,t[e+5]=i,i>>=8,t[e+6]=i,i>>=8,t[e+7]=i,8},setFloat64LE:M7?(t,e,r)=>(Yu[0]=r,t[e]=Me[7],t[e+1]=Me[6],t[e+2]=Me[5],t[e+3]=Me[4],t[e+4]=Me[3],t[e+5]=Me[2],t[e+6]=Me[1],t[e+7]=Me[0],8):(t,e,r)=>(Yu[0]=r,t[e]=Me[0],t[e+1]=Me[1],t[e+2]=Me[2],t[e+3]=Me[3],t[e+4]=Me[4],t[e+5]=Me[5],t[e+6]=Me[6],t[e+7]=Me[7],8)},zv=new RegExp("^[0-9a-fA-F]{24}$"),Ro=null,at=class extends pr{get _bsontype(){return"ObjectId"}constructor(e){super();let r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new v("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=$.fromHex(e.toHexString()):r=e.id}else r=e;if(r==null||typeof r=="number")this.buffer=at.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this.buffer=$.toLocalBufferType(r);else if(typeof r=="string")if(r.length===24&&zv.test(r))this.buffer=$.fromHex(r);else throw new v("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new v("Argument passed in does not match the accepted types");at.cacheHexString&&(this.__id=$.toHex(this.id))}get id(){return this.buffer}set id(e){this.buffer=e,at.cacheHexString&&(this.__id=$.toHex(e))}toHexString(){if(at.cacheHexString&&this.__id)return this.__id;let e=$.toHex(this.id);return at.cacheHexString&&!this.__id&&(this.__id=e),e}static getInc(){return at.index=(at.index+1)%16777215}static generate(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));let r=at.getInc(),n=$.allocateUnsafe(12);return re.setInt32BE(n,0,e),Ro===null&&(Ro=$.randomBytes(5)),n[4]=Ro[0],n[5]=Ro[1],n[6]=Ro[2],n[7]=Ro[3],n[8]=Ro[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n}toString(e){return e==="base64"?$.toBase64(this.id):e==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}static is(e){return e!=null&&typeof e=="object"&&"_bsontype"in e&&e._bsontype==="ObjectId"}equals(e){if(e==null)return!1;if(at.is(e))return this.buffer[11]===e.buffer[11]&&$.equals(this.buffer,e.buffer);if(typeof e=="string")return e.toLowerCase()===this.toHexString();if(typeof e=="object"&&typeof e.toHexString=="function"){let r=e.toHexString(),n=this.toHexString();return typeof r=="string"&&r.toLowerCase()===n}return!1}getTimestamp(){let e=new Date,r=re.getUint32BE(this.buffer,0);return e.setTime(Math.floor(r)*1e3),e}static createPk(){return new at}serializeInto(e,r){return e[r]=this.buffer[0],e[r+1]=this.buffer[1],e[r+2]=this.buffer[2],e[r+3]=this.buffer[3],e[r+4]=this.buffer[4],e[r+5]=this.buffer[5],e[r+6]=this.buffer[6],e[r+7]=this.buffer[7],e[r+8]=this.buffer[8],e[r+9]=this.buffer[9],e[r+10]=this.buffer[10],e[r+11]=this.buffer[11],12}static createFromTime(e){let r=$.allocate(12);for(let n=11;n>=4;n--)r[n]=0;return re.setInt32BE(r,0,e),new at(r)}static createFromHexString(e){if(e?.length!==24)throw new v("hex string must be 24 characters");return new at($.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new v("base64 string must be 16 characters");return new at($.fromBase64(e))}static isValid(e){if(e==null)return!1;try{return new at(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new at(e.$oid)}inspect(e,r,n){return n??(n=hn),`new ObjectId(${n(this.toHexString(),r)})`}};at.index=Math.floor(Math.random()*16777215);function Ef(t,e,r){let n=5;if(Array.isArray(t))for(let s=0;s<t.length;s++)n+=B7(s.toString(),t[s],e,!0,r);else{typeof t?.toBSON=="function"&&(t=t.toBSON());for(let s of Object.keys(t))n+=B7(s,t[s],e,!1,r)}return n}function B7(t,e,r=!1,n=!1,s=!1){switch(typeof e?.toBSON=="function"&&(e=e.toBSON()),typeof e){case"string":return 1+$.utf8ByteLength(t)+1+4+$.utf8ByteLength(e)+1;case"number":return Math.floor(e)===e&&e>=R7&&e<=I7&&e>=o1&&e<=i1?(t!=null?$.utf8ByteLength(t)+1:0)+(4+1):(t!=null?$.utf8ByteLength(t)+1:0)+(8+1);case"undefined":return n||!s?(t!=null?$.utf8ByteLength(t)+1:0)+1:0;case"boolean":return(t!=null?$.utf8ByteLength(t)+1:0)+(1+1);case"object":if(e!=null&&typeof e._bsontype=="string"&&e[Symbol.for("@@mdb.bson.version")]!==xo)throw new oi;if(e==null||e._bsontype==="MinKey"||e._bsontype==="MaxKey")return(t!=null?$.utf8ByteLength(t)+1:0)+1;if(e._bsontype==="ObjectId")return(t!=null?$.utf8ByteLength(t)+1:0)+(12+1);if(e instanceof Date||Hu(e))return(t!=null?$.utf8ByteLength(t)+1:0)+(8+1);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer||v2(e))return(t!=null?$.utf8ByteLength(t)+1:0)+(1+4+1)+e.byteLength;if(e._bsontype==="Long"||e._bsontype==="Double"||e._bsontype==="Timestamp")return(t!=null?$.utf8ByteLength(t)+1:0)+(8+1);if(e._bsontype==="Decimal128")return(t!=null?$.utf8ByteLength(t)+1:0)+(16+1);if(e._bsontype==="Code")return e.scope!=null&&Object.keys(e.scope).length>0?(t!=null?$.utf8ByteLength(t)+1:0)+1+4+4+$.utf8ByteLength(e.code.toString())+1+Ef(e.scope,r,s):(t!=null?$.utf8ByteLength(t)+1:0)+1+4+$.utf8ByteLength(e.code.toString())+1;if(e._bsontype==="Binary"){let i=e;return i.sub_type===Ae.SUBTYPE_BYTE_ARRAY?(t!=null?$.utf8ByteLength(t)+1:0)+(i.position+1+4+1+4):(t!=null?$.utf8ByteLength(t)+1:0)+(i.position+1+4+1)}else{if(e._bsontype==="Symbol")return(t!=null?$.utf8ByteLength(t)+1:0)+$.utf8ByteLength(e.value)+4+1+1;if(e._bsontype==="DBRef"){let i=Object.assign({$ref:e.collection,$id:e.oid},e.fields);return e.db!=null&&(i.$db=e.db),(t!=null?$.utf8ByteLength(t)+1:0)+1+Ef(i,r,s)}else return e instanceof RegExp||Gu(e)?(t!=null?$.utf8ByteLength(t)+1:0)+1+$.utf8ByteLength(e.source)+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1:e._bsontype==="BSONRegExp"?(t!=null?$.utf8ByteLength(t)+1:0)+1+$.utf8ByteLength(e.pattern)+1+$.utf8ByteLength(e.options)+1:(t!=null?$.utf8ByteLength(t)+1:0)+Ef(e,r,s)+1}case"function":if(r)return(t!=null?$.utf8ByteLength(t)+1:0)+1+4+$.utf8ByteLength(e.toString())+1}return 0}function Wv(t){return t.split("").sort().join("")}var Ur=class extends pr{get _bsontype(){return"BSONRegExp"}constructor(e,r){if(super(),this.pattern=e,this.options=Wv(r??""),this.pattern.indexOf("\0")!==-1)throw new v(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new v(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new v(`The regular expression option [${this.options[n]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new Ur(e.$regex,Ur.parseOptions(e.$options));if("$regularExpression"in e)return new Ur(e.$regularExpression.pattern,Ur.parseOptions(e.$regularExpression.options));throw new v(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}inspect(e,r,n){let s=gv(r)??(u=>u);n??(n=hn);let i=s(n(this.pattern),"regexp"),o=s(n(this.options),"regexp");return`new BSONRegExp(${i}, ${o})`}},ci=class extends pr{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new ci(e.$symbol)}inspect(e,r,n){return n??(n=hn),`new BSONSymbol(${n(this.value,r)})`}},Gv=w,jr=class extends Gv{get _bsontype(){return"Timestamp"}constructor(e){if(e==null)super(0,0,!0);else if(typeof e=="bigint")super(e,!0);else if(w.isLong(e))super(e.low,e.high,!0);else if(typeof e=="object"&&"t"in e&&"i"in e){if(typeof e.t!="number"&&(typeof e.t!="object"||e.t._bsontype!=="Int32"))throw new v("Timestamp constructed from { t, i } must provide t as a number");if(typeof e.i!="number"&&(typeof e.i!="object"||e.i._bsontype!=="Int32"))throw new v("Timestamp constructed from { t, i } must provide i as a number");let r=Number(e.t),n=Number(e.i);if(r<0||Number.isNaN(r))throw new v("Timestamp constructed from { t, i } must provide a positive t");if(n<0||Number.isNaN(n))throw new v("Timestamp constructed from { t, i } must provide a positive i");if(r>4294967295)throw new v("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(n>4294967295)throw new v("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(n,r,!0)}else throw new v("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new jr(w.fromInt(e,!0))}static fromNumber(e){return new jr(w.fromNumber(e,!0))}static fromBits(e,r){return new jr({i:e,t:r})}static fromString(e,r){return new jr(w.fromString(e,!0,r))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(e){let r=w.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,n=w.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new jr({t:n,i:r})}inspect(e,r,n){n??(n=hn);let s=n(this.high>>>0,r),i=n(this.low>>>0,r);return`new Timestamp({ t: ${s}, i: ${i} })`}};jr.MAX_VALUE=w.MAX_UNSIGNED_VALUE;var Hv=w.fromNumber(I7),Kv=w.fromNumber(R7);function Z7(t,e,r){e=e??{};let n=e&&e.index?e.index:0,s=re.getInt32LE(t,n);if(s<5)throw new v(`bson size must be >= 5, is ${s}`);if(e.allowObjectSmallerThanBufferSize&&t.length<s)throw new v(`buffer length ${t.length} must be >= bson size ${s}`);if(!e.allowObjectSmallerThanBufferSize&&t.length!==s)throw new v(`buffer length ${t.length} must === bson size ${s}`);if(s+n>t.byteLength)throw new v(`(bson size ${s} + options.index ${n} must be <= buffer length ${t.byteLength})`);if(t[n+s-1]!==0)throw new v("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return _f(t,n,e,r)}var Yv=/^\$ref$|^\$id$|^\$db$/;function _f(t,e,r,n=!1){let s=r.fieldsAsRaw==null?null:r.fieldsAsRaw,i=r.raw==null?!1:r.raw,o=typeof r.bsonRegExp=="boolean"?r.bsonRegExp:!1,u=r.promoteBuffers??!1,a=r.promoteLongs??!0,c=r.promoteValues??!0,l=r.useBigInt64??!1;if(l&&!c)throw new v("Must either request bigint or Long for int64 deserialization");if(l&&!a)throw new v("Must either request bigint or Long for int64 deserialization");let f=r.validation==null?{utf8:!0}:r.validation,h=!0,d,p,m=f.utf8;if(typeof m=="boolean")d=m;else{h=!1;let F=Object.keys(m).map(function(T){return m[T]});if(F.length===0)throw new v("UTF-8 validation setting cannot be empty");if(typeof F[0]!="boolean")throw new v("Invalid UTF-8 validation option, must specify boolean values");if(d=F[0],!F.every(T=>T===d))throw new v("Invalid UTF-8 validation option - keys must be all true or all false")}if(!h){p=new Set;for(let F of Object.keys(m))p.add(F)}let g=e;if(t.length<5)throw new v("corrupt bson message < 5 bytes long");let E=re.getInt32LE(t,e);if(e+=4,E<5||E>t.length)throw new v("corrupt bson message");let _=n?[]:{},A=0,C=!1,x=n?!1:null;for(;!C;){let F=t[e++];if(F===0)break;let T=e;for(;t[T]!==0&&T<t.length;)T++;if(T>=t.byteLength)throw new v("Bad BSON Document: illegal CString");let V=n?A++:$.toUTF8(t,e,T,!1),z=!0;h||p?.has(V)?z=d:z=!d,x!==!1&&V[0]==="$"&&(x=Yv.test(V));let R;if(e=T+1,F===x7){let M=re.getInt32LE(t,e);if(e+=4,M<=0||M>t.length-e||t[e+M-1]!==0)throw new v("bad string length in bson");R=$.toUTF8(t,e,e+M-1,z),e=e+M}else if(F===k7){let M=$.allocateUnsafe(12);for(let N=0;N<12;N++)M[N]=t[e+N];R=new at(M),e=e+12}else if(F===n1&&c===!1)R=new ss(re.getInt32LE(t,e)),e+=4;else if(F===n1)R=re.getInt32LE(t,e),e+=4;else if(F===q2)R=re.getFloat64LE(t,e),e+=8,c===!1&&(R=new Lr(R));else if(F===L7){let M=re.getInt32LE(t,e),N=re.getInt32LE(t,e+4);e+=8,R=new Date(new w(M,N).toNumber())}else if(F===q7){if(t[e]!==0&&t[e]!==1)throw new v("illegal boolean type value");R=t[e++]===1}else if(F===L2){let M=e,N=re.getInt32LE(t,e);if(N<=0||N>t.length-e)throw new v("bad embedded document length in bson");if(i)R=t.slice(e,e+N);else{let q=r;h||(q={...r,validation:{utf8:z}}),R=_f(t,M,q,!1)}e=e+N}else if(F===v7){let M=e,N=re.getInt32LE(t,e),q=r,K=e+N;if(s&&s[V]&&(q={...r,raw:!0}),h||(q={...q,validation:{utf8:z}}),R=_f(t,M,q,!0),e=e+N,t[e-1]!==0)throw new v("invalid array terminator byte");if(e!==K)throw new v("corrupted array bson")}else if(F===Ev)R=void 0;else if(F===U2)R=null;else if(F===z2)if(l)R=re.getBigInt64LE(t,e),e+=8;else{let M=re.getInt32LE(t,e),N=re.getInt32LE(t,e+4);e+=8;let q=new w(M,N);a&&c===!0?R=q.lessThanOrEqual(Hv)&&q.greaterThanOrEqual(Kv)?q.toNumber():q:R=q}else if(F===z7){let M=$.allocateUnsafe(16);for(let N=0;N<16;N++)M[N]=t[e+N];e=e+16,R=new Wt(M)}else if(F===j2){let M=re.getInt32LE(t,e);e+=4;let N=M,q=t[e++];if(M<0)throw new v("Negative binary type element size found");if(M>t.byteLength)throw new v("Binary type size larger than document size");if(t.slice!=null){if(q===Ae.SUBTYPE_BYTE_ARRAY){if(M=re.getInt32LE(t,e),e+=4,M<0)throw new v("Negative binary type element size found for subtype 0x02");if(M>N-4)throw new v("Binary type with subtype 0x02 contains too long binary size");if(M<N-4)throw new v("Binary type with subtype 0x02 contains too short binary size")}u&&c?R=$.toLocalBufferType(t.slice(e,e+M)):(R=new Ae(t.slice(e,e+M),q),q===Of&&Nt.isValid(R)&&(R=R.toUUID()))}else{if(q===Ae.SUBTYPE_BYTE_ARRAY){if(M=re.getInt32LE(t,e),e+=4,M<0)throw new v("Negative binary type element size found for subtype 0x02");if(M>N-4)throw new v("Binary type with subtype 0x02 contains too long binary size");if(M<N-4)throw new v("Binary type with subtype 0x02 contains too short binary size")}if(u&&c)for(R=$.allocateUnsafe(M),T=0;T<M;T++)R[T]=t[e+T];else R=new Ae(t.slice(e,e+M),q),q===Of&&Nt.isValid(R)&&(R=R.toUUID())}e=e+M}else if(F===Af&&o===!1){for(T=e;t[T]!==0&&T<t.length;)T++;if(T>=t.length)throw new v("Bad BSON Document: illegal CString");let M=$.toUTF8(t,e,T,!1);for(e=T+1,T=e;t[T]!==0&&T<t.length;)T++;if(T>=t.length)throw new v("Bad BSON Document: illegal CString");let N=$.toUTF8(t,e,T,!1);e=T+1;let q=new Array(N.length);for(T=0;T<N.length;T++)switch(N[T]){case"m":q[T]="m";break;case"s":q[T]="g";break;case"i":q[T]="i";break}R=new RegExp(M,q.join(""))}else if(F===Af&&o===!0){for(T=e;t[T]!==0&&T<t.length;)T++;if(T>=t.length)throw new v("Bad BSON Document: illegal CString");let M=$.toUTF8(t,e,T,!1);for(e=T+1,T=e;t[T]!==0&&T<t.length;)T++;if(T>=t.length)throw new v("Bad BSON Document: illegal CString");let N=$.toUTF8(t,e,T,!1);e=T+1,R=new Ur(M,N)}else if(F===j7){let M=re.getInt32LE(t,e);if(e+=4,M<=0||M>t.length-e||t[e+M-1]!==0)throw new v("bad string length in bson");let N=$.toUTF8(t,e,e+M-1,z);R=c?N:new ci(N),e=e+M}else if(F===V7)R=new jr({i:re.getUint32LE(t,e),t:re.getUint32LE(t,e+4)}),e+=8;else if(F===W7)R=new ai;else if(F===G7)R=new ui;else if(F===V2){let M=re.getInt32LE(t,e);if(e+=4,M<=0||M>t.length-e||t[e+M-1]!==0)throw new v("bad string length in bson");let N=$.toUTF8(t,e,e+M-1,z);R=new ns(N),e=e+M}else if(F===U7){let M=re.getInt32LE(t,e);if(e+=4,M<4+4+4+1)throw new v("code_w_scope total size shorter minimum expected length");let N=re.getInt32LE(t,e);if(e+=4,N<=0||N>t.length-e||t[e+N-1]!==0)throw new v("bad string length in bson");let q=$.toUTF8(t,e,e+N-1,z);e=e+N;let K=e,Ue=re.getInt32LE(t,e),hr=_f(t,K,r,!1);if(e=e+Ue,M<4+4+Ue+N)throw new v("code_w_scope total size is too short, truncating scope");if(M>4+4+Ue+N)throw new v("code_w_scope total size is too long, clips outer document");R=new ns(q,hr)}else if(F===_v){let M=re.getInt32LE(t,e);if(e+=4,M<=0||M>t.length-e||t[e+M-1]!==0)throw new v("bad string length in bson");let N=$.toUTF8(t,e,e+M-1,z);e=e+M;let q=$.allocateUnsafe(12);for(let Ue=0;Ue<12;Ue++)q[Ue]=t[e+Ue];let K=new at(q);e=e+12,R=new Nn(N,K)}else throw new v(`Detected unknown BSON type ${F.toString(16)} for fieldname "${V}"`);V==="__proto__"?Object.defineProperty(_,V,{value:R,writable:!0,enumerable:!0,configurable:!0}):_[V]=R}if(E!==e-g)throw n?new v("corrupt array bson"):new v("corrupt object bson");if(!x)return _;if(Q7(_)){let F=Object.assign({},_);return delete F.$ref,delete F.$id,delete F.$db,new Nn(_.$ref,_.$id,_.$db,F)}return _}var Cf=/\x00/,P7=new Set(["$db","$ref","$id","$clusterTime"]);function m2(t,e,r,n){t[n++]=x7;let s=$.encodeUTF8Into(t,e,n);n=n+s+1,t[n-1]=0;let i=$.encodeUTF8Into(t,r,n+4);return re.setInt32LE(t,n,i+1),n=n+4+i,t[n++]=0,n}function y2(t,e,r,n){let i=!Object.is(r,-0)&&Number.isSafeInteger(r)&&r<=i1&&r>=o1?n1:q2;t[n++]=i;let o=$.encodeUTF8Into(t,e,n);return n=n+o,t[n++]=0,i===n1?n+=re.setInt32LE(t,n,r):n+=re.setFloat64LE(t,n,r),n}function g2(t,e,r,n){t[n++]=z2;let s=$.encodeUTF8Into(t,e,n);return n+=s,t[n++]=0,n+=re.setBigInt64LE(t,n,r),n}function r1(t,e,r,n){t[n++]=U2;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n}function E2(t,e,r,n){t[n++]=q7;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,t[n++]=r?1:0,n}function _2(t,e,r,n){t[n++]=L7;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=w.fromNumber(r.getTime()),o=i.getLowBits(),u=i.getHighBits();return n+=re.setInt32LE(t,n,o),n+=re.setInt32LE(t,n,u),n}function A2(t,e,r,n){t[n++]=Af;let s=$.encodeUTF8Into(t,e,n);if(n=n+s,t[n++]=0,r.source&&r.source.match(Cf)!=null)throw new v("value "+r.source+" must not contain null bytes");return n=n+$.encodeUTF8Into(t,r.source,n),t[n++]=0,r.ignoreCase&&(t[n++]=105),r.global&&(t[n++]=115),r.multiline&&(t[n++]=109),t[n++]=0,n}function O2(t,e,r,n){t[n++]=Af;let s=$.encodeUTF8Into(t,e,n);if(n=n+s,t[n++]=0,r.pattern.match(Cf)!=null)throw new v("pattern "+r.pattern+" must not contain null bytes");n=n+$.encodeUTF8Into(t,r.pattern,n),t[n++]=0;let i=r.options.split("").sort().join("");return n=n+$.encodeUTF8Into(t,i,n),t[n++]=0,n}function C2(t,e,r,n){r===null?t[n++]=U2:r._bsontype==="MinKey"?t[n++]=W7:t[n++]=G7;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n}function S2(t,e,r,n){t[n++]=k7;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n+=r.serializeInto(t,n),n}function w2(t,e,r,n){t[n++]=j2;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.length;if(n+=re.setInt32LE(t,n,i),t[n++]=Av,i<=16)for(let o=0;o<i;o++)t[n+o]=r[o];else t.set(r,n);return n=n+i,n}function b2(t,e,r,n,s,i,o,u,a){if(a.has(r))throw new v("Cannot convert circular structure to BSON");a.add(r),t[n++]=Array.isArray(r)?v7:L2;let c=$.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=u1(t,r,s,n,i+1,o,u,a);return a.delete(r),l}function D2(t,e,r,n){t[n++]=z7;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;for(let i=0;i<16;i++)t[n+i]=r.bytes[i];return n+16}function T2(t,e,r,n){t[n++]=r._bsontype==="Long"?z2:V7;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.getLowBits(),o=r.getHighBits();return n+=re.setInt32LE(t,n,i),n+=re.setInt32LE(t,n,o),n}function M2(t,e,r,n){r=r.valueOf(),t[n++]=n1;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n+=re.setInt32LE(t,n,r),n}function B2(t,e,r,n){t[n++]=q2;let s=$.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n+=re.setFloat64LE(t,n,r.value),n}function P2(t,e,r,n){t[n++]=V2;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.toString(),o=$.encodeUTF8Into(t,i,n+4)+1;return re.setInt32LE(t,n,o),n=n+4+o-1,t[n++]=0,n}function F2(t,e,r,n,s=!1,i=0,o=!1,u=!0,a){if(r.scope&&typeof r.scope=="object"){t[n++]=U7;let c=$.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=n,f=r.code;n=n+4;let h=$.encodeUTF8Into(t,f,n+4)+1;re.setInt32LE(t,n,h),t[n+4+h-1]=0,n=n+h+4;let d=u1(t,r.scope,s,n,i+1,o,u,a);n=d-1;let p=d-l;l+=re.setInt32LE(t,l,p),t[n++]=0}else{t[n++]=V2;let c=$.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=r.code.toString(),f=$.encodeUTF8Into(t,l,n+4)+1;re.setInt32LE(t,n,f),n=n+4+f-1,t[n++]=0}return n}function N2(t,e,r,n){t[n++]=j2;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.buffer,o=r.position;if(r.sub_type===Ae.SUBTYPE_BYTE_ARRAY&&(o=o+4),n+=re.setInt32LE(t,n,o),t[n++]=r.sub_type,r.sub_type===Ae.SUBTYPE_BYTE_ARRAY&&(o=o-4,n+=re.setInt32LE(t,n,o)),o<=16)for(let u=0;u<o;u++)t[n+u]=i[u];else t.set(i,n);return n=n+r.position,n}function $2(t,e,r,n){t[n++]=j7;let s=$.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=$.encodeUTF8Into(t,r.value,n+4)+1;return re.setInt32LE(t,n,i),n=n+4+i-1,t[n++]=0,n}function I2(t,e,r,n,s,i,o){t[n++]=L2;let u=$.encodeUTF8Into(t,e,n);n=n+u,t[n++]=0;let a=n,c={$ref:r.collection||r.namespace,$id:r.oid};r.db!=null&&(c.$db=r.db),c=Object.assign(c,r.fields);let l=u1(t,c,!1,n,s+1,i,!0,o),f=l-a;return a+=re.setInt32LE(t,n,f),l}function u1(t,e,r,n,s,i,o,u){if(u==null){if(e==null)return t[0]=5,t[1]=0,t[2]=0,t[3]=0,t[4]=0,5;if(Array.isArray(e))throw new v("serialize does not support an array as the root input");if(typeof e!="object")throw new v("serialize does not support non-object as the root input");if("_bsontype"in e&&typeof e._bsontype=="string")throw new v("BSON types cannot be serialized as a document");if(Hu(e)||Gu(e)||Wu(e)||v2(e))throw new v("date, regexp, typedarray, and arraybuffer cannot be BSON documents");u=new Set}u.add(e);let a=n+4;if(Array.isArray(e))for(let l=0;l<e.length;l++){let f=`${l}`,h=e[l];if(typeof h?.toBSON=="function"&&(h=h.toBSON()),typeof h=="string")a=m2(t,f,h,a);else if(typeof h=="number")a=y2(t,f,h,a);else if(typeof h=="bigint")a=g2(t,f,h,a);else if(typeof h=="boolean")a=E2(t,f,h,a);else if(h instanceof Date||Hu(h))a=_2(t,f,h,a);else if(h===void 0)a=r1(t,f,h,a);else if(h===null)a=r1(t,f,h,a);else if(Wu(h))a=w2(t,f,h,a);else if(h instanceof RegExp||Gu(h))a=A2(t,f,h,a);else if(typeof h=="object"&&h._bsontype==null)a=b2(t,f,h,a,r,s,i,o,u);else{if(typeof h=="object"&&h[Symbol.for("@@mdb.bson.version")]!==xo)throw new oi;if(h._bsontype==="ObjectId")a=S2(t,f,h,a);else if(h._bsontype==="Decimal128")a=D2(t,f,h,a);else if(h._bsontype==="Long"||h._bsontype==="Timestamp")a=T2(t,f,h,a);else if(h._bsontype==="Double")a=B2(t,f,h,a);else if(typeof h=="function"&&i)a=P2(t,f,h,a);else if(h._bsontype==="Code")a=F2(t,f,h,a,r,s,i,o,u);else if(h._bsontype==="Binary")a=N2(t,f,h,a);else if(h._bsontype==="BSONSymbol")a=$2(t,f,h,a);else if(h._bsontype==="DBRef")a=I2(t,f,h,a,s,i,u);else if(h._bsontype==="BSONRegExp")a=O2(t,f,h,a);else if(h._bsontype==="Int32")a=M2(t,f,h,a);else if(h._bsontype==="MinKey"||h._bsontype==="MaxKey")a=C2(t,f,h,a);else if(typeof h._bsontype<"u")throw new v(`Unrecognized or invalid _bsontype: ${String(h._bsontype)}`)}}else if(e instanceof Map||k2(e)){let l=e.entries(),f=!1;for(;!f;){let h=l.next();if(f=!!h.done,f)continue;let d=h.value[0],p=h.value[1];typeof p?.toBSON=="function"&&(p=p.toBSON());let m=typeof p;if(typeof d=="string"&&!P7.has(d)){if(d.match(Cf)!=null)throw new v("key "+d+" must not contain null bytes");if(r){if(d[0]==="$")throw new v("key "+d+" must not start with '$'");if(d.includes("."))throw new v("key "+d+" must not contain '.'")}}if(m==="string")a=m2(t,d,p,a);else if(m==="number")a=y2(t,d,p,a);else if(m==="bigint")a=g2(t,d,p,a);else if(m==="boolean")a=E2(t,d,p,a);else if(p instanceof Date||Hu(p))a=_2(t,d,p,a);else if(p===null||p===void 0&&o===!1)a=r1(t,d,p,a);else if(Wu(p))a=w2(t,d,p,a);else if(p instanceof RegExp||Gu(p))a=A2(t,d,p,a);else if(m==="object"&&p._bsontype==null)a=b2(t,d,p,a,r,s,i,o,u);else{if(typeof p=="object"&&p[Symbol.for("@@mdb.bson.version")]!==xo)throw new oi;if(p._bsontype==="ObjectId")a=S2(t,d,p,a);else if(m==="object"&&p._bsontype==="Decimal128")a=D2(t,d,p,a);else if(p._bsontype==="Long"||p._bsontype==="Timestamp")a=T2(t,d,p,a);else if(p._bsontype==="Double")a=B2(t,d,p,a);else if(p._bsontype==="Code")a=F2(t,d,p,a,r,s,i,o,u);else if(typeof p=="function"&&i)a=P2(t,d,p,a);else if(p._bsontype==="Binary")a=N2(t,d,p,a);else if(p._bsontype==="BSONSymbol")a=$2(t,d,p,a);else if(p._bsontype==="DBRef")a=I2(t,d,p,a,s,i,u);else if(p._bsontype==="BSONRegExp")a=O2(t,d,p,a);else if(p._bsontype==="Int32")a=M2(t,d,p,a);else if(p._bsontype==="MinKey"||p._bsontype==="MaxKey")a=C2(t,d,p,a);else if(typeof p._bsontype<"u")throw new v(`Unrecognized or invalid _bsontype: ${String(p._bsontype)}`)}}}else{if(typeof e?.toBSON=="function"&&(e=e.toBSON(),e!=null&&typeof e!="object"))throw new v("toBSON function did not return an object");for(let l of Object.keys(e)){let f=e[l];typeof f?.toBSON=="function"&&(f=f.toBSON());let h=typeof f;if(typeof l=="string"&&!P7.has(l)){if(l.match(Cf)!=null)throw new v("key "+l+" must not contain null bytes");if(r){if(l[0]==="$")throw new v("key "+l+" must not start with '$'");if(l.includes("."))throw new v("key "+l+" must not contain '.'")}}if(h==="string")a=m2(t,l,f,a);else if(h==="number")a=y2(t,l,f,a);else if(h==="bigint")a=g2(t,l,f,a);else if(h==="boolean")a=E2(t,l,f,a);else if(f instanceof Date||Hu(f))a=_2(t,l,f,a);else if(f===void 0)o===!1&&(a=r1(t,l,f,a));else if(f===null)a=r1(t,l,f,a);else if(Wu(f))a=w2(t,l,f,a);else if(f instanceof RegExp||Gu(f))a=A2(t,l,f,a);else if(h==="object"&&f._bsontype==null)a=b2(t,l,f,a,r,s,i,o,u);else{if(typeof f=="object"&&f[Symbol.for("@@mdb.bson.version")]!==xo)throw new oi;if(f._bsontype==="ObjectId")a=S2(t,l,f,a);else if(h==="object"&&f._bsontype==="Decimal128")a=D2(t,l,f,a);else if(f._bsontype==="Long"||f._bsontype==="Timestamp")a=T2(t,l,f,a);else if(f._bsontype==="Double")a=B2(t,l,f,a);else if(f._bsontype==="Code")a=F2(t,l,f,a,r,s,i,o,u);else if(typeof f=="function"&&i)a=P2(t,l,f,a);else if(f._bsontype==="Binary")a=N2(t,l,f,a);else if(f._bsontype==="BSONSymbol")a=$2(t,l,f,a);else if(f._bsontype==="DBRef")a=I2(t,l,f,a,s,i,u);else if(f._bsontype==="BSONRegExp")a=O2(t,l,f,a);else if(f._bsontype==="Int32")a=M2(t,l,f,a);else if(f._bsontype==="MinKey"||f._bsontype==="MaxKey")a=C2(t,l,f,a);else if(typeof f._bsontype<"u")throw new v(`Unrecognized or invalid _bsontype: ${String(f._bsontype)}`)}}}u.delete(e),t[a++]=0;let c=a-n;return n+=re.setInt32LE(t,n,c),a}function Qv(t){return t!=null&&typeof t=="object"&&"_bsontype"in t&&typeof t._bsontype=="string"}var Jv={$oid:at,$binary:Ae,$uuid:Ae,$symbol:ci,$numberInt:ss,$numberDecimal:Wt,$numberDouble:Lr,$numberLong:w,$minKey:ai,$maxKey:ui,$regex:Ur,$regularExpression:Ur,$timestamp:jr};function e8(t,e={}){if(typeof t=="number"){let n=t<=i1&&t>=o1,s=t<=N7&&t>=$7;if(e.relaxed||e.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(n)return new ss(t);if(s)return e.useBigInt64?BigInt(t):w.fromNumber(t)}return new Lr(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;let r=Object.keys(t).filter(n=>n.startsWith("$")&&t[n]!=null);for(let n=0;n<r.length;n++){let s=Jv[r[n]];if(s)return s.fromExtendedJSON(t,e)}if(t.$date!=null){let n=t.$date,s=new Date;if(e.legacy)if(typeof n=="number")s.setTime(n);else if(typeof n=="string")s.setTime(Date.parse(n));else if(typeof n=="bigint")s.setTime(Number(n));else throw new Qu(`Unrecognized type for EJSON date: ${typeof n}`);else if(typeof n=="string")s.setTime(Date.parse(n));else if(w.isLong(n))s.setTime(n.toNumber());else if(typeof n=="number"&&e.relaxed)s.setTime(n);else if(typeof n=="bigint")s.setTime(Number(n));else throw new Qu(`Unrecognized type for EJSON date: ${typeof n}`);return s}if(t.$code!=null){let n=Object.assign({},t);return t.$scope&&(n.$scope=e8(t.$scope)),ns.fromExtendedJSON(t)}if(Q7(t)||t.$dbPointer){let n=t.$ref?t:t.$dbPointer;if(n instanceof Nn)return n;let s=Object.keys(n).filter(o=>o.startsWith("$")),i=!0;if(s.forEach(o=>{["$ref","$id","$db"].indexOf(o)===-1&&(i=!1)}),i)return Nn.fromExtendedJSON(n)}return t}function Xv(t,e){return t.map((r,n)=>{e.seenObjects.push({propertyName:`index ${n}`,obj:null});try{return ii(r,e)}finally{e.seenObjects.pop()}})}function F7(t){let e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function ii(t,e){if(t instanceof Map||k2(t)){let r=Object.create(null);for(let[n,s]of t){if(typeof n!="string")throw new v("Can only serialize maps with string keys");r[n]=s}return ii(r,e)}if((typeof t=="object"||typeof t=="function")&&t!==null){let r=e.seenObjects.findIndex(n=>n.obj===t);if(r!==-1){let n=e.seenObjects.map(l=>l.propertyName),s=n.slice(0,r).map(l=>`${l} -> `).join(""),i=n[r],o=" -> "+n.slice(r+1,n.length-1).map(l=>`${l} -> `).join(""),u=n[n.length-1],a=" ".repeat(s.length+i.length/2),c="-".repeat(o.length+(i.length+u.length)/2-1);throw new v(`Converting circular structure to EJSON:
    ${s}${i}${o}${u}
    ${a}\\${c}/`)}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return Xv(t,e);if(t===void 0)return null;if(t instanceof Date||Hu(t)){let r=t.getTime(),n=r>-1&&r<2534023188e5;return e.legacy?e.relaxed&&n?{$date:t.getTime()}:{$date:F7(t)}:e.relaxed&&n?{$date:F7(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=o1&&t<=i1)return{$numberInt:t.toString()};if(t>=$7&&t<=N7)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if(typeof t=="bigint")return e.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||Gu(t)){let r=t.flags;if(r===void 0){let s=t.toString().match(/[gimuy]*$/);s&&(r=s[0])}return new Ur(t.source,r).toExtendedJSON(e)}return t!=null&&typeof t=="object"?ek(t,e):t}var Zv={Binary:t=>new Ae(t.value(),t.sub_type),Code:t=>new ns(t.code,t.scope),DBRef:t=>new Nn(t.collection||t.namespace,t.oid,t.db,t.fields),Decimal128:t=>new Wt(t.bytes),Double:t=>new Lr(t.value),Int32:t=>new ss(t.value),Long:t=>w.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_),MaxKey:()=>new ui,MinKey:()=>new ai,ObjectId:t=>new at(t),BSONRegExp:t=>new Ur(t.pattern,t.options),BSONSymbol:t=>new ci(t.value),Timestamp:t=>jr.fromBits(t.low,t.high)};function ek(t,e){if(t==null||typeof t!="object")throw new v("not an object instance");let r=t._bsontype;if(typeof r>"u"){let n={};for(let s of Object.keys(t)){e.seenObjects.push({propertyName:s,obj:null});try{let i=ii(t[s],e);s==="__proto__"?Object.defineProperty(n,s,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[s]=i}finally{e.seenObjects.pop()}}return n}else{if(t!=null&&typeof t=="object"&&typeof t._bsontype=="string"&&t[Symbol.for("@@mdb.bson.version")]!==xo)throw new oi;if(Qv(t)){let n=t;if(typeof n.toExtendedJSON!="function"){let s=Zv[t._bsontype];if(!s)throw new v("Unrecognized or invalid _bsontype: "+t._bsontype);n=s(n)}return r==="Code"&&n.scope?n=new ns(n.code,ii(n.scope,e)):r==="DBRef"&&n.oid&&(n=new Nn(ii(n.collection,e),ii(n.oid,e),ii(n.db,e),ii(n.fields,e))),n.toExtendedJSON(e)}else throw new v("_bsontype must be a string, but was: "+typeof r)}}function t8(t,e){let r={useBigInt64:e?.useBigInt64??!1,relaxed:e?.relaxed??!0,legacy:e?.legacy??!1};return JSON.parse(t,(n,s)=>{if(n.indexOf("\0")!==-1)throw new v(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(n)}`);return e8(s,r)})}function r8(t,e,r,n){r!=null&&typeof r=="object"&&(n=r,r=0),e!=null&&typeof e=="object"&&!Array.isArray(e)&&(n=e,e=void 0,r=0);let s=Object.assign({relaxed:!0,legacy:!1},n,{seenObjects:[{propertyName:"(root)",obj:null}]}),i=ii(t,s);return JSON.stringify(i,e,r)}function tk(t,e){return e=e||{},JSON.parse(r8(t,e))}function rk(t,e){return e=e||{},t8(JSON.stringify(t),e)}var vo=Object.create(null);vo.parse=t8;vo.stringify=r8;vo.serialize=tk;vo.deserialize=rk;Object.freeze(vo);function R2(t,e){try{return re.getNonnegativeInt32LE(t,e)}catch(r){throw new Fn("BSON size cannot be negative",e,{cause:r})}}function x2(t,e){let r=e;for(;t[r]!==0;r++);if(r===t.length-1)throw new Fn("Null terminator not found",e);return r}function nk(t,e=0){if(e??(e=0),t.length<5)throw new Fn(`Input must be at least 5 bytes, got ${t.length} bytes`,e);let r=R2(t,e);if(r>t.length-e)throw new Fn(`Parsed documentSize (${r} bytes) does not match input length (${t.length} bytes)`,e);if(t[e+r-1]!==0)throw new Fn("BSON documents must end in 0x00",e+r);let n=[],s=e+4;for(;s<=r+e;){let i=t[s];if(s+=1,i===0){if(s-e!==r)throw new Fn("Invalid 0x00 type byte",s);break}let o=s,u=x2(t,s)-o;s+=u+1;let a;if(i===1||i===18||i===9||i===17)a=8;else if(i===16)a=4;else if(i===7)a=12;else if(i===19)a=16;else if(i===8)a=1;else if(i===10||i===6||i===127||i===255)a=0;else if(i===11)a=x2(t,x2(t,s)+1)+1-s;else if(i===3||i===4||i===15)a=R2(t,s);else if(i===2||i===5||i===12||i===13||i===14)a=R2(t,s)+4,i===5&&(a+=1),i===12&&(a+=12);else throw new Fn(`Invalid 0x${i.toString(16).padStart(2,"0")} type byte`,s);if(a>r)throw new Fn("value reports length larger than document",s);n.push([i,o,u,s,a]),s+=a}return n}var Ju=Object.create(null);Ju.parseToElements=nk;Ju.ByteUtils=$;Ju.NumberUtils=re;Object.freeze(Ju);var n8=1024*1024*17,Ki=$.allocate(n8);function s8(t){Ki.length<t&&(Ki=$.allocate(t))}function i8(t,e={}){let r=typeof e.checkKeys=="boolean"?e.checkKeys:!1,n=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,s=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0,i=typeof e.minInternalBufferSize=="number"?e.minInternalBufferSize:n8;Ki.length<i&&(Ki=$.allocate(i));let o=u1(Ki,t,r,0,0,n,s,null),u=$.allocateUnsafe(o);return u.set(Ki.subarray(0,o),0),u}function o8(t,e,r={}){let n=typeof r.checkKeys=="boolean"?r.checkKeys:!1,s=typeof r.serializeFunctions=="boolean"?r.serializeFunctions:!1,i=typeof r.ignoreUndefined=="boolean"?r.ignoreUndefined:!0,o=typeof r.index=="number"?r.index:0,u=u1(Ki,t,n,0,0,s,i,null);return e.set(Ki.subarray(0,u),o),o+u-1}function u8(t,e={}){return Z7($.toLocalBufferType(t),e)}function a8(t,e={}){e=e||{};let r=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,n=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0;return Ef(t,r,n)}function c8(t,e,r,n,s,i){let o=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),u=$.toLocalBufferType(t),a=e;for(let c=0;c<r;c++){let l=re.getInt32LE(u,a);o.index=a,n[s+c]=Z7(u,o),a=a+l}return a}var sk=Object.freeze({__proto__:null,BSONError:v,BSONOffsetError:Fn,BSONRegExp:Ur,BSONRuntimeError:Qu,BSONSymbol:ci,BSONType:H7,BSONValue:pr,BSONVersionError:oi,Binary:Ae,Code:ns,DBRef:Nn,Decimal128:Wt,Double:Lr,EJSON:vo,Int32:ss,Long:w,MaxKey:ui,MinKey:ai,ObjectId:at,Timestamp:jr,UUID:Nt,calculateObjectSize:a8,deserialize:u8,deserializeStream:c8,onDemand:Ju,serialize:i8,serializeWithBufferAndIndex:o8,setInternalBufferSize:s8});Le.BSON=sk;Le.BSONError=v;Le.BSONOffsetError=Fn;Le.BSONRegExp=Ur;Le.BSONRuntimeError=Qu;Le.BSONSymbol=ci;Le.BSONType=H7;Le.BSONValue=pr;Le.BSONVersionError=oi;Le.Binary=Ae;Le.Code=ns;Le.DBRef=Nn;Le.Decimal128=Wt;Le.Double=Lr;Le.EJSON=vo;Le.Int32=ss;Le.Long=w;Le.MaxKey=ui;Le.MinKey=ai;Le.ObjectId=at;Le.Timestamp=jr;Le.UUID=Nt;Le.calculateObjectSize=a8;Le.deserialize=u8;Le.deserializeStream=c8;Le.onDemand=Ju;Le.serialize=i8;Le.serializeWithBufferAndIndex=o8;Le.setInternalBufferSize=s8});var Ke=y(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.resolveBSONOptions=ue.pluckBSONSerializeOptions=ue.UUID=ue.Timestamp=ue.serialize=ue.ObjectId=ue.MinKey=ue.MaxKey=ue.Long=ue.Int32=ue.EJSON=ue.Double=ue.deserialize=ue.Decimal128=ue.DBRef=ue.Code=ue.calculateObjectSize=ue.BSONType=ue.BSONSymbol=ue.BSONRegExp=ue.BSON=ue.Binary=void 0;var $t=is();Object.defineProperty(ue,"Binary",{enumerable:!0,get:function(){return $t.Binary}});Object.defineProperty(ue,"BSON",{enumerable:!0,get:function(){return $t.BSON}});Object.defineProperty(ue,"BSONRegExp",{enumerable:!0,get:function(){return $t.BSONRegExp}});Object.defineProperty(ue,"BSONSymbol",{enumerable:!0,get:function(){return $t.BSONSymbol}});Object.defineProperty(ue,"BSONType",{enumerable:!0,get:function(){return $t.BSONType}});Object.defineProperty(ue,"calculateObjectSize",{enumerable:!0,get:function(){return $t.calculateObjectSize}});Object.defineProperty(ue,"Code",{enumerable:!0,get:function(){return $t.Code}});Object.defineProperty(ue,"DBRef",{enumerable:!0,get:function(){return $t.DBRef}});Object.defineProperty(ue,"Decimal128",{enumerable:!0,get:function(){return $t.Decimal128}});Object.defineProperty(ue,"deserialize",{enumerable:!0,get:function(){return $t.deserialize}});Object.defineProperty(ue,"Double",{enumerable:!0,get:function(){return $t.Double}});Object.defineProperty(ue,"EJSON",{enumerable:!0,get:function(){return $t.EJSON}});Object.defineProperty(ue,"Int32",{enumerable:!0,get:function(){return $t.Int32}});Object.defineProperty(ue,"Long",{enumerable:!0,get:function(){return $t.Long}});Object.defineProperty(ue,"MaxKey",{enumerable:!0,get:function(){return $t.MaxKey}});Object.defineProperty(ue,"MinKey",{enumerable:!0,get:function(){return $t.MinKey}});Object.defineProperty(ue,"ObjectId",{enumerable:!0,get:function(){return $t.ObjectId}});Object.defineProperty(ue,"serialize",{enumerable:!0,get:function(){return $t.serialize}});Object.defineProperty(ue,"Timestamp",{enumerable:!0,get:function(){return $t.Timestamp}});Object.defineProperty(ue,"UUID",{enumerable:!0,get:function(){return $t.UUID}});function ik(t){let{fieldsAsRaw:e,useBigInt64:r,promoteValues:n,promoteBuffers:s,promoteLongs:i,serializeFunctions:o,ignoreUndefined:u,bsonRegExp:a,raw:c,enableUtf8Validation:l}=t;return{fieldsAsRaw:e,useBigInt64:r,promoteValues:n,promoteBuffers:s,promoteLongs:i,serializeFunctions:o,ignoreUndefined:u,bsonRegExp:a,raw:c,enableUtf8Validation:l}}ue.pluckBSONSerializeOptions=ik;function ok(t,e){let r=e?.bsonOptions;return{raw:t?.raw??r?.raw??!1,useBigInt64:t?.useBigInt64??r?.useBigInt64??!1,promoteLongs:t?.promoteLongs??r?.promoteLongs??!0,promoteValues:t?.promoteValues??r?.promoteValues??!0,promoteBuffers:t?.promoteBuffers??r?.promoteBuffers??!1,ignoreUndefined:t?.ignoreUndefined??r?.ignoreUndefined??!1,bsonRegExp:t?.bsonRegExp??r?.bsonRegExp??!1,serializeFunctions:t?.serializeFunctions??r?.serializeFunctions??!1,fieldsAsRaw:t?.fieldsAsRaw??r?.fieldsAsRaw??{},enableUtf8Validation:t?.enableUtf8Validation??r?.enableUtf8Validation??!0}}ue.resolveBSONOptions=ok});var Y=y(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.isResumableError=P.isNetworkTimeoutError=P.isSDAMUnrecoverableError=P.isNodeShuttingDownError=P.isRetryableReadError=P.isRetryableWriteError=P.needsRetryableWriteLabel=P.MongoWriteConcernError=P.MongoServerSelectionError=P.MongoSystemError=P.MongoMissingDependencyError=P.MongoMissingCredentialsError=P.MongoCompatibilityError=P.MongoInvalidArgumentError=P.MongoParseError=P.MongoNetworkTimeoutError=P.MongoNetworkError=P.isNetworkErrorBeforeHandshake=P.MongoTopologyClosedError=P.MongoCursorExhaustedError=P.MongoServerClosedError=P.MongoCursorInUseError=P.MongoUnexpectedServerResponseError=P.MongoGridFSChunkError=P.MongoGridFSStreamError=P.MongoTailableCursorError=P.MongoChangeStreamError=P.MongoAzureError=P.MongoAWSError=P.MongoKerberosError=P.MongoExpiredSessionError=P.MongoTransactionError=P.MongoNotConnectedError=P.MongoDecompressionError=P.MongoBatchReExecutionError=P.MongoRuntimeError=P.MongoAPIError=P.MongoDriverError=P.MongoServerError=P.MongoError=P.MongoErrorLabel=P.GET_MORE_RESUMABLE_CODES=P.MONGODB_ERROR_CODES=P.NODE_IS_RECOVERING_ERROR_MESSAGE=P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var a1=Symbol("errorLabels");P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");P.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");P.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});P.GET_MORE_RESUMABLE_CODES=new Set([P.MONGODB_ERROR_CODES.HostUnreachable,P.MONGODB_ERROR_CODES.HostNotFound,P.MONGODB_ERROR_CODES.NetworkTimeout,P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.ExceededTimeLimit,P.MONGODB_ERROR_CODES.SocketException,P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,P.MONGODB_ERROR_CODES.StaleShardVersion,P.MONGODB_ERROR_CODES.StaleEpoch,P.MONGODB_ERROR_CODES.StaleConfig,P.MONGODB_ERROR_CODES.RetryChangeStream,P.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,P.MONGODB_ERROR_CODES.CursorNotFound]);P.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",PoolRequstedRetry:"PoolRequstedRetry",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});function uk(t){return t!=null&&typeof t=="object"&&"errors"in t&&Array.isArray(t.errors)}var os=class extends Error{constructor(e,r){super(e,r),this[a1]=new Set}static buildErrorMessage(e){return typeof e=="string"?e:uk(e)&&e.message.length===0?e.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":e.errors.map(({message:r})=>r).join(", "):e!=null&&typeof e=="object"&&"message"in e&&typeof e.message=="string"?e.message:"empty error message"}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(e){return this[a1].has(e)}addErrorLabel(e){this[a1].add(e)}get errorLabels(){return Array.from(this[a1])}};P.MongoError=os;var Sf=class extends os{constructor(e){super(e.message||e.errmsg||e.$err||"n/a"),e.errorLabels&&(this[a1]=new Set(e.errorLabels)),this.errorResponse=e;for(let r in e)r!=="errorLabels"&&r!=="errmsg"&&r!=="message"&&r!=="errorResponse"&&(this[r]=e[r])}get name(){return"MongoServerError"}};P.MongoServerError=Sf;var Xu=class extends os{constructor(e,r){super(e,r)}get name(){return"MongoDriverError"}};P.MongoDriverError=Xu;var mr=class extends Xu{constructor(e,r){super(e,r)}get name(){return"MongoAPIError"}};P.MongoAPIError=mr;var us=class extends Xu{constructor(e,r){super(e,r)}get name(){return"MongoRuntimeError"}};P.MongoRuntimeError=us;var W2=class extends mr{constructor(e="This batch has already been executed, create new batch to execute"){super(e)}get name(){return"MongoBatchReExecutionError"}};P.MongoBatchReExecutionError=W2;var G2=class extends us{constructor(e){super(e)}get name(){return"MongoDecompressionError"}};P.MongoDecompressionError=G2;var H2=class extends mr{constructor(e){super(e)}get name(){return"MongoNotConnectedError"}};P.MongoNotConnectedError=H2;var K2=class extends mr{constructor(e){super(e)}get name(){return"MongoTransactionError"}};P.MongoTransactionError=K2;var Y2=class extends mr{constructor(e="Cannot use a session that has ended"){super(e)}get name(){return"MongoExpiredSessionError"}};P.MongoExpiredSessionError=Y2;var Q2=class extends us{constructor(e){super(e)}get name(){return"MongoKerberosError"}};P.MongoKerberosError=Q2;var J2=class extends us{constructor(e){super(e)}get name(){return"MongoAWSError"}};P.MongoAWSError=J2;var X2=class extends us{constructor(e){super(e)}get name(){return"MongoAzureError"}};P.MongoAzureError=X2;var Z2=class extends us{constructor(e){super(e)}get name(){return"MongoChangeStreamError"}};P.MongoChangeStreamError=Z2;var ey=class extends mr{constructor(e="Tailable cursor does not support this operation"){super(e)}get name(){return"MongoTailableCursorError"}};P.MongoTailableCursorError=ey;var ty=class extends us{constructor(e){super(e)}get name(){return"MongoGridFSStreamError"}};P.MongoGridFSStreamError=ty;var ry=class extends us{constructor(e){super(e)}get name(){return"MongoGridFSChunkError"}};P.MongoGridFSChunkError=ry;var ny=class extends us{constructor(e){super(e)}get name(){return"MongoUnexpectedServerResponseError"}};P.MongoUnexpectedServerResponseError=ny;var sy=class extends mr{constructor(e="Cursor is already initialized"){super(e)}get name(){return"MongoCursorInUseError"}};P.MongoCursorInUseError=sy;var iy=class extends mr{constructor(e="Server is closed"){super(e)}get name(){return"MongoServerClosedError"}};P.MongoServerClosedError=iy;var oy=class extends mr{constructor(e){super(e||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}};P.MongoCursorExhaustedError=oy;var uy=class extends mr{constructor(e="Topology is closed"){super(e)}get name(){return"MongoTopologyClosedError"}};P.MongoTopologyClosedError=uy;var f8=Symbol("beforeHandshake");function ak(t){return t[f8]===!0}P.isNetworkErrorBeforeHandshake=ak;var Yi=class extends os{constructor(e,r){super(e,{cause:r?.cause}),r&&typeof r.beforeHandshake=="boolean"&&(this[f8]=r.beforeHandshake)}get name(){return"MongoNetworkError"}};P.MongoNetworkError=Yi;var ay=class extends Yi{constructor(e,r){super(e,r)}get name(){return"MongoNetworkTimeoutError"}};P.MongoNetworkTimeoutError=ay;var wf=class extends Xu{constructor(e){super(e)}get name(){return"MongoParseError"}};P.MongoParseError=wf;var cy=class extends mr{constructor(e){super(e)}get name(){return"MongoInvalidArgumentError"}};P.MongoInvalidArgumentError=cy;var ly=class extends mr{constructor(e){super(e)}get name(){return"MongoCompatibilityError"}};P.MongoCompatibilityError=ly;var fy=class extends mr{constructor(e){super(e)}get name(){return"MongoMissingCredentialsError"}};P.MongoMissingCredentialsError=fy;var hy=class extends mr{constructor(e,r={}){super(e,r)}get name(){return"MongoMissingDependencyError"}};P.MongoMissingDependencyError=hy;var bf=class extends os{constructor(e,r){r&&r.error?super(os.buildErrorMessage(r.error.message||r.error),{cause:r.error}):super(e),r&&(this.reason=r),this.code=r.error?.code}get name(){return"MongoSystemError"}};P.MongoSystemError=bf;var dy=class extends bf{constructor(e,r){super(e,r)}get name(){return"MongoServerSelectionError"}};P.MongoServerSelectionError=dy;function ck(t){let e=Object.assign({},t);return e.ok===0&&(e.ok=1,delete e.errmsg,delete e.code,delete e.codeName),e}var Df=class extends Sf{constructor(e,r){r&&Array.isArray(r.errorLabels)&&(e.errorLabels=r.errorLabels),super(e),this.errInfo=e.errInfo,r!=null&&(this.result=ck(r))}get name(){return"MongoWriteConcernError"}};P.MongoWriteConcernError=Df;var h8=new Set([P.MONGODB_ERROR_CODES.HostUnreachable,P.MONGODB_ERROR_CODES.HostNotFound,P.MONGODB_ERROR_CODES.NetworkTimeout,P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.SocketException,P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,P.MONGODB_ERROR_CODES.ExceededTimeLimit]),l8=h8;function lk(t,e){return t instanceof Yi?!0:t instanceof os&&(e>=9||d8(t))&&!t.hasErrorLabel(P.MongoErrorLabel.HandshakeError)?!1:t instanceof Df?l8.has(t.result?.code??t.code??0):t instanceof os&&typeof t.code=="number"?l8.has(t.code):!!(P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}P.needsRetryableWriteLabel=lk;function d8(t){return t.hasErrorLabel(P.MongoErrorLabel.RetryableWriteError)||t.hasErrorLabel(P.MongoErrorLabel.PoolRequstedRetry)}P.isRetryableWriteError=d8;function fk(t){return!!((typeof t.code=="number"?h8.has(t.code):!1)||t instanceof Yi||P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}P.isRetryableReadError=fk;var hk=new Set([P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),dk=new Set([P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.LegacyNotPrimary]),pk=new Set([P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.ShutdownInProgress]);function p8(t){return typeof t.code=="number"?hk.has(t.code):P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message)}function mk(t){return typeof t.code=="number"?dk.has(t.code):p8(t)?!1:P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)}function yk(t){return!!(typeof t.code=="number"&&pk.has(t.code))}P.isNodeShuttingDownError=yk;function gk(t){return t instanceof wf||t==null?!0:p8(t)||mk(t)}P.isSDAMUnrecoverableError=gk;function Ek(t){return!!(t instanceof Yi&&t.message.match(/timed out/))}P.isNetworkTimeoutError=Ek;function _k(t,e){return t==null||!(t instanceof os)?!1:t instanceof Yi?!0:e!=null&&e>=9?t.code===P.MONGODB_ERROR_CODES.CursorNotFound?!0:t.hasErrorLabel(P.MongoErrorLabel.ResumableChangeStreamError):typeof t.code=="number"?P.GET_MORE_RESUMABLE_CODES.has(t.code):!1}P.isResumableError=_k});var jt=y(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ReadPreference=yr.ReadPreferenceMode=void 0;var ko=Y();yr.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});var ge=class{constructor(e,r,n){if(!ge.isValid(e))throw new ko.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(e)}`);if(n==null&&typeof r=="object"&&!Array.isArray(r))n=r,r=void 0;else if(r&&!Array.isArray(r))throw new ko.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=e,this.tags=r,this.hedge=n?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,n=n??{},n.maxStalenessSeconds!=null){if(n.maxStalenessSeconds<=0)throw new ko.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=n.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===ge.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new ko.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new ko.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new ko.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(e){return new ge(e)}static fromOptions(e){if(!e)return;let r=e.readPreference??e.session?.transaction.options.readPreference,n=e.readPreferenceTags;if(r!=null){if(typeof r=="string")return new ge(r,n,{maxStalenessSeconds:e.maxStalenessSeconds,hedge:e.hedge});if(!(r instanceof ge)&&typeof r=="object"){let s=r.mode||r.preference;if(s&&typeof s=="string")return new ge(s,r.tags??n,{maxStalenessSeconds:r.maxStalenessSeconds,hedge:e.hedge})}return n&&(r.tags=n),r}}static translate(e){if(e.readPreference==null)return e;let r=e.readPreference;if(typeof r=="string")e.readPreference=new ge(r);else if(r&&!(r instanceof ge)&&typeof r=="object"){let n=r.mode||r.preference;n&&typeof n=="string"&&(e.readPreference=new ge(n,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}))}else if(!(r instanceof ge))throw new ko.MongoInvalidArgumentError(`Invalid read preference: ${r}`);return e}static isValid(e){return new Set([ge.PRIMARY,ge.PRIMARY_PREFERRED,ge.SECONDARY,ge.SECONDARY_PREFERRED,ge.NEAREST,null]).has(e)}isValid(e){return ge.isValid(typeof e=="string"?e:this.mode)}secondaryOk(){return new Set([ge.PRIMARY_PREFERRED,ge.SECONDARY,ge.SECONDARY_PREFERRED,ge.NEAREST]).has(this.mode)}equals(e){return e.mode===this.mode}toJSON(){let e={mode:this.mode};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),this.hedge&&(e.hedge=this.hedge),e}};ge.PRIMARY=yr.ReadPreferenceMode.primary;ge.PRIMARY_PREFERRED=yr.ReadPreferenceMode.primaryPreferred;ge.SECONDARY=yr.ReadPreferenceMode.secondary;ge.SECONDARY_PREFERRED=yr.ReadPreferenceMode.secondaryPreferred;ge.NEAREST=yr.ReadPreferenceMode.nearest;ge.primary=new ge(yr.ReadPreferenceMode.primary);ge.primaryPreferred=new ge(yr.ReadPreferenceMode.primaryPreferred);ge.secondary=new ge(yr.ReadPreferenceMode.secondary);ge.secondaryPreferred=new ge(yr.ReadPreferenceMode.secondaryPreferred);ge.nearest=new ge(yr.ReadPreferenceMode.nearest);yr.ReadPreference=ge});var dn=y(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt._advanceClusterTime=Gt.drainTimerQueue=Gt.ServerType=Gt.TopologyType=Gt.STATE_CONNECTED=Gt.STATE_CONNECTING=Gt.STATE_CLOSED=Gt.STATE_CLOSING=void 0;var Ak=require("timers");Gt.STATE_CLOSING="closing";Gt.STATE_CLOSED="closed";Gt.STATE_CONNECTING="connecting";Gt.STATE_CONNECTED="connected";Gt.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});Gt.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});function Ok(t){t.forEach(Ak.clearTimeout),t.clear()}Gt.drainTimerQueue=Ok;function Ck(t,e){(t.clusterTime==null||e.clusterTime.greaterThan(t.clusterTime.clusterTime))&&(t.clusterTime=e)}Gt._advanceClusterTime=Ck});var l1=y(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.readPreferenceServerSelector=pn.secondaryWritableServerSelector=pn.sameServerSelector=pn.writableServerSelector=pn.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var Bf=Y(),c1=jt(),mn=dn(),Sk=1e4,m8=90;pn.MIN_SECONDARY_WRITE_WIRE_VERSION=13;function wk(){return function(e,r){return Tf(e,r.filter(n=>n.isWritable))}}pn.writableServerSelector=wk;function bk(t){return function(r,n){return t?n.filter(s=>s.address===t.address&&s.type!==mn.ServerType.Unknown):[]}}pn.sameServerSelector=bk;function Dk(t,e){return!e||!t||t&&t<pn.MIN_SECONDARY_WRITE_WIRE_VERSION?py(c1.ReadPreference.primary):py(e)}pn.secondaryWritableServerSelector=Dk;function Tk(t,e,r){if(t.maxStalenessSeconds==null||t.maxStalenessSeconds<0)return r;let n=t.maxStalenessSeconds,s=(e.heartbeatFrequencyMS+Sk)/1e3;if(n<s)throw new Bf.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${s} seconds`);if(n<m8)throw new Bf.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${m8} seconds`);if(e.type===mn.TopologyType.ReplicaSetWithPrimary){let i=Array.from(e.servers.values()).filter(Mf)[0];return r.reduce((o,u)=>{let c=(u.lastUpdateTime-u.lastWriteDate-(i.lastUpdateTime-i.lastWriteDate)+e.heartbeatFrequencyMS)/1e3,l=t.maxStalenessSeconds??0;return c<=l&&o.push(u),o},[])}if(e.type===mn.TopologyType.ReplicaSetNoPrimary){if(r.length===0)return r;let i=r.reduce((o,u)=>u.lastWriteDate>o.lastWriteDate?u:o);return r.reduce((o,u)=>{let c=(i.lastWriteDate-u.lastWriteDate+e.heartbeatFrequencyMS)/1e3,l=t.maxStalenessSeconds??0;return c<=l&&o.push(u),o},[])}return r}function Mk(t,e){let r=Object.keys(t),n=Object.keys(e);for(let s=0;s<r.length;++s){let i=r[s];if(n.indexOf(i)===-1||e[i]!==t[i])return!1}return!0}function Bk(t,e){if(t.tags==null||Array.isArray(t.tags)&&t.tags.length===0)return e;for(let r=0;r<t.tags.length;++r){let n=t.tags[r],s=e.reduce((i,o)=>(Mk(n,o.tags)&&i.push(o),i),[]);if(s.length)return s}return[]}function Tf(t,e){let r=e.reduce((s,i)=>s===-1?i.roundTripTime:Math.min(i.roundTripTime,s),-1),n=r+t.localThresholdMS;return e.reduce((s,i)=>(i.roundTripTime<=n&&i.roundTripTime>=r&&s.push(i),s),[])}function Mf(t){return t.type===mn.ServerType.RSPrimary}function Pk(t){return t.type===mn.ServerType.RSSecondary}function Fk(t){return t.type===mn.ServerType.RSSecondary||t.type===mn.ServerType.RSPrimary}function y8(t){return t.type!==mn.ServerType.Unknown}function Nk(t){return t.type===mn.ServerType.LoadBalancer}function py(t){if(!t.isValid())throw new Bf.MongoInvalidArgumentError("Invalid read preference specified");return function(r,n,s=[]){let i=r.commonWireVersion;if(i&&t.minWireVersion&&t.minWireVersion>i)throw new Bf.MongoCompatibilityError(`Minimum wire version '${t.minWireVersion}' required, but found '${i}'`);if(r.type===mn.TopologyType.LoadBalanced)return n.filter(Nk);if(r.type===mn.TopologyType.Unknown)return[];if(r.type===mn.TopologyType.Single)return Tf(r,n.filter(y8));if(r.type===mn.TopologyType.Sharded){let c=n.filter(f=>!s.includes(f)),l=c.length>0?c:s;return Tf(r,l.filter(y8))}let o=t.mode;if(o===c1.ReadPreference.PRIMARY)return n.filter(Mf);if(o===c1.ReadPreference.PRIMARY_PREFERRED){let c=n.filter(Mf);if(c.length)return c}let u=o===c1.ReadPreference.NEAREST?Fk:Pk,a=Tf(r,Bk(t,Tk(t,r,n.filter(u))));return o===c1.ReadPreference.SECONDARY_PREFERRED&&a.length===0?n.filter(Mf):a}}pn.readPreferenceServerSelector=py});var qo=y(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.OP_MSG=Ye.OP_COMPRESSED=Ye.OP_DELETE=Ye.OP_QUERY=Ye.OP_INSERT=Ye.OP_UPDATE=Ye.OP_REPLY=Ye.MIN_SUPPORTED_QE_SERVER_VERSION=Ye.MIN_SUPPORTED_QE_WIRE_VERSION=Ye.MAX_SUPPORTED_WIRE_VERSION=Ye.MIN_SUPPORTED_WIRE_VERSION=Ye.MAX_SUPPORTED_SERVER_VERSION=Ye.MIN_SUPPORTED_SERVER_VERSION=void 0;Ye.MIN_SUPPORTED_SERVER_VERSION="3.6";Ye.MAX_SUPPORTED_SERVER_VERSION="7.0";Ye.MIN_SUPPORTED_WIRE_VERSION=6;Ye.MAX_SUPPORTED_WIRE_VERSION=21;Ye.MIN_SUPPORTED_QE_WIRE_VERSION=21;Ye.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";Ye.OP_REPLY=1;Ye.OP_UPDATE=2001;Ye.OP_INSERT=2002;Ye.OP_QUERY=2004;Ye.OP_DELETE=2006;Ye.OP_COMPRESSED=2012;Ye.OP_MSG=2013});var It=y(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.END=B.CHANGE=B.INIT=B.MORE=B.RESPONSE=B.SERVER_HEARTBEAT_FAILED=B.SERVER_HEARTBEAT_SUCCEEDED=B.SERVER_HEARTBEAT_STARTED=B.COMMAND_FAILED=B.COMMAND_SUCCEEDED=B.COMMAND_STARTED=B.CLUSTER_TIME_RECEIVED=B.CONNECTION_CHECKED_IN=B.CONNECTION_CHECKED_OUT=B.CONNECTION_CHECK_OUT_FAILED=B.CONNECTION_CHECK_OUT_STARTED=B.CONNECTION_CLOSED=B.CONNECTION_READY=B.CONNECTION_CREATED=B.CONNECTION_POOL_READY=B.CONNECTION_POOL_CLEARED=B.CONNECTION_POOL_CLOSED=B.CONNECTION_POOL_CREATED=B.WAITING_FOR_SUITABLE_SERVER=B.SERVER_SELECTION_SUCCEEDED=B.SERVER_SELECTION_FAILED=B.SERVER_SELECTION_STARTED=B.TOPOLOGY_DESCRIPTION_CHANGED=B.TOPOLOGY_CLOSED=B.TOPOLOGY_OPENING=B.SERVER_DESCRIPTION_CHANGED=B.SERVER_CLOSED=B.SERVER_OPENING=B.DESCRIPTION_RECEIVED=B.UNPINNED=B.PINNED=B.MESSAGE=B.ENDED=B.CLOSED=B.CONNECT=B.OPEN=B.CLOSE=B.TIMEOUT=B.ERROR=B.SYSTEM_JS_COLLECTION=B.SYSTEM_COMMAND_COLLECTION=B.SYSTEM_USER_COLLECTION=B.SYSTEM_PROFILE_COLLECTION=B.SYSTEM_INDEX_COLLECTION=B.SYSTEM_NAMESPACE_COLLECTION=void 0;B.LEGACY_HELLO_COMMAND_CAMEL_CASE=B.LEGACY_HELLO_COMMAND=B.MONGO_CLIENT_EVENTS=B.LOCAL_SERVER_EVENTS=B.SERVER_RELAY_EVENTS=B.APM_EVENTS=B.TOPOLOGY_EVENTS=B.CMAP_EVENTS=B.HEARTBEAT_EVENTS=B.RESUME_TOKEN_CHANGED=void 0;B.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";B.SYSTEM_INDEX_COLLECTION="system.indexes";B.SYSTEM_PROFILE_COLLECTION="system.profile";B.SYSTEM_USER_COLLECTION="system.users";B.SYSTEM_COMMAND_COLLECTION="$cmd";B.SYSTEM_JS_COLLECTION="system.js";B.ERROR="error";B.TIMEOUT="timeout";B.CLOSE="close";B.OPEN="open";B.CONNECT="connect";B.CLOSED="closed";B.ENDED="ended";B.MESSAGE="message";B.PINNED="pinned";B.UNPINNED="unpinned";B.DESCRIPTION_RECEIVED="descriptionReceived";B.SERVER_OPENING="serverOpening";B.SERVER_CLOSED="serverClosed";B.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";B.TOPOLOGY_OPENING="topologyOpening";B.TOPOLOGY_CLOSED="topologyClosed";B.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";B.SERVER_SELECTION_STARTED="serverSelectionStarted";B.SERVER_SELECTION_FAILED="serverSelectionFailed";B.SERVER_SELECTION_SUCCEEDED="serverSelectionSucceeded";B.WAITING_FOR_SUITABLE_SERVER="waitingForSuitableServer";B.CONNECTION_POOL_CREATED="connectionPoolCreated";B.CONNECTION_POOL_CLOSED="connectionPoolClosed";B.CONNECTION_POOL_CLEARED="connectionPoolCleared";B.CONNECTION_POOL_READY="connectionPoolReady";B.CONNECTION_CREATED="connectionCreated";B.CONNECTION_READY="connectionReady";B.CONNECTION_CLOSED="connectionClosed";B.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";B.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";B.CONNECTION_CHECKED_OUT="connectionCheckedOut";B.CONNECTION_CHECKED_IN="connectionCheckedIn";B.CLUSTER_TIME_RECEIVED="clusterTimeReceived";B.COMMAND_STARTED="commandStarted";B.COMMAND_SUCCEEDED="commandSucceeded";B.COMMAND_FAILED="commandFailed";B.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";B.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";B.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";B.RESPONSE="response";B.MORE="more";B.INIT="init";B.CHANGE="change";B.END="end";B.RESUME_TOKEN_CHANGED="resumeTokenChanged";B.HEARTBEAT_EVENTS=Object.freeze([B.SERVER_HEARTBEAT_STARTED,B.SERVER_HEARTBEAT_SUCCEEDED,B.SERVER_HEARTBEAT_FAILED]);B.CMAP_EVENTS=Object.freeze([B.CONNECTION_POOL_CREATED,B.CONNECTION_POOL_READY,B.CONNECTION_POOL_CLEARED,B.CONNECTION_POOL_CLOSED,B.CONNECTION_CREATED,B.CONNECTION_READY,B.CONNECTION_CLOSED,B.CONNECTION_CHECK_OUT_STARTED,B.CONNECTION_CHECK_OUT_FAILED,B.CONNECTION_CHECKED_OUT,B.CONNECTION_CHECKED_IN]);B.TOPOLOGY_EVENTS=Object.freeze([B.SERVER_OPENING,B.SERVER_CLOSED,B.SERVER_DESCRIPTION_CHANGED,B.TOPOLOGY_OPENING,B.TOPOLOGY_CLOSED,B.TOPOLOGY_DESCRIPTION_CHANGED,B.ERROR,B.TIMEOUT,B.CLOSE]);B.APM_EVENTS=Object.freeze([B.COMMAND_STARTED,B.COMMAND_SUCCEEDED,B.COMMAND_FAILED]);B.SERVER_RELAY_EVENTS=Object.freeze([B.SERVER_HEARTBEAT_STARTED,B.SERVER_HEARTBEAT_SUCCEEDED,B.SERVER_HEARTBEAT_FAILED,B.COMMAND_STARTED,B.COMMAND_SUCCEEDED,B.COMMAND_FAILED,...B.CMAP_EVENTS]);B.LOCAL_SERVER_EVENTS=Object.freeze([B.CONNECT,B.DESCRIPTION_RECEIVED,B.CLOSED,B.ENDED]);B.MONGO_CLIENT_EVENTS=Object.freeze([...B.CMAP_EVENTS,...B.APM_EVENTS,...B.TOPOLOGY_EVENTS,...B.HEARTBEAT_EVENTS]);B.LEGACY_HELLO_COMMAND="ismaster";B.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var $n=y(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.ReadConcern=as.ReadConcernLevel=void 0;as.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});var Qi=class{constructor(e){this.level=as.ReadConcernLevel[e]??e}static fromOptions(e){if(e!=null){if(e.readConcern){let{readConcern:r}=e;if(r instanceof Qi)return r;if(typeof r=="string")return new Qi(r);if("level"in r&&r.level)return new Qi(r.level)}if(e.level)return new Qi(e.level)}}static get MAJORITY(){return as.ReadConcernLevel.majority}static get AVAILABLE(){return as.ReadConcernLevel.available}static get LINEARIZABLE(){return as.ReadConcernLevel.linearizable}static get SNAPSHOT(){return as.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}};as.ReadConcern=Qi});var Vr=y(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.WriteConcern=Zu.WRITE_CONCERN_KEYS=void 0;Zu.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];var Lo=class{constructor(e,r,n,s){e!=null&&(Number.isNaN(Number(e))?this.w=e:this.w=Number(e)),r!=null&&(this.wtimeoutMS=this.wtimeout=r),n!=null&&(this.journal=this.j=n),s!=null&&(this.journal=this.j=!!s)}static apply(e,r){let n={};return r.w!=null&&(n.w=r.w),r.wtimeoutMS!=null&&(n.wtimeout=r.wtimeoutMS),r.journal!=null&&(n.j=r.j),e.writeConcern=n,e}static fromOptions(e,r){if(e==null)return;r=r??{};let n;typeof e=="string"||typeof e=="number"?n={w:e}:e instanceof Lo?n=e:n=e.writeConcern;let s=r instanceof Lo?r:r.writeConcern,{w:i=void 0,wtimeout:o=void 0,j:u=void 0,fsync:a=void 0,journal:c=void 0,wtimeoutMS:l=void 0}={...s,...n};if(i!=null||o!=null||l!=null||u!=null||c!=null||a!=null)return new Lo(i,o??l,u??c,a)}};Zu.WriteConcern=Lo});var ne=y(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.DOCUMENT_DB_MSG=k.COSMOS_DB_CHECK=k.DOCUMENT_DB_CHECK=k.TimeoutController=k.request=k.matchesParentDomain=k.parseUnsignedInteger=k.parseInteger=k.compareObjectId=k.commandSupportsReadConcern=k.shuffle=k.supportsRetryableWrites=k.enumToString=k.emitWarningOnce=k.emitWarning=k.MONGODB_WARNING_CODE=k.DEFAULT_PK_FACTORY=k.HostAddress=k.BufferPool=k.List=k.deepCopy=k.isRecord=k.setDifference=k.isHello=k.isSuperset=k.resolveOptions=k.hasAtomicOperators=k.calculateDurationInMs=k.now=k.makeStateMachine=k.errorStrictEqual=k.arrayStrictEqual=k.maxWireVersion=k.uuidV4=k.makeCounter=k.MongoDBCollectionNamespace=k.MongoDBNamespace=k.ns=k.getTopology=k.decorateWithExplain=k.decorateWithReadConcern=k.decorateWithCollation=k.isPromiseLike=k.applyRetryableWrites=k.filterOptions=k.mergeOptions=k.isObject=k.normalizeHintField=k.hostMatchesWildcards=k.ByteUtils=void 0;k.once=k.randomBytes=k.promiseWithResolvers=k.isHostMatch=k.COSMOS_DB_MSG=void 0;var _8=require("crypto"),$k=require("http"),g8=require("timers"),Ik=require("url"),Rk=require("url"),xk=require("util"),A8=Ke(),vk=qo(),kk=It(),xs=Y(),qk=$n(),Lk=jt(),jk=dn(),Uk=Vr();k.ByteUtils={toLocalBufferType(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)},equals(t,e){return k.ByteUtils.toLocalBufferType(t).equals(e)},compare(t,e){return k.ByteUtils.toLocalBufferType(t).compare(e)},toBase64(t){return k.ByteUtils.toLocalBufferType(t).toString("base64")}};function Vk(t,e){for(let r of e)if(t===r||r.startsWith("*.")&&t?.endsWith(r.substring(2,r.length))||r.startsWith("*/")&&t?.endsWith(r.substring(2,r.length)))return!0;return!1}k.hostMatchesWildcards=Vk;function zk(t){let e;if(typeof t=="string")e=t;else if(Array.isArray(t))e={},t.forEach(r=>{e[r]=1});else if(t!=null&&typeof t=="object"){e={};for(let r in t)e[r]=t[r]}return e}k.normalizeHintField=zk;var Wk=t=>Object.prototype.toString.call(t);function my(t){return Wk(t)==="[object Object]"}k.isObject=my;function Gk(t,e){return{...t,...e}}k.mergeOptions=Gk;function Hk(t,e){let r={};for(let n in t)e.includes(n)&&(r[n]=t[n]);return r}k.filterOptions=Hk;function Kk(t,e){return e&&e.s.options?.retryWrites&&(t.retryWrites=!0),t}k.applyRetryableWrites=Kk;function Yk(t){return t!=null&&typeof t=="object"&&"then"in t&&typeof t.then=="function"}k.isPromiseLike=Yk;function Qk(t,e,r){let n=O8(e).capabilities;if(r.collation&&typeof r.collation=="object")if(n&&n.commandsTakeCollation)t.collation=r.collation;else throw new xs.MongoCompatibilityError("Current topology does not support collation")}k.decorateWithCollation=Qk;function Jk(t,e,r){if(r&&r.session&&r.session.inTransaction())return;let n=Object.assign({},t.readConcern||{});e.s.readConcern&&Object.assign(n,e.s.readConcern),Object.keys(n).length>0&&Object.assign(t,{readConcern:n})}k.decorateWithReadConcern=Jk;function Xk(t,e){return t.explain?t:{explain:t,verbosity:e.verbosity}}k.decorateWithExplain=Xk;function O8(t){if("topology"in t&&t.topology)return t.topology;if("client"in t&&t.client.topology)return t.client.topology;throw new xs.MongoNotConnectedError("MongoClient must be connected to perform this operation")}k.getTopology=O8;function Zk(t){return Uo.fromString(t)}k.ns=Zk;var Uo=class{constructor(e,r){this.db=e,this.collection=r,this.collection=r===""?void 0:r}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(e){return new Pf(this.db,e)}static fromString(e){if(typeof e!="string"||e==="")throw new xs.MongoRuntimeError(`Cannot parse namespace from "${e}"`);let[r,...n]=e.split("."),s=n.join(".");return new Uo(r,s===""?void 0:s)}};k.MongoDBNamespace=Uo;var Pf=class extends Uo{constructor(e,r){super(e,r),this.collection=r}static fromString(e){return super.fromString(e)}};k.MongoDBCollectionNamespace=Pf;function*eq(t=0){let e=t;for(;;){let r=e;e+=1,yield r}}k.makeCounter=eq;function tq(){let t=_8.randomBytes(16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t}k.uuidV4=tq;function rq(t){if(t){if(t.loadBalanced||t.serverApi?.version)return vk.MAX_SUPPORTED_WIRE_VERSION;if(t.hello)return t.hello.maxWireVersion;if("lastHello"in t&&typeof t.lastHello=="function"){let e=t.lastHello();if(e)return e.maxWireVersion}if(t.description&&"maxWireVersion"in t.description&&t.description.maxWireVersion!=null)return t.description.maxWireVersion}return 0}k.maxWireVersion=rq;function nq(t,e){return!Array.isArray(t)||!Array.isArray(e)?!1:t.length===e.length&&t.every((r,n)=>r===e[n])}k.arrayStrictEqual=nq;function sq(t,e){return t===e?!0:!t||!e?t===e:!(t==null&&e!=null||t!=null&&e==null||t.constructor.name!==e.constructor.name||t.message!==e.message)}k.errorStrictEqual=sq;function iq(t){return function(r,n){let s=t[r.s.state];if(s&&s.indexOf(n)<0)throw new xs.MongoRuntimeError(`illegal state transition from [${r.s.state}] => [${n}], allowed: [${s}]`);r.emit("stateChanged",r.s.state,n),r.s.state=n}}k.makeStateMachine=iq;function C8(){let t=process.hrtime();return Math.floor(t[0]*1e3+t[1]/1e6)}k.now=C8;function oq(t){if(typeof t!="number")return-1;let e=C8()-t;return e<0?0:e}k.calculateDurationInMs=oq;function S8(t){if(Array.isArray(t)){for(let r of t)if(S8(r))return!0;return!1}let e=Object.keys(t);return e.length>0&&e[0][0]==="$"}k.hasAtomicOperators=S8;function uq(t,e){let r=Object.assign({},e,(0,A8.resolveBSONOptions)(e,t));if(!e?.session?.inTransaction()){let i=qk.ReadConcern.fromOptions(e)??t?.readConcern;i&&(r.readConcern=i);let o=Uk.WriteConcern.fromOptions(e)??t?.writeConcern;o&&(r.writeConcern=o)}let s=Lk.ReadPreference.fromOptions(e)??t?.readPreference;return s&&(r.readPreference=s),r}k.resolveOptions=uq;function w8(t,e){t=Array.isArray(t)?new Set(t):t,e=Array.isArray(e)?new Set(e):e;for(let r of e)if(!t.has(r))return!1;return!0}k.isSuperset=w8;function aq(t){return!!(t[kk.LEGACY_HELLO_COMMAND]||t.hello)}k.isHello=aq;function cq(t,e){let r=new Set(t);for(let n of e)r.delete(n);return r}k.setDifference=cq;var lq=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function b8(t,e=void 0){if(!my(t))return!1;let r=t.constructor;if(r&&r.prototype&&(!my(r.prototype)||!lq(r.prototype,"isPrototypeOf")))return!1;if(e){let n=Object.keys(t);return w8(n,e)}return!0}k.isRecord=b8;function yy(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>yy(r));if(b8(t)){let r={};for(let n in t)r[n]=yy(t[n]);return r}let e=t.constructor;if(e)switch(e.name.toLowerCase()){case"date":return new e(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return Buffer.from(t)}return t}k.deepCopy=yy;var Ff=class{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let e of this.nodes())yield e.value}*nodes(){let e=this.head.next;for(;e!==this.head;){let{next:r}=e;yield e,e=r}}push(e){this.count+=1;let r={next:this.head,prev:this.head.prev,value:e};this.head.prev.next=r,this.head.prev=r}pushMany(e){for(let r of e)this.push(r)}unshift(e){this.count+=1;let r={next:this.head.next,prev:this.head,value:e};this.head.next.prev=r,this.head.next=r}remove(e){if(e===this.head||this.length===0)return null;this.count-=1;let r=e.prev,n=e.next;return r.next=n,n.prev=r,e.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(e){for(let r of this.nodes())e(r.value)&&this.remove(r)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}};k.List=Ff;var gy=class{constructor(){this.buffers=new Ff,this.totalByteLength=0}get length(){return this.totalByteLength}append(e){this.buffers.push(e),this.totalByteLength+=e.length}getInt32(){if(this.totalByteLength<4)return null;let e=this.buffers.first();if(e!=null&&e.byteLength>=4)return e.readInt32LE(0);let r=this.read(4),n=r.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(r),n}read(e){if(typeof e!="number"||e<0)throw new xs.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(e>this.totalByteLength)return Buffer.alloc(0);let r=Buffer.allocUnsafe(e);for(let n=0;n<e;){let s=this.buffers.shift();if(s==null)break;let i=e-n,o=Math.min(i,s.byteLength),u=s.subarray(0,o);r.set(u,n),n+=o,this.totalByteLength-=o,o<s.byteLength&&this.buffers.unshift(s.subarray(o))}return r}};k.BufferPool=gy;var jo=class{constructor(e){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;let r=e.split(" ").join("%20");if(r.endsWith(".sock")){this.socketPath=decodeURIComponent(r);return}let n=`iLoveJS://${r}`,s;try{s=new Rk.URL(n)}catch(a){let c=new xs.MongoRuntimeError(`Unable to parse ${r} with URL`);throw c.cause=a,c}let i=s.hostname,o=s.port,u=decodeURIComponent(i).toLowerCase();if(u.startsWith("[")&&u.endsWith("]")&&(this.isIPv6=!0,u=u.substring(1,i.length-1)),this.host=u.toLowerCase(),typeof o=="number"?this.port=o:typeof o=="string"&&o!==""?this.port=Number.parseInt(o,10):this.port=27017,this.port===0)throw new xs.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){return typeof this.host=="string"?this.isIPv6?`[${this.host}]:${this.port}`:`${this.host}:${this.port}`:`${this.socketPath}`}static fromString(e){return new jo(e)}static fromHostPort(e,r){return e.includes(":")&&(e=`[${e}]`),jo.fromString(`${e}:${r}`)}static fromSrvRecord({name:e,port:r}){return jo.fromHostPort(e,r)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};let e=this.host??"",r=this.port??0;return{host:e,port:r}}};k.HostAddress=jo;k.DEFAULT_PK_FACTORY={createPk(){return new A8.ObjectId}};k.MONGODB_WARNING_CODE="MONGODB DRIVER";function D8(t){return process.emitWarning(t,{code:k.MONGODB_WARNING_CODE})}k.emitWarning=D8;var E8=new Set;function fq(t){if(!E8.has(t))return E8.add(t),D8(t)}k.emitWarningOnce=fq;function hq(t){return Object.values(t).join(", ")}k.enumToString=hq;function dq(t){return t?!!(t.loadBalanced||t.description.logicalSessionTimeoutMinutes!=null&&t.description.type!==jk.ServerType.Standalone):!1}k.supportsRetryableWrites=dq;function pq(t,e=0){let r=Array.from(t);if(e>r.length)throw new xs.MongoRuntimeError("Limit must be less than the number of items");let n=r.length,s=e%r.length===0?1:r.length-e;for(;n>s;){let i=Math.floor(Math.random()*n);n-=1;let o=r[n];r[n]=r[i],r[i]=o}return e%r.length===0?r:r.slice(s)}k.shuffle=pq;function mq(t){return!!(t.aggregate||t.count||t.distinct||t.find||t.geoNear)}k.commandSupportsReadConcern=mq;function yq(t,e){return t==null&&e==null?0:t==null?-1:e==null?1:k.ByteUtils.compare(t.id,e.id)}k.compareObjectId=yq;function T8(t){if(typeof t=="number")return Math.trunc(t);let e=Number.parseInt(String(t),10);return Number.isNaN(e)?null:e}k.parseInteger=T8;function gq(t){let e=T8(t);return e!=null&&e>=0?e:null}k.parseUnsignedInteger=gq;function Eq(t,e){let r=t.endsWith(".")?t.slice(0,t.length-1):t,n=e.endsWith(".")?e.slice(0,e.length-1):e,s=/^.*?\./,i=`.${r.replace(s,"")}`,o=`.${n.replace(s,"")}`;return i.endsWith(o)}k.matchesParentDomain=Eq;async function _q(t,e={}){return new Promise((r,n)=>{let s={method:"GET",timeout:1e4,json:!0,...Ik.parse(t),...e},i=$k.request(s,o=>{o.setEncoding("utf8");let u="";o.on("data",a=>{u+=a}),o.once("end",()=>{if(e.json===!1){r(u);return}try{let a=JSON.parse(u);r(a)}catch{n(new xs.MongoRuntimeError(`Invalid JSON response: "${u}"`))}})});i.once("timeout",()=>i.destroy(new xs.MongoNetworkTimeoutError(`Network request to ${t} timed out after ${e.timeout} ms`))),i.once("error",o=>n(o)),i.end()})}k.request=_q;var Ey=class extends AbortController{constructor(e=0,r=e>0?(0,g8.setTimeout)(()=>this.abort(),e):null){super(),this.timeoutId=r}clear(){this.timeoutId!=null&&(0,g8.clearTimeout)(this.timeoutId),this.timeoutId=null}};k.TimeoutController=Ey;k.DOCUMENT_DB_CHECK=/(\.docdb\.amazonaws\.com$)|(\.docdb-elastic\.amazonaws\.com$)/;k.COSMOS_DB_CHECK=/\.cosmos\.azure\.com$/;k.DOCUMENT_DB_MSG="You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb";k.COSMOS_DB_MSG="You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb";function Aq(t,e){return!!(e&&t.test(e.toLowerCase()))}k.isHostMatch=Aq;function M8(){let t,e;return{promise:new Promise(function(s,i){t=s,e=i}),resolve:t,reject:e}}k.promiseWithResolvers=M8;k.randomBytes=(0,xk.promisify)(_8.randomBytes);async function Oq(t,e){let{promise:r,resolve:n,reject:s}=M8(),i=u=>n(u),o=u=>s(u);t.once(e,i).once("error",o);try{let u=await r;return t.off("error",o),u}catch(u){throw t.off(e,i),u}}k.once=Oq});var ve=y(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.defineAspects=li.AbstractOperation=li.Aspect=void 0;var Cq=Ke(),_y=jt();li.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var Ay=Symbol("session"),Oy=class{constructor(e={}){this.readPreference=this.hasAspect(li.Aspect.WRITE_OPERATION)?_y.ReadPreference.primary:_y.ReadPreference.fromOptions(e)??_y.ReadPreference.primary,this.bsonOptions=(0,Cq.resolveBSONOptions)(e),this[Ay]=e.session!=null?e.session:void 0,this.options=e,this.bypassPinningCheck=!!e.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(e){let r=this.constructor;return r.aspects==null?!1:r.aspects.has(e)}get session(){return this[Ay]}clearSession(){this[Ay]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}};li.AbstractOperation=Oy;function Sq(t,e){return!Array.isArray(e)&&!(e instanceof Set)&&(e=[e]),e=new Set(e),Object.defineProperty(t,"aspects",{value:e,writable:!1}),e}li.defineAspects=Sq});var zr=y(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.executeOperation=void 0;var gr=Y(),B8=jt(),P8=l1(),N8=ne(),Ji=ve(),wq=gr.MONGODB_ERROR_CODES.IllegalOperation,F8="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";async function bq(t,e){if(!(e instanceof Ji.AbstractOperation))throw new gr.MongoRuntimeError("This method requires a valid operation instance");if(t.topology==null){if(t.s.hasBeenClosed)throw new gr.MongoNotConnectedError("Client must be connected before running operations");t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await t.connect()}finally{delete t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}let{topology:r}=t;if(r==null)throw new gr.MongoRuntimeError("client.connect did not create a topology but also did not throw");let n=e.session,s;if(n==null)s=Symbol(),n=t.startSession({owner:s,explicit:!1});else{if(n.hasEnded)throw new gr.MongoExpiredSessionError("Use of expired sessions is not permitted");if(n.snapshotEnabled&&!r.capabilities.supportsSnapshotReads)throw new gr.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");if(n.client!==t)throw new gr.MongoInvalidArgumentError("ClientSession must be from the same MongoClient")}let i=e.readPreference??B8.ReadPreference.primary,o=!!n?.inTransaction();if(o&&!i.equals(B8.ReadPreference.primary))throw new gr.MongoTransactionError(`Read preference in a transaction must be primary, not: ${i.mode}`);n?.isPinned&&n.transaction.isCommitted&&!e.bypassPinningCheck&&n.unpin();let u;e.hasAspect(Ji.Aspect.MUST_SELECT_SAME_SERVER)?u=(0,P8.sameServerSelector)(e.server?.description):e.trySecondaryWrite?u=(0,P8.secondaryWritableServerSelector)(r.commonWireVersion,i):u=i;let a=await r.selectServerAsync(u,{session:n,operationName:e.commandName});if(n==null)return e.execute(a,void 0);if(!e.hasAspect(Ji.Aspect.RETRYABLE))try{return await e.execute(a,n)}finally{n?.owner!=null&&n.owner===s&&await n.endSession().catch(()=>null)}let c=r.s.options.retryReads&&!o&&e.canRetryRead,l=r.s.options.retryWrites&&!o&&(0,N8.supportsRetryableWrites)(a)&&e.canRetryWrite,f=e.hasAspect(Ji.Aspect.READ_OPERATION),h=e.hasAspect(Ji.Aspect.WRITE_OPERATION),d=f&&c||h&&l;h&&l&&(e.options.willRetryWrite=!0,n.incrementTransactionNumber());try{return await e.execute(a,n)}catch(p){if(d&&p instanceof gr.MongoError)return await Dq(e,p,{session:n,topology:r,selector:u,previousServer:a.description});throw p}finally{n?.owner!=null&&n.owner===s&&await n.endSession().catch(()=>null)}}Nf.executeOperation=bq;async function Dq(t,e,{session:r,topology:n,selector:s,previousServer:i}){let o=t.hasAspect(Ji.Aspect.WRITE_OPERATION),u=t.hasAspect(Ji.Aspect.READ_OPERATION);if(o&&e.code===wq)throw new gr.MongoServerError({message:F8,errmsg:F8,originalError:e});if(o&&!(0,gr.isRetryableWriteError)(e)||u&&!(0,gr.isRetryableReadError)(e))throw e;e instanceof gr.MongoNetworkError&&r.isPinned&&!r.inTransaction()&&t.hasAspect(Ji.Aspect.CURSOR_CREATING)&&r.unpin({force:!0,forceClear:!0});let a=await n.selectServerAsync(s,{session:r,operationName:t.commandName,previousServer:i});if(o&&!(0,N8.supportsRetryableWrites)(a))throw new gr.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await t.execute(a,r)}catch(c){throw c instanceof gr.MongoError&&c.hasErrorLabel(gr.MongoErrorLabel.NoWritesPerformed)?e:c}}});var Cy=y(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Explain=Xi.ExplainVerbosity=void 0;var Tq=Y();Xi.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});var f1=class{constructor(e){typeof e=="boolean"?this.verbosity=e?Xi.ExplainVerbosity.allPlansExecution:Xi.ExplainVerbosity.queryPlanner:this.verbosity=e}static fromOptions(e){if(e?.explain==null)return;let r=e.explain;if(typeof r=="boolean"||typeof r=="string")return new f1(r);throw new Tq.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}};Xi.Explain=f1});var bt=y($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.CommandOperation=void 0;var Mq=Y(),Bq=Cy(),Pq=$n(),Fq=l1(),h1=ne(),$8=Vr(),ea=ve(),Sy=class extends ea.AbstractOperation{constructor(e,r){super(r),this.options=r??{};let n=r?.dbName||r?.authdb;if(n?this.ns=new h1.MongoDBNamespace(n,"$cmd"):this.ns=e?e.s.namespace.withCollection("$cmd"):new h1.MongoDBNamespace("admin","$cmd"),this.readConcern=Pq.ReadConcern.fromOptions(r),this.writeConcern=$8.WriteConcern.fromOptions(r),this.hasAspect(ea.Aspect.EXPLAINABLE))this.explain=Bq.Explain.fromOptions(r);else if(r?.explain!=null)throw new Mq.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){return this.hasAspect(ea.Aspect.EXPLAINABLE)?this.explain==null:!0}async executeCommand(e,r,n){this.server=e;let s={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:r},i=(0,h1.maxWireVersion)(e),o=this.session&&this.session.inTransaction();return this.readConcern&&(0,h1.commandSupportsReadConcern)(n)&&!o&&Object.assign(n,{readConcern:this.readConcern}),this.trySecondaryWrite&&i<Fq.MIN_SECONDARY_WRITE_WIRE_VERSION&&(s.omitReadPreference=!0),this.writeConcern&&this.hasAspect(ea.Aspect.WRITE_OPERATION)&&!o&&$8.WriteConcern.apply(n,this.writeConcern),s.collation&&typeof s.collation=="object"&&!this.hasAspect(ea.Aspect.SKIP_COLLATION)&&Object.assign(n,{collation:s.collation}),typeof s.maxTimeMS=="number"&&(n.maxTimeMS=s.maxTimeMS),this.hasAspect(ea.Aspect.EXPLAINABLE)&&this.explain&&(n=(0,h1.decorateWithExplain)(n,this.explain)),e.command(this.ns,n,s)}};$f.CommandOperation=Sy});var R8=y(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.ListDatabasesOperation=void 0;var I8=ne(),Nq=bt(),wy=ve(),If=class extends Nq.CommandOperation{constructor(e,r){super(e,r),this.options=r??{},this.ns=new I8.MongoDBNamespace("admin","$cmd")}get commandName(){return"listDatabases"}async execute(e,r){let n={listDatabases:1};return typeof this.options.nameOnly=="boolean"&&(n.nameOnly=this.options.nameOnly),this.options.filter&&(n.filter=this.options.filter),typeof this.options.authorizedDatabases=="boolean"&&(n.authorizedDatabases=this.options.authorizedDatabases),(0,I8.maxWireVersion)(e)>=9&&this.options.comment!==void 0&&(n.comment=this.options.comment),super.executeCommand(e,r,n)}};Rf.ListDatabasesOperation=If;(0,wy.defineAspects)(If,[wy.Aspect.READ_OPERATION,wy.Aspect.RETRYABLE])});var by=y(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.RemoveUserOperation=void 0;var $q=bt(),x8=ve(),xf=class extends $q.CommandOperation{constructor(e,r,n){super(e,n),this.options=n,this.username=r}get commandName(){return"dropUser"}async execute(e,r){return await super.executeCommand(e,r,{dropUser:this.username}),!0}};vf.RemoveUserOperation=xf;(0,x8.defineAspects)(xf,[x8.Aspect.WRITE_OPERATION])});var ra=y(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.RunAdminCommandOperation=ta.RunCommandOperation=void 0;var Iq=ne(),v8=ve(),Dy=class extends v8.AbstractOperation{constructor(e,r,n){super(n),this.command=r,this.options=n,this.ns=e.s.namespace.withCollection("$cmd")}get commandName(){return"runCommand"}async execute(e,r){return this.server=e,e.command(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:r})}};ta.RunCommandOperation=Dy;var Ty=class extends v8.AbstractOperation{constructor(e,r){super(r),this.command=e,this.options=r,this.ns=new Iq.MongoDBNamespace("admin","$cmd")}get commandName(){return"runCommand"}async execute(e,r){return this.server=e,e.command(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:r})}};ta.RunAdminCommandOperation=Ty});var k8=y(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.ValidateCollectionOperation=void 0;var My=Y(),Rq=bt(),By=class extends Rq.CommandOperation{constructor(e,r,n){let s={validate:r},i=Object.keys(n);for(let o=0;o<i.length;o++)Object.prototype.hasOwnProperty.call(n,i[o])&&i[o]!=="session"&&(s[i[o]]=n[i[o]]);super(e.s.db,n),this.options=n,this.command=s,this.collectionName=r}get commandName(){return"validate"}async execute(e,r){let n=this.collectionName,s=await super.executeCommand(e,r,this.command);if(s.result!=null&&typeof s.result!="string")throw new My.MongoUnexpectedServerResponseError("Error with validation data");if(s.result!=null&&s.result.match(/exception|corrupt/)!=null)throw new My.MongoUnexpectedServerResponseError(`Invalid collection ${n}`);if(s.valid!=null&&!s.valid)throw new My.MongoUnexpectedServerResponseError(`Invalid collection ${n}`);return s}};kf.ValidateCollectionOperation=By});var Fy=y(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Admin=void 0;var xq=Ke(),qf=zr(),vq=R8(),kq=by(),qq=ra(),Lq=k8(),Py=class{constructor(e){this.s={db:e}}async command(e,r){return(0,qf.executeOperation)(this.s.db.client,new qq.RunAdminCommandOperation(e,{...(0,xq.resolveBSONOptions)(r),session:r?.session,readPreference:r?.readPreference}))}async buildInfo(e){return this.command({buildinfo:1},e)}async serverInfo(e){return this.command({buildinfo:1},e)}async serverStatus(e){return this.command({serverStatus:1},e)}async ping(e){return this.command({ping:1},e)}async removeUser(e,r){return(0,qf.executeOperation)(this.s.db.client,new kq.RemoveUserOperation(this.s.db,e,{dbName:"admin",...r}))}async validateCollection(e,r={}){return(0,qf.executeOperation)(this.s.db.client,new Lq.ValidateCollectionOperation(this,e,r))}async listDatabases(e){return(0,qf.executeOperation)(this.s.db.client,new vq.ListDatabasesOperation(this.s.db,e))}async replSetGetStatus(e){return this.command({replSetGetStatus:1},e)}};Lf.Admin=Py});var jf=y(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.maybeAddIdToDocuments=na.indexInformation=void 0;async function jq(t,e,r){r==null&&(r={});let n=r.full==null?!1:r.full,s=await t.collection(e).listIndexes(r).toArray();if(n)return s;let i={};for(let o of s)i[o.name]=Object.entries(o.key);return i}na.indexInformation=jq;function Uq(t,e,r){if((typeof r.forceServerObjectId=="boolean"?r.forceServerObjectId:t.s.db.options?.forceServerObjectId)===!0)return e;let s=i=>(i._id==null&&(i._id=t.s.pkFactory.createPk()),i);return Array.isArray(e)?e.map(s):s(e)}na.maybeAddIdToDocuments=Uq});var $y=y(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.makeDeleteStatement=vs.DeleteManyOperation=vs.DeleteOneOperation=vs.DeleteOperation=void 0;var d1=Y(),Vq=bt(),In=ve(),sa=class extends Vq.CommandOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get commandName(){return"delete"}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.limit!=null?e.limit>0:!0)}async execute(e,r){let n=this.options??{},s=typeof n.ordered=="boolean"?n.ordered:!0,i={delete:this.ns.collection,deletes:this.statements,ordered:s};if(n.let&&(i.let=n.let),n.comment!==void 0&&(i.comment=n.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(u=>u.hint))throw new d1.MongoCompatibilityError("hint is not supported with unacknowledged writes");return super.executeCommand(e,r,i)}};vs.DeleteOperation=sa;var Uf=class extends sa{constructor(e,r,n){super(e.s.namespace,[Ny(r,{...n,limit:1})],n)}async execute(e,r){let n=await super.execute(e,r);if(this.explain)return n;if(n.code)throw new d1.MongoServerError(n);if(n.writeErrors)throw new d1.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:n.n}}};vs.DeleteOneOperation=Uf;var Vf=class extends sa{constructor(e,r,n){super(e.s.namespace,[Ny(r,n)],n)}async execute(e,r){let n=await super.execute(e,r);if(this.explain)return n;if(n.code)throw new d1.MongoServerError(n);if(n.writeErrors)throw new d1.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:n.n}}};vs.DeleteManyOperation=Vf;function Ny(t,e){let r={q:t,limit:typeof e.limit=="number"?e.limit:0};return e.collation&&(r.collation=e.collation),e.hint&&(r.hint=e.hint),r}vs.makeDeleteStatement=Ny;(0,In.defineAspects)(sa,[In.Aspect.RETRYABLE,In.Aspect.WRITE_OPERATION]);(0,In.defineAspects)(Uf,[In.Aspect.RETRYABLE,In.Aspect.WRITE_OPERATION,In.Aspect.EXPLAINABLE,In.Aspect.SKIP_COLLATION]);(0,In.defineAspects)(Vf,[In.Aspect.WRITE_OPERATION,In.Aspect.EXPLAINABLE,In.Aspect.SKIP_COLLATION])});var Ry=y(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.BulkWriteOperation=void 0;var Iy=ve(),zf=class extends Iy.AbstractOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.operations=r}get commandName(){return"bulkWrite"}async execute(e,r){let n=this.collection,s=this.operations,i={...this.options,...this.bsonOptions,readPreference:this.readPreference},o=i.ordered===!1?n.initializeUnorderedBulkOp(i):n.initializeOrderedBulkOp(i);for(let a=0;a<s.length;a++)o.raw(s[a]);return await o.execute({...i,session:r})}};Wf.BulkWriteOperation=zf;(0,Iy.defineAspects)(zf,[Iy.Aspect.WRITE_OPERATION])});var xy=y(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.InsertManyOperation=Zi.InsertOneOperation=Zi.InsertOperation=void 0;var Gf=Y(),zq=Vr(),Wq=Ry(),Gq=bt(),Hq=jf(),fi=ve(),p1=class extends Gq.CommandOperation{constructor(e,r,n){super(void 0,n),this.options={...n,checkKeys:n.checkKeys??!1},this.ns=e,this.documents=r}get commandName(){return"insert"}async execute(e,r){let n=this.options??{},s=typeof n.ordered=="boolean"?n.ordered:!0,i={insert:this.ns.collection,documents:this.documents,ordered:s};return typeof n.bypassDocumentValidation=="boolean"&&(i.bypassDocumentValidation=n.bypassDocumentValidation),n.comment!==void 0&&(i.comment=n.comment),super.executeCommand(e,r,i)}};Zi.InsertOperation=p1;var Hf=class extends p1{constructor(e,r,n){super(e.s.namespace,(0,Hq.maybeAddIdToDocuments)(e,[r],n),n)}async execute(e,r){let n=await super.execute(e,r);if(n.code)throw new Gf.MongoServerError(n);if(n.writeErrors)throw new Gf.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id}}};Zi.InsertOneOperation=Hf;var Kf=class extends fi.AbstractOperation{constructor(e,r,n){if(super(n),!Array.isArray(r))throw new Gf.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=n,this.collection=e,this.docs=r}get commandName(){return"insert"}async execute(e,r){let n=this.collection,s={...this.options,...this.bsonOptions,readPreference:this.readPreference},i=zq.WriteConcern.fromOptions(s),o=new Wq.BulkWriteOperation(n,this.docs.map(u=>({insertOne:{document:u}})),s);try{let u=await o.execute(e,r);return{acknowledged:i?.w!==0,insertedCount:u.insertedCount,insertedIds:u.insertedIds}}catch(u){throw u&&u.message==="Operation must be an object with an operation key"?new Gf.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values"):u}}};Zi.InsertManyOperation=Kf;(0,fi.defineAspects)(p1,[fi.Aspect.RETRYABLE,fi.Aspect.WRITE_OPERATION]);(0,fi.defineAspects)(Hf,[fi.Aspect.RETRYABLE,fi.Aspect.WRITE_OPERATION]);(0,fi.defineAspects)(Kf,[fi.Aspect.WRITE_OPERATION])});var ky=y(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.makeUpdateStatement=Rn.ReplaceOneOperation=Rn.UpdateManyOperation=Rn.UpdateOneOperation=Rn.UpdateOperation=void 0;var xn=Y(),vy=ne(),Kq=bt(),Xt=ve(),Vo=class extends Kq.CommandOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get commandName(){return"update"}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.multi==null||e.multi===!1)}async execute(e,r){let n=this.options??{},s=typeof n.ordered=="boolean"?n.ordered:!0,i={update:this.ns.collection,updates:this.statements,ordered:s};if(typeof n.bypassDocumentValidation=="boolean"&&(i.bypassDocumentValidation=n.bypassDocumentValidation),n.let&&(i.let=n.let),n.comment!==void 0&&(i.comment=n.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(u=>u.hint))throw new xn.MongoCompatibilityError("hint is not supported with unacknowledged writes");return super.executeCommand(e,r,i)}};Rn.UpdateOperation=Vo;var Yf=class extends Vo{constructor(e,r,n,s){if(super(e.s.namespace,[Xf(r,n,{...s,multi:!1})],s),!(0,vy.hasAtomicOperators)(n))throw new xn.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(e,r){let n=await super.execute(e,r);if(this.explain!=null)return n;if(n.code)throw new xn.MongoServerError(n);if(n.writeErrors)throw new xn.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:n.nModified??n.n,upsertedId:Array.isArray(n.upserted)&&n.upserted.length>0?n.upserted[0]._id:null,upsertedCount:Array.isArray(n.upserted)&&n.upserted.length?n.upserted.length:0,matchedCount:Array.isArray(n.upserted)&&n.upserted.length>0?0:n.n}}};Rn.UpdateOneOperation=Yf;var Qf=class extends Vo{constructor(e,r,n,s){if(super(e.s.namespace,[Xf(r,n,{...s,multi:!0})],s),!(0,vy.hasAtomicOperators)(n))throw new xn.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(e,r){let n=await super.execute(e,r);if(this.explain!=null)return n;if(n.code)throw new xn.MongoServerError(n);if(n.writeErrors)throw new xn.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:n.nModified??n.n,upsertedId:Array.isArray(n.upserted)&&n.upserted.length>0?n.upserted[0]._id:null,upsertedCount:Array.isArray(n.upserted)&&n.upserted.length?n.upserted.length:0,matchedCount:Array.isArray(n.upserted)&&n.upserted.length>0?0:n.n}}};Rn.UpdateManyOperation=Qf;var Jf=class extends Vo{constructor(e,r,n,s){if(super(e.s.namespace,[Xf(r,n,{...s,multi:!1})],s),(0,vy.hasAtomicOperators)(n))throw new xn.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(e,r){let n=await super.execute(e,r);if(this.explain!=null)return n;if(n.code)throw new xn.MongoServerError(n);if(n.writeErrors)throw new xn.MongoServerError(n.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:n.nModified??n.n,upsertedId:Array.isArray(n.upserted)&&n.upserted.length>0?n.upserted[0]._id:null,upsertedCount:Array.isArray(n.upserted)&&n.upserted.length?n.upserted.length:0,matchedCount:Array.isArray(n.upserted)&&n.upserted.length>0?0:n.n}}};Rn.ReplaceOneOperation=Jf;function Xf(t,e,r){if(t==null||typeof t!="object")throw new xn.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(e==null||typeof e!="object")throw new xn.MongoInvalidArgumentError("Document must be a valid JavaScript object");let n={q:t,u:e};return typeof r.upsert=="boolean"&&(n.upsert=r.upsert),r.multi&&(n.multi=r.multi),r.hint&&(n.hint=r.hint),r.arrayFilters&&(n.arrayFilters=r.arrayFilters),r.collation&&(n.collation=r.collation),n}Rn.makeUpdateStatement=Xf;(0,Xt.defineAspects)(Vo,[Xt.Aspect.RETRYABLE,Xt.Aspect.WRITE_OPERATION,Xt.Aspect.SKIP_COLLATION]);(0,Xt.defineAspects)(Yf,[Xt.Aspect.RETRYABLE,Xt.Aspect.WRITE_OPERATION,Xt.Aspect.EXPLAINABLE,Xt.Aspect.SKIP_COLLATION]);(0,Xt.defineAspects)(Qf,[Xt.Aspect.WRITE_OPERATION,Xt.Aspect.EXPLAINABLE,Xt.Aspect.SKIP_COLLATION]);(0,Xt.defineAspects)(Jf,[Xt.Aspect.RETRYABLE,Xt.Aspect.WRITE_OPERATION,Xt.Aspect.SKIP_COLLATION])});var _1=y(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.BulkOperationBase=Ce.BulkWriteShimOperation=Ce.FindOperators=Ce.MongoBulkWriteError=Ce.mergeBatchResults=Ce.WriteError=Ce.WriteConcernError=Ce.BulkWriteResult=Ce.Batch=Ce.BatchType=void 0;var Yq=require("util"),Qq=Ke(),Ut=Y(),q8=jf(),g1=$y(),j8=zr(),Jq=xy(),Xq=ve(),zo=ky(),eo=ne(),L8=Vr(),m1=Symbol("serverError");Ce.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});var qy=class{constructor(e,r){this.originalZeroIndex=r,this.currentIndex=0,this.originalIndexes=[],this.batchType=e,this.operations=[],this.size=0,this.sizeBytes=0}};Ce.Batch=qy;var ks=class{static generateIdMap(e){let r={};for(let n of e)r[n.index]=n._id;return r}constructor(e,r){this.result=e,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=ks.generateIdMap(this.result.upserted),this.insertedIds=ks.generateIdMap(this.getSuccessfullyInsertedIds(e,r)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(e,r){return e.writeErrors.length===0?e.insertedIds:r?e.insertedIds.slice(0,e.writeErrors[0].index):e.insertedIds.filter(({index:n})=>!e.writeErrors.some(s=>n===s.index))}getUpsertedIdAt(e){return this.result.upserted[e]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(e){return e<this.result.writeErrors.length?this.result.writeErrors[e]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length!==0){if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];{let e="";for(let r=0;r<this.result.writeConcernErrors.length;r++){let n=this.result.writeConcernErrors[r];e=e+n.errmsg,r===0&&(e=e+" and ")}return new ia({errmsg:e,code:Ut.MONGODB_ERROR_CODES.WriteConcernFailed})}}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}};Ce.BulkWriteResult=ks;var ia=class{constructor(e){this[m1]=e}get code(){return this[m1].code}get errmsg(){return this[m1].errmsg}get errInfo(){return this[m1].errInfo}toJSON(){return this[m1]}toString(){return`WriteConcernError(${this.errmsg})`}};Ce.WriteConcernError=ia;var E1=class{constructor(e){this.err=e}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}};Ce.WriteError=E1;function Zf(t,e,r,n){if(r?n=r:n&&n.result&&(n=n.result),n==null)return;if(n.ok===0&&e.ok===1){e.ok=0;let i={index:0,code:n.code||0,errmsg:n.message,errInfo:n.errInfo,op:t.operations[0]};e.writeErrors.push(new E1(i));return}else if(n.ok===0&&e.ok===0)return;V8(t)&&n.n&&(e.nInserted=e.nInserted+n.n),jy(t)&&n.n&&(e.nRemoved=e.nRemoved+n.n);let s=0;if(Array.isArray(n.upserted)){s=n.upserted.length;for(let i=0;i<n.upserted.length;i++)e.upserted.push({index:n.upserted[i].index+t.originalZeroIndex,_id:n.upserted[i]._id})}else n.upserted&&(s=1,e.upserted.push({index:t.originalZeroIndex,_id:n.upserted}));if(Ly(t)&&n.n){let i=n.nModified;e.nUpserted=e.nUpserted+s,e.nMatched=e.nMatched+(n.n-s),typeof i=="number"?e.nModified=e.nModified+i:e.nModified=0}if(Array.isArray(n.writeErrors))for(let i=0;i<n.writeErrors.length;i++){let o={index:t.originalIndexes[n.writeErrors[i].index],code:n.writeErrors[i].code,errmsg:n.writeErrors[i].errmsg,errInfo:n.writeErrors[i].errInfo,op:t.operations[n.writeErrors[i].index]};e.writeErrors.push(new E1(o))}n.writeConcernError&&e.writeConcernErrors.push(new ia(n.writeConcernError))}Ce.mergeBatchResults=Zf;function U8(t,e,r){if(t.s.batches.length===0)return r(void 0,new ks(t.s.bulkResult,t.isOrdered));let n=t.s.batches.shift();function s(o,u){if(o&&"message"in o&&!(o instanceof Ut.MongoWriteConcernError))return r(new Wo(o,new ks(t.s.bulkResult,t.isOrdered)));if(o instanceof Ut.MongoWriteConcernError)return Zq(n,t.s.bulkResult,t.isOrdered,o,r);Zf(n,t.s.bulkResult,o,u);let a=new ks(t.s.bulkResult,t.isOrdered);t.handleWriteError(r,a)||U8(t,e,r)}let i=(0,eo.resolveOptions)(t,{...e,ordered:t.isOrdered});i.bypassDocumentValidation!==!0&&delete i.bypassDocumentValidation,t.operationId&&(s.operationId=t.operationId),t.s.bypassDocumentValidation===!0&&(i.bypassDocumentValidation=!0),t.s.checkKeys===!1&&(i.checkKeys=!1),i.retryWrites&&(Ly(n)&&(i.retryWrites=i.retryWrites&&!n.operations.some(o=>o.multi)),jy(n)&&(i.retryWrites=i.retryWrites&&!n.operations.some(o=>o.limit===0)));try{let o=V8(n)?new Jq.InsertOperation(t.s.namespace,n.operations,i):Ly(n)?new zo.UpdateOperation(t.s.namespace,n.operations,i):jy(n)?new g1.DeleteOperation(t.s.namespace,n.operations,i):null;o!=null&&(0,j8.executeOperation)(t.s.collection.client,o).then(u=>s(void 0,u),u=>s(u))}catch(o){o.ok=0,Zf(n,t.s.bulkResult,o,void 0),r()}}function Zq(t,e,r,n,s){Zf(t,e,void 0,n.result),s(new Wo({message:n.result?.writeConcernError.errmsg,code:n.result?.writeConcernError.result},new ks(e,r)))}var Wo=class extends Ut.MongoServerError{constructor(e,r){super(e),this.writeErrors=[],e instanceof ia?this.err=e:e instanceof Error||(this.message=e.message,this.code=e.code,this.writeErrors=e.writeErrors??[]),this.result=r,Object.assign(this,e)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}};Ce.MongoBulkWriteError=Wo;var eh=class{constructor(e){this.bulkOperation=e}update(e){let r=y1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,zo.makeUpdateStatement)(r.selector,e,{...r,multi:!0}))}updateOne(e){if(!(0,eo.hasAtomicOperators)(e))throw new Ut.MongoInvalidArgumentError("Update document requires atomic operators");let r=y1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,zo.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}replaceOne(e){if((0,eo.hasAtomicOperators)(e))throw new Ut.MongoInvalidArgumentError("Replacement document must not use atomic operators");let r=y1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,zo.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}deleteOne(){let e=y1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.DELETE,(0,g1.makeDeleteStatement)(e.selector,{...e,limit:1}))}delete(){let e=y1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.DELETE,(0,g1.makeDeleteStatement)(e.selector,{...e,limit:0}))}upsert(){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.upsert=!0,this}collation(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.collation=e,this}arrayFilters(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.arrayFilters=e,this}hint(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.hint=e,this}};Ce.FindOperators=eh;var eL=(0,Yq.promisify)(U8),th=class extends Xq.AbstractOperation{constructor(e,r){super(r),this.bulkOperation=e}get commandName(){return"bulkWrite"}execute(e,r){return this.options.session==null&&(this.options.session=r),eL(this.bulkOperation,this.options)}};Ce.BulkWriteShimOperation=th;var rh=class{constructor(e,r,n){this.collection=e,this.isOrdered=n;let s=(0,eo.getTopology)(e);r=r??{};let i=e.s.namespace,o=!1,u=void 0,a=s.lastHello(),c=!!(s.s.options&&s.s.options.autoEncrypter),l=a&&a.maxBsonObjectSize?a.maxBsonObjectSize:1024*1024*16,f=c?1024*1024*2:l,h=a&&a.maxWriteBatchSize?a.maxWriteBatchSize:1e3,d=(h-1).toString(10).length+2,p=Object.assign({},r);p=(0,eo.applyRetryableWrites)(p,e.s.db);let m={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};this.s={bulkResult:m,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:L8.WriteConcern.fromOptions(r),maxBsonObjectSize:l,maxBatchSizeBytes:f,maxWriteBatchSize:h,maxKeySize:d,namespace:i,topology:s,options:p,bsonOptions:(0,Qq.resolveBSONOptions)(r),currentOp:u,executed:o,collection:e,err:void 0,checkKeys:typeof r.checkKeys=="boolean"?r.checkKeys:!1},r.bypassDocumentValidation===!0&&(this.s.bypassDocumentValidation=!0)}insert(e){return(0,q8.maybeAddIdToDocuments)(this.collection,e,{forceServerObjectId:this.shouldForceServerObjectId()}),this.addToOperationsList(Ce.BatchType.INSERT,e)}find(e){if(!e)throw new Ut.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:e},new eh(this)}raw(e){if(e==null||typeof e!="object")throw new Ut.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in e){let r=this.shouldForceServerObjectId(),n=e.insertOne&&e.insertOne.document==null?e.insertOne:e.insertOne.document;return(0,q8.maybeAddIdToDocuments)(this.collection,n,{forceServerObjectId:r}),this.addToOperationsList(Ce.BatchType.INSERT,n)}if("replaceOne"in e||"updateOne"in e||"updateMany"in e){if("replaceOne"in e){if("q"in e.replaceOne)throw new Ut.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zo.makeUpdateStatement)(e.replaceOne.filter,e.replaceOne.replacement,{...e.replaceOne,multi:!1});if((0,eo.hasAtomicOperators)(r.u))throw new Ut.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}if("updateOne"in e){if("q"in e.updateOne)throw new Ut.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zo.makeUpdateStatement)(e.updateOne.filter,e.updateOne.update,{...e.updateOne,multi:!1});if(!(0,eo.hasAtomicOperators)(r.u))throw new Ut.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}if("updateMany"in e){if("q"in e.updateMany)throw new Ut.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zo.makeUpdateStatement)(e.updateMany.filter,e.updateMany.update,{...e.updateMany,multi:!0});if(!(0,eo.hasAtomicOperators)(r.u))throw new Ut.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}}if("deleteOne"in e){if("q"in e.deleteOne)throw new Ut.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ce.BatchType.DELETE,(0,g1.makeDeleteStatement)(e.deleteOne.filter,{...e.deleteOne,limit:1}))}if("deleteMany"in e){if("q"in e.deleteMany)throw new Ut.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ce.BatchType.DELETE,(0,g1.makeDeleteStatement)(e.deleteMany.filter,{...e.deleteMany,limit:0}))}throw new Ut.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){let e=[...this.s.batches];return this.isOrdered?this.s.currentBatch&&e.push(this.s.currentBatch):(this.s.currentInsertBatch&&e.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&e.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&e.push(this.s.currentRemoveBatch)),e}async execute(e={}){if(this.s.executed)throw new Ut.MongoBatchReExecutionError;let r=L8.WriteConcern.fromOptions(e);if(r&&(this.s.writeConcern=r),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),this.s.batches.length===0)throw new Ut.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;let n={...this.s.options,...e},s=new th(this,n);return(0,j8.executeOperation)(this.s.collection.client,s)}handleWriteError(e,r){if(this.s.bulkResult.writeErrors.length>0){let s=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return e(new Wo({message:s,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},r)),!0}let n=r.getWriteConcernError();return n?(e(new Wo(n,r)),!0):!1}shouldForceServerObjectId(){return this.s.options.forceServerObjectId===!0||this.s.collection.s.db.options?.forceServerObjectId===!0}};Ce.BulkOperationBase=rh;Object.defineProperty(rh.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}});function V8(t){return t.batchType===Ce.BatchType.INSERT}function Ly(t){return t.batchType===Ce.BatchType.UPDATE}function jy(t){return t.batchType===Ce.BatchType.DELETE}function y1(t){let{currentOp:e}=t.s;return t.s.currentOp=void 0,e||(e={}),e}});var Vy=y(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.OrderedBulkOperation=void 0;var tL=Ke(),z8=Y(),nh=_1(),Uy=class extends nh.BulkOperationBase{constructor(e,r){super(e,r,!0)}addToOperationsList(e,r){let n=tL.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new z8.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch==null&&(this.s.currentBatch=new nh.Batch(e,this.s.currentIndex));let s=this.s.maxKeySize;if((this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+s+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new nh.Batch(e,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0),e===nh.BatchType.INSERT&&this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:r._id}),Array.isArray(r))throw new z8.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(r),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=s+n,this.s.currentIndex+=1,this}};ih.OrderedBulkOperation=Uy});var Wy=y(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.UnorderedBulkOperation=void 0;var rL=Ke(),W8=Y(),hi=_1(),zy=class extends hi.BulkOperationBase{constructor(e,r){super(e,r,!1)}handleWriteError(e,r){return this.s.batches.length?!1:super.handleWriteError(e,r)}addToOperationsList(e,r){let n=rL.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new W8.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch=void 0,e===hi.BatchType.INSERT?this.s.currentBatch=this.s.currentInsertBatch:e===hi.BatchType.UPDATE?this.s.currentBatch=this.s.currentUpdateBatch:e===hi.BatchType.DELETE&&(this.s.currentBatch=this.s.currentRemoveBatch);let s=this.s.maxKeySize;if(this.s.currentBatch==null&&(this.s.currentBatch=new hi.Batch(e,this.s.currentIndex)),(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+s+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new hi.Batch(e,this.s.currentIndex)),Array.isArray(r))throw new W8.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.operations.push(r),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,e===hi.BatchType.INSERT?(this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:r._id})):e===hi.BatchType.UPDATE?this.s.currentUpdateBatch=this.s.currentBatch:e===hi.BatchType.DELETE&&(this.s.currentRemoveBatch=this.s.currentBatch),this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=s+n,this}};oh.UnorderedBulkOperation=zy});var ah=y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.AggregateOperation=Go.DB_AGGREGATE_COLLECTION=void 0;var G8=Y(),nL=ne(),sL=Vr(),iL=bt(),A1=ve();Go.DB_AGGREGATE_COLLECTION=1;var oL=8,uh=class extends iL.CommandOperation{constructor(e,r,n){if(super(void 0,{...n,dbName:e.db}),this.options={...n},this.target=e.collection||Go.DB_AGGREGATE_COLLECTION,this.pipeline=r,this.hasWriteStage=!1,typeof n?.out=="string")this.pipeline=this.pipeline.concat({$out:n.out}),this.hasWriteStage=!0;else if(r.length>0){let s=r[r.length-1];(s.$out||s.$merge)&&(this.hasWriteStage=!0)}if(this.hasWriteStage?this.trySecondaryWrite=!0:delete this.options.writeConcern,this.explain&&this.writeConcern)throw new G8.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(n?.cursor!=null&&typeof n.cursor!="object")throw new G8.MongoInvalidArgumentError("Cursor options must be an object")}get commandName(){return"aggregate"}get canRetryRead(){return!this.hasWriteStage}addToPipeline(e){this.pipeline.push(e)}async execute(e,r){let n=this.options,s=(0,nL.maxWireVersion)(e),i={aggregate:this.target,pipeline:this.pipeline};return this.hasWriteStage&&s<oL&&(this.readConcern=void 0),this.hasWriteStage&&this.writeConcern&&sL.WriteConcern.apply(i,this.writeConcern),n.bypassDocumentValidation===!0&&(i.bypassDocumentValidation=n.bypassDocumentValidation),typeof n.allowDiskUse=="boolean"&&(i.allowDiskUse=n.allowDiskUse),n.hint&&(i.hint=n.hint),n.let&&(i.let=n.let),n.comment!==void 0&&(i.comment=n.comment),i.cursor=n.cursor||{},n.batchSize&&!this.hasWriteStage&&(i.cursor.batchSize=n.batchSize),super.executeCommand(e,r,i)}};Go.AggregateOperation=uh;(0,A1.defineAspects)(uh,[A1.Aspect.READ_OPERATION,A1.Aspect.RETRYABLE,A1.Aspect.EXPLAINABLE,A1.Aspect.CURSOR_CREATING])});var Ko=y(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.MongoLogger=ce.defaultLogTransform=ce.stringifyWithMaxLen=ce.createStdioLogger=ce.parseSeverityFromString=ce.MongoLoggableComponent=ce.SEVERITY_LEVEL_MAP=ce.DEFAULT_MAX_DOCUMENT_LENGTH=ce.SeverityLevel=void 0;var H8=require("util"),uL=Ke(),nt=It(),ua=ne();ce.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});ce.DEFAULT_MAX_DOCUMENT_LENGTH=1e3;var Ky=class extends Map{constructor(e){let r=[];for(let[n,s]of e)r.push([s,n]);r.push(...e),super(r)}getNumericSeverityLevel(e){return this.get(e)}getSeverityLevelName(e){return this.get(e)}};ce.SEVERITY_LEVEL_MAP=new Ky([[ce.SeverityLevel.OFF,-1/0],[ce.SeverityLevel.EMERGENCY,0],[ce.SeverityLevel.ALERT,1],[ce.SeverityLevel.CRITICAL,2],[ce.SeverityLevel.ERROR,3],[ce.SeverityLevel.WARNING,4],[ce.SeverityLevel.NOTICE,5],[ce.SeverityLevel.INFORMATIONAL,6],[ce.SeverityLevel.DEBUG,7],[ce.SeverityLevel.TRACE,8]]);ce.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection",CLIENT:"client"});function Yy(t){let e=Object.values(ce.SeverityLevel),r=t?.toLowerCase();return r!=null&&e.includes(r)?r:null}ce.parseSeverityFromString=Yy;function Ho(t){return{write:(0,H8.promisify)((e,r)=>{let n=(0,H8.inspect)(e,{compact:!0,breakLength:1/0});t.write(`${n}
`,"utf-8",r)})}}ce.createStdioLogger=Ho;function aL({MONGODB_LOG_PATH:t},{mongodbLogPath:e}){return typeof e=="string"&&/^stderr$/i.test(e)?{mongodbLogPath:Ho(process.stderr),mongodbLogPathIsStdErr:!0}:typeof e=="string"&&/^stdout$/i.test(e)?{mongodbLogPath:Ho(process.stdout),mongodbLogPathIsStdErr:!1}:typeof e=="object"&&typeof e?.write=="function"?{mongodbLogPath:e,mongodbLogPathIsStdErr:!1}:t&&/^stderr$/i.test(t)?{mongodbLogPath:Ho(process.stderr),mongodbLogPathIsStdErr:!0}:t&&/^stdout$/i.test(t)?{mongodbLogPath:Ho(process.stdout),mongodbLogPathIsStdErr:!1}:{mongodbLogPath:Ho(process.stderr),mongodbLogPathIsStdErr:!0}}function oa(t,e,r){return Yy(t)??Yy(e)??r}function cL(t,e){let r=ce.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(t),n=ce.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(e);return r<n?-1:r>n?1:0}function ro(t,e,r={}){let n="";if(typeof t=="string")n=t;else if(typeof t=="function")n=t.name;else try{n=uL.EJSON.stringify(t,r)}catch(s){n=`Extended JSON serialization failed with: ${s.message}`}return e!==0&&n.length>e&&n.charCodeAt(e-1)!==n.codePointAt(e-1)&&(e--,e===0)?"":e!==0&&n.length>e?`${n.slice(0,e)}...`:n}ce.stringifyWithMaxLen=ro;function lL(t){let e=t;return e.toLog!==void 0&&typeof e.toLog=="function"}function ch(t,e,r=ce.DEFAULT_MAX_DOCUMENT_LENGTH){let{selector:n,operation:s,topologyDescription:i,message:o}=e;return t.selector=ro(n,r),t.operation=s,t.topologyDescription=ro(i,r),t.message=o,t}function Gy(t,e){t.commandName=e.commandName,t.requestId=e.requestId,t.driverConnectionId=e.connectionId;let{host:r,port:n}=ua.HostAddress.fromString(e.address).toHostPort();return t.serverHost=r,t.serverPort=n,e?.serviceId&&(t.serviceId=e.serviceId.toHexString()),t.databaseName=e.databaseName,t.serverConnectionId=e.serverConnectionId,t}function yn(t,e){let{host:r,port:n}=ua.HostAddress.fromString(e.address).toHostPort();return t.serverHost=r,t.serverPort=n,t}function to(t,e){return t.topologyId=e.topologyId,t}function Hy(t,e){let{awaited:r,connectionId:n}=e;t.awaited=r,t.driverConnectionId=e.connectionId;let{host:s,port:i}=ua.HostAddress.fromString(n).toHostPort();return t.serverHost=s,t.serverPort=i,t}function K8(t,e=ce.DEFAULT_MAX_DOCUMENT_LENGTH){let r=Object.create(null);switch(t.name){case nt.SERVER_SELECTION_STARTED:return r=ch(r,t,e),r;case nt.SERVER_SELECTION_FAILED:return r=ch(r,t,e),r.failure=t.failure?.message,r;case nt.SERVER_SELECTION_SUCCEEDED:return r=ch(r,t,e),r.serverHost=t.serverHost,r.serverPort=t.serverPort,r;case nt.WAITING_FOR_SUITABLE_SERVER:return r=ch(r,t,e),r.remainingTimeMS=t.remainingTimeMS,r;case nt.COMMAND_STARTED:return r=Gy(r,t),r.message="Command started",r.command=ro(t.command,e,{relaxed:!0}),r.databaseName=t.databaseName,r;case nt.COMMAND_SUCCEEDED:return r=Gy(r,t),r.message="Command succeeded",r.durationMS=t.duration,r.reply=ro(t.reply,e,{relaxed:!0}),r;case nt.COMMAND_FAILED:return r=Gy(r,t),r.message="Command failed",r.durationMS=t.duration,r.failure=t.failure?.message??"(redacted)",r;case nt.CONNECTION_POOL_CREATED:if(r=yn(r,t),r.message="Connection pool created",t.options){let{maxIdleTimeMS:n,minPoolSize:s,maxPoolSize:i,maxConnecting:o,waitQueueTimeoutMS:u}=t.options;r={...r,maxIdleTimeMS:n,minPoolSize:s,maxPoolSize:i,maxConnecting:o,waitQueueTimeoutMS:u}}return r;case nt.CONNECTION_POOL_READY:return r=yn(r,t),r.message="Connection pool ready",r;case nt.CONNECTION_POOL_CLEARED:return r=yn(r,t),r.message="Connection pool cleared",t.serviceId?._bsontype==="ObjectId"&&(r.serviceId=t.serviceId?.toHexString()),r;case nt.CONNECTION_POOL_CLOSED:return r=yn(r,t),r.message="Connection pool closed",r;case nt.CONNECTION_CREATED:return r=yn(r,t),r.message="Connection created",r.driverConnectionId=t.connectionId,r;case nt.CONNECTION_READY:return r=yn(r,t),r.message="Connection ready",r.driverConnectionId=t.connectionId,r;case nt.CONNECTION_CLOSED:switch(r=yn(r,t),r.message="Connection closed",r.driverConnectionId=t.connectionId,t.reason){case"stale":r.reason="Connection became stale because the pool was cleared";break;case"idle":r.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":r.reason="An error occurred while using the connection",t.error&&(r.error=t.error);break;case"poolClosed":r.reason="Connection pool was closed";break;default:r.reason=`Unknown close reason: ${t.reason}`}return r;case nt.CONNECTION_CHECK_OUT_STARTED:return r=yn(r,t),r.message="Connection checkout started",r;case nt.CONNECTION_CHECK_OUT_FAILED:switch(r=yn(r,t),r.message="Connection checkout failed",t.reason){case"poolClosed":r.reason="Connection pool was closed";break;case"timeout":r.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":r.reason="An error occurred while trying to establish a new connection",t.error&&(r.error=t.error);break;default:r.reason=`Unknown close reason: ${t.reason}`}return r;case nt.CONNECTION_CHECKED_OUT:return r=yn(r,t),r.message="Connection checked out",r.driverConnectionId=t.connectionId,r;case nt.CONNECTION_CHECKED_IN:return r=yn(r,t),r.message="Connection checked in",r.driverConnectionId=t.connectionId,r;case nt.SERVER_OPENING:return r=to(r,t),r=yn(r,t),r.message="Starting server monitoring",r;case nt.SERVER_CLOSED:return r=to(r,t),r=yn(r,t),r.message="Stopped server monitoring",r;case nt.SERVER_HEARTBEAT_STARTED:return r=to(r,t),r=Hy(r,t),r.message="Server heartbeat started",r;case nt.SERVER_HEARTBEAT_SUCCEEDED:return r=to(r,t),r=Hy(r,t),r.message="Server heartbeat succeeded",r.durationMS=t.duration,r.serverConnectionId=t.serverConnectionId,r.reply=ro(t.reply,e,{relaxed:!0}),r;case nt.SERVER_HEARTBEAT_FAILED:return r=to(r,t),r=Hy(r,t),r.message="Server heartbeat failed",r.durationMS=t.duration,r.failure=t.failure?.message,r;case nt.TOPOLOGY_OPENING:return r=to(r,t),r.message="Starting topology monitoring",r;case nt.TOPOLOGY_CLOSED:return r=to(r,t),r.message="Stopped topology monitoring",r;case nt.TOPOLOGY_DESCRIPTION_CHANGED:return r=to(r,t),r.message="Topology description changed",r.previousDescription=r.reply=ro(t.previousDescription,e),r.newDescription=r.reply=ro(t.newDescription,e),r;default:for(let[n,s]of Object.entries(t))s!=null&&(r[n]=s)}return r}ce.defaultLogTransform=K8;var Qy=class{constructor(e){this.pendingLog=null,this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=e.componentSeverities,this.maxDocumentLength=e.maxDocumentLength,this.logDestination=e.logDestination,this.logDestinationIsStdErr=e.logDestinationIsStdErr,this.severities=this.createLoggingSeverities()}createLoggingSeverities(){let e=Object();for(let r of Object.values(ce.MongoLoggableComponent)){e[r]={};for(let n of Object.values(ce.SeverityLevel))e[r][n]=cL(n,this.componentSeverities[r])<=0}return e}turnOffSeverities(){for(let e of Object.values(ce.MongoLoggableComponent)){this.componentSeverities[e]=ce.SeverityLevel.OFF;for(let r of Object.values(ce.SeverityLevel))this.severities[e][r]=!1}}logWriteFailureHandler(e){if(this.logDestinationIsStdErr){this.turnOffSeverities(),this.clearPendingLog();return}this.logDestination=Ho(process.stderr),this.logDestinationIsStdErr=!0,this.clearPendingLog(),this.error(ce.MongoLoggableComponent.CLIENT,{toLog:function(){return{message:"User input for mongodbLogPath is now invalid. Logging is halted.",error:e.message}}}),this.turnOffSeverities(),this.clearPendingLog()}clearPendingLog(){this.pendingLog=null}willLog(e,r){return r===ce.SeverityLevel.OFF?!1:this.severities[e][r]}log(e,r,n){if(!this.willLog(r,e))return;let s={t:new Date,c:r,s:e};if(typeof n=="string"?s.message=n:typeof n=="object"&&(lL(n)?s={...s,...n.toLog()}:s={...s,...K8(n,this.maxDocumentLength)}),(0,ua.isPromiseLike)(this.pendingLog)){this.pendingLog=this.pendingLog.then(()=>this.logDestination.write(s)).then(this.clearPendingLog.bind(this),this.logWriteFailureHandler.bind(this));return}try{let i=this.logDestination.write(s);(0,ua.isPromiseLike)(i)&&(this.pendingLog=i.then(this.clearPendingLog.bind(this),this.logWriteFailureHandler.bind(this)))}catch(i){this.logWriteFailureHandler(i)}}static resolveOptions(e,r){let n=aL(e,r),s={...e,...r,mongodbLogPath:n.mongodbLogPath,mongodbLogPathIsStdErr:n.mongodbLogPathIsStdErr},i=oa(s.mongodbLogComponentSeverities?.default,s.MONGODB_LOG_ALL,ce.SeverityLevel.OFF);return{componentSeverities:{command:oa(s.mongodbLogComponentSeverities?.command,s.MONGODB_LOG_COMMAND,i),topology:oa(s.mongodbLogComponentSeverities?.topology,s.MONGODB_LOG_TOPOLOGY,i),serverSelection:oa(s.mongodbLogComponentSeverities?.serverSelection,s.MONGODB_LOG_SERVER_SELECTION,i),connection:oa(s.mongodbLogComponentSeverities?.connection,s.MONGODB_LOG_CONNECTION,i),client:oa(s.mongodbLogComponentSeverities?.client,s.MONGODB_LOG_CLIENT,i),default:i},maxDocumentLength:s.mongodbLogMaxDocumentLength??(0,ua.parseUnsignedInteger)(s.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1e3,logDestination:s.mongodbLogPath,logDestinationIsStdErr:s.mongodbLogPathIsStdErr}}};ce.MongoLogger=Qy});var gn=y(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.CancellationToken=aa.TypedEventEmitter=void 0;var fL=require("events"),hL=Ko(),lh=class extends fL.EventEmitter{emitAndLog(e,...r){this.emit(e,...r),this.component&&this.mongoLogger?.debug(this.component,r[0])}emitAndLogHeartbeat(e,r,n,...s){if(this.emit(e,...s),this.component){let i={topologyId:r,serverConnectionId:n??null,...s[0]};this.mongoLogger?.debug(this.component,i)}}emitAndLogCommand(e,r,n,s,...i){if(e&&this.emit(r,...i),s){let o={databaseName:n,...i[0]};this.mongoLogger?.debug(hL.MongoLoggableComponent.COMMAND,o)}}};aa.TypedEventEmitter=lh;var Jy=class extends lh{};aa.CancellationToken=Jy});var Zy=y(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.GetMoreOperation=void 0;var Xy=Y(),dL=ne(),fh=ve(),hh=class extends fh.AbstractOperation{constructor(e,r,n,s){super(s),this.options=s,this.ns=e,this.cursorId=r,this.server=n}get commandName(){return"getMore"}async execute(e,r){if(e!==this.server)throw new Xy.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new Xy.MongoRuntimeError("Unable to iterate cursor with no id");let n=this.ns.collection;if(n==null)throw new Xy.MongoRuntimeError("A collection name must be determined before getMore");let s={getMore:this.cursorId,collection:n};typeof this.options.batchSize=="number"&&(s.batchSize=Math.abs(this.options.batchSize)),typeof this.options.maxAwaitTimeMS=="number"&&(s.maxTimeMS=this.options.maxAwaitTimeMS),this.options.comment!==void 0&&(0,dL.maxWireVersion)(e)>=9&&(s.comment=this.options.comment);let i={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return e.command(this.ns,s,i)}};dh.GetMoreOperation=hh;(0,fh.defineAspects)(hh,[fh.Aspect.READ_OPERATION,fh.Aspect.MUST_SELECT_SAME_SERVER])});var Q8=y(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.KillCursorsOperation=void 0;var Y8=Y(),eg=ve(),ph=class extends eg.AbstractOperation{constructor(e,r,n,s){super(s),this.ns=r,this.cursorId=e,this.server=n}get commandName(){return"killCursors"}async execute(e,r){if(e!==this.server)throw new Y8.MongoRuntimeError("Killcursor must run on the same server operation began on");let n=this.ns.collection;if(n==null)throw new Y8.MongoRuntimeError("A collection name must be determined before killCursors");let s={killCursors:n,cursors:[this.cursorId]};try{await e.command(this.ns,s,{session:r})}catch{}}};mh.KillCursorsOperation=ph;(0,eg.defineAspects)(ph,[eg.Aspect.MUST_SELECT_SAME_SERVER])});var tg=y(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.ConnectionPoolMetrics=void 0;var cs=class{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(e){e===cs.TXN?this.txnConnections+=1:e===cs.CURSOR?this.cursorConnections+=1:this.otherConnections+=1}markUnpinned(e){e===cs.TXN?this.txnConnections-=1:e===cs.CURSOR?this.cursorConnections-=1:this.otherConnections-=1}info(e){return`Timed out while checking out a connection from connection pool: maxPoolSize: ${e}, connections in use by cursors: ${this.cursorConnections}, connections in use by transactions: ${this.txnConnections}, connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}};cs.TXN="txn";cs.CURSOR="cursor";cs.OTHER="other";yh.ConnectionPoolMetrics=cs});var O1=y(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.compareTopologyVersion=no.parseServerType=no.ServerDescription=void 0;var gh=Ke(),pL=Y(),ca=ne(),Rt=dn(),mL=new Set([Rt.ServerType.RSPrimary,Rt.ServerType.Standalone,Rt.ServerType.Mongos,Rt.ServerType.LoadBalancer]),yL=new Set([Rt.ServerType.RSPrimary,Rt.ServerType.RSSecondary,Rt.ServerType.Mongos,Rt.ServerType.Standalone,Rt.ServerType.LoadBalancer]),rg=class{constructor(e,r,n={}){if(e==null||e==="")throw new pL.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof e=="string"?ca.HostAddress.fromString(e).toString():e.toString(),this.type=J8(r,n),this.hosts=r?.hosts?.map(s=>s.toLowerCase())??[],this.passives=r?.passives?.map(s=>s.toLowerCase())??[],this.arbiters=r?.arbiters?.map(s=>s.toLowerCase())??[],this.tags=r?.tags??{},this.minWireVersion=r?.minWireVersion??0,this.maxWireVersion=r?.maxWireVersion??0,this.roundTripTime=n?.roundTripTime??-1,this.lastUpdateTime=(0,ca.now)(),this.lastWriteDate=r?.lastWrite?.lastWriteDate??0,this.error=n.error??null,this.topologyVersion=this.error?.topologyVersion??r?.topologyVersion??null,this.setName=r?.setName??null,this.setVersion=r?.setVersion??null,this.electionId=r?.electionId??null,this.logicalSessionTimeoutMinutes=r?.logicalSessionTimeoutMinutes??null,this.primary=r?.primary??null,this.me=r?.me?.toLowerCase()??null,this.$clusterTime=r?.$clusterTime??null}get hostAddress(){return ca.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===Rt.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return yL.has(this.type)}get isWritable(){return mL.has(this.type)}get host(){let e=`:${this.port}`.length;return this.address.slice(0,-e)}get port(){let e=this.address.split(":").pop();return e?Number.parseInt(e,10):27017}equals(e){let r=this.topologyVersion===e?.topologyVersion||X8(this.topologyVersion,e?.topologyVersion)===0,n=this.electionId!=null&&e?.electionId!=null?(0,ca.compareObjectId)(this.electionId,e.electionId)===0:this.electionId===e?.electionId;return e!=null&&(0,ca.errorStrictEqual)(this.error,e.error)&&this.type===e.type&&this.minWireVersion===e.minWireVersion&&(0,ca.arrayStrictEqual)(this.hosts,e.hosts)&&gL(this.tags,e.tags)&&this.setName===e.setName&&this.setVersion===e.setVersion&&n&&this.primary===e.primary&&this.logicalSessionTimeoutMinutes===e.logicalSessionTimeoutMinutes&&r}};no.ServerDescription=rg;function J8(t,e){return e?.loadBalanced?Rt.ServerType.LoadBalancer:!t||!t.ok?Rt.ServerType.Unknown:t.isreplicaset?Rt.ServerType.RSGhost:t.msg&&t.msg==="isdbgrid"?Rt.ServerType.Mongos:t.setName?t.hidden?Rt.ServerType.RSOther:t.isWritablePrimary?Rt.ServerType.RSPrimary:t.secondary?Rt.ServerType.RSSecondary:t.arbiterOnly?Rt.ServerType.RSArbiter:Rt.ServerType.RSOther:Rt.ServerType.Standalone}no.parseServerType=J8;function gL(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(s=>e[s]===t[s])}function X8(t,e){if(t==null||e==null||!t.processId.equals(e.processId))return-1;let r=gh.Long.isLong(t.counter)?t.counter:gh.Long.fromNumber(t.counter),n=gh.Long.isLong(e.counter)?e.counter:gh.Long.fromNumber(e.counter);return r.compare(n)}no.compareTopologyVersion=X8});var sg=y(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.TopologyDescription=void 0;var Eh=qo(),EL=Y(),ng=ne(),Se=dn(),so=O1(),_L=Eh.MIN_SUPPORTED_SERVER_VERSION,AL=Eh.MAX_SUPPORTED_SERVER_VERSION,Z8=Eh.MIN_SUPPORTED_WIRE_VERSION,eO=Eh.MAX_SUPPORTED_WIRE_VERSION,OL=new Set([Se.ServerType.Mongos,Se.ServerType.Unknown]),tO=new Set([Se.ServerType.Mongos,Se.ServerType.Standalone]),rO=new Set([Se.ServerType.RSSecondary,Se.ServerType.RSArbiter,Se.ServerType.RSOther]),Qo=class{constructor(e,r=null,n=null,s=null,i=null,o=null,u=null){u=u??{},this.type=e??Se.TopologyType.Unknown,this.servers=r??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=u.heartbeatFrequencyMS??0,this.localThresholdMS=u.localThresholdMS??15,this.setName=n??null,this.maxElectionId=i??null,this.maxSetVersion=s??null,this.commonWireVersion=o??0;for(let a of this.servers.values())if(!(a.type===Se.ServerType.Unknown||a.type===Se.ServerType.LoadBalancer)&&(a.minWireVersion>eO&&(this.compatible=!1,this.compatibilityError=`Server at ${a.address} requires wire version ${a.minWireVersion}, but this version of the driver only supports up to ${eO} (MongoDB ${AL})`),a.maxWireVersion<Z8)){this.compatible=!1,this.compatibilityError=`Server at ${a.address} reports wire version ${a.maxWireVersion}, but this version of the driver requires at least ${Z8} (MongoDB ${_L}).`;break}this.logicalSessionTimeoutMinutes=null;for(let[,a]of this.servers)if(a.isReadable){if(a.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=a.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,a.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(e,r=0){let n=e.hostnames(),s=new Set(this.servers.keys()),i=new Set(n),o=new Set;for(let a of s)i.delete(a),n.has(a)||o.add(a);if(i.size===0&&o.size===0)return this;let u=new Map(this.servers);for(let a of o)u.delete(a);if(i.size>0){if(r===0)for(let a of i)u.set(a,new so.ServerDescription(a));else if(u.size<r){let a=(0,ng.shuffle)(i,r-u.size);for(let c of a)u.set(c,new so.ServerDescription(c))}}return new Qo(this.type,u,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(e){let r=e.address,{type:n,setName:s,maxSetVersion:i,maxElectionId:o,commonWireVersion:u}=this,a=e.type,c=new Map(this.servers);if(e.maxWireVersion!==0&&(u==null?u=e.maxWireVersion:u=Math.min(u,e.maxWireVersion)),typeof e.setName=="string"&&typeof s=="string"&&e.setName!==s&&(n===Se.TopologyType.Single?e=new so.ServerDescription(r):c.delete(r)),c.set(r,e),n===Se.TopologyType.Single)return new Qo(Se.TopologyType.Single,c,s,i,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(n===Se.TopologyType.Unknown&&(a===Se.ServerType.Standalone&&this.servers.size!==1?c.delete(r):n=CL(a)),n===Se.TopologyType.Sharded&&(OL.has(a)||c.delete(r)),n===Se.TopologyType.ReplicaSetNoPrimary){if(tO.has(a)&&c.delete(r),a===Se.ServerType.RSPrimary){let l=nO(c,e,s,i,o);n=l[0],s=l[1],i=l[2],o=l[3]}else if(rO.has(a)){let l=wL(c,e,s);n=l[0],s=l[1]}}if(n===Se.TopologyType.ReplicaSetWithPrimary)if(tO.has(a))c.delete(r),n=Yo(c);else if(a===Se.ServerType.RSPrimary){let l=nO(c,e,s,i,o);n=l[0],s=l[1],i=l[2],o=l[3]}else rO.has(a)?n=SL(c,e,s):n=Yo(c);return new Qo(n,c,s,i,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){let e=Array.from(this.servers.values()).filter(r=>r.error);return e.length>0?e[0].error:null}get hasKnownServers(){return Array.from(this.servers.values()).some(e=>e.type!==Se.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some(e=>e.isDataBearing)}hasServer(e){return this.servers.has(e)}};_h.TopologyDescription=Qo;function CL(t){switch(t){case Se.ServerType.Standalone:return Se.TopologyType.Single;case Se.ServerType.Mongos:return Se.TopologyType.Sharded;case Se.ServerType.RSPrimary:return Se.TopologyType.ReplicaSetWithPrimary;case Se.ServerType.RSOther:case Se.ServerType.RSSecondary:return Se.TopologyType.ReplicaSetNoPrimary;default:return Se.TopologyType.Unknown}}function nO(t,e,r=null,n=null,s=null){if(r=r||e.setName,r!==e.setName)return t.delete(e.address),[Yo(t),r,n,s];if(e.maxWireVersion>=17){let u=(0,ng.compareObjectId)(s,e.electionId),a=u===0,c=u===-1,l=(n??-1)<=(e.setVersion??-1);if(c||a&&l)s=e.electionId,n=e.setVersion;else return t.set(e.address,new so.ServerDescription(e.address)),[Yo(t),r,n,s]}else{let u=e.electionId?e.electionId:null;if(e.setVersion&&u){if(n&&s&&(n>e.setVersion||(0,ng.compareObjectId)(s,u)>0))return t.set(e.address,new so.ServerDescription(e.address)),[Yo(t),r,n,s];s=e.electionId}e.setVersion!=null&&(n==null||e.setVersion>n)&&(n=e.setVersion)}for(let[u,a]of t)if(a.type===Se.ServerType.RSPrimary&&a.address!==e.address){t.set(u,new so.ServerDescription(a.address));break}e.allHosts.forEach(u=>{t.has(u)||t.set(u,new so.ServerDescription(u))});let i=Array.from(t.keys()),o=e.allHosts;return i.filter(u=>o.indexOf(u)===-1).forEach(u=>{t.delete(u)}),[Yo(t),r,n,s]}function SL(t,e,r=null){if(r==null)throw new EL.MongoRuntimeError('Argument "setName" is required if connected to a replica set');return(r!==e.setName||e.me&&e.address!==e.me)&&t.delete(e.address),Yo(t)}function wL(t,e,r=null){let n=Se.TopologyType.ReplicaSetNoPrimary;return r=r??e.setName,r!==e.setName?(t.delete(e.address),[n,r]):(e.allHosts.forEach(s=>{t.has(s)||t.set(s,new so.ServerDescription(s))}),e.me&&e.address!==e.me&&t.delete(e.address),[n,r])}function Yo(t){for(let e of t.values())if(e.type===Se.ServerType.RSPrimary)return Se.TopologyType.ReplicaSetWithPrimary;return Se.TopologyType.ReplicaSetNoPrimary}});var og=y(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.isSharded=la.getReadPreference=void 0;var bL=Y(),ig=jt(),sO=dn(),DL=sg();function TL(t){let e=t?.readPreference??ig.ReadPreference.primary;if(typeof e=="string"&&(e=ig.ReadPreference.fromString(e)),!(e instanceof ig.ReadPreference))throw new bL.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return e}la.getReadPreference=TL;function ML(t){return t==null?!1:t.description&&t.description.type===sO.ServerType.Mongos?!0:t.description&&t.description instanceof DL.TopologyDescription?Array.from(t.description.servers.values()).some(r=>r.type===sO.ServerType.Mongos):!1}la.isSharded=ML});var ag=y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.isTransactionCommand=pe.Transaction=pe.TxnState=void 0;var iO=Y(),BL=$n(),PL=jt(),FL=Vr();pe.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var NL={[pe.TxnState.NO_TRANSACTION]:[pe.TxnState.NO_TRANSACTION,pe.TxnState.STARTING_TRANSACTION],[pe.TxnState.STARTING_TRANSACTION]:[pe.TxnState.TRANSACTION_IN_PROGRESS,pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.TRANSACTION_ABORTED],[pe.TxnState.TRANSACTION_IN_PROGRESS]:[pe.TxnState.TRANSACTION_IN_PROGRESS,pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_ABORTED],[pe.TxnState.TRANSACTION_COMMITTED]:[pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.STARTING_TRANSACTION,pe.TxnState.NO_TRANSACTION],[pe.TxnState.TRANSACTION_ABORTED]:[pe.TxnState.STARTING_TRANSACTION,pe.TxnState.NO_TRANSACTION],[pe.TxnState.TRANSACTION_COMMITTED_EMPTY]:[pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.NO_TRANSACTION]},$L=new Set([pe.TxnState.STARTING_TRANSACTION,pe.TxnState.TRANSACTION_IN_PROGRESS]),IL=new Set([pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.TRANSACTION_ABORTED]),ug=class{constructor(e){e=e??{},this.state=pe.TxnState.NO_TRANSACTION,this.options={};let r=FL.WriteConcern.fromOptions(e);if(r){if(r.w===0)throw new iO.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=r}e.readConcern&&(this.options.readConcern=BL.ReadConcern.fromOptions(e)),e.readPreference&&(this.options.readPreference=PL.ReadPreference.fromOptions(e)),e.maxCommitTimeMS&&(this.options.maxTimeMS=e.maxCommitTimeMS),this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===pe.TxnState.STARTING_TRANSACTION}get isActive(){return $L.has(this.state)}get isCommitted(){return IL.has(this.state)}transition(e){let r=NL[this.state];if(r&&r.includes(e)){this.state=e,(this.state===pe.TxnState.NO_TRANSACTION||this.state===pe.TxnState.STARTING_TRANSACTION||this.state===pe.TxnState.TRANSACTION_ABORTED)&&this.unpinServer();return}throw new iO.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${e}]`)}pinServer(e){this.isActive&&(this._pinnedServer=e)}unpinServer(){this._pinnedServer=void 0}};pe.Transaction=ug;function RL(t){return!!(t.commitTransaction||t.abortTransaction)}pe.isTransactionCommand=RL});var S1=y(Wr=>{"use strict";var lO;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.updateSessionFromResponse=Wr.applySession=Wr.ServerSessionPool=Wr.ServerSession=Wr.maybeClearPinnedConnection=Wr.ClientSession=void 0;var xL=require("util"),Ah=Ke(),Oh=tg(),vL=og(),fO=It(),fe=Y(),kL=gn(),oO=zr(),uO=ra(),qL=$n(),aO=jt(),cg=dn(),ct=ag(),ls=ne(),LL=Vr(),jL=8,fa=Symbol("serverSession"),Ch=Symbol("snapshotTime"),da=Symbol("snapshotEnabled"),ha=Symbol("pinnedConnection"),Sh=Symbol("txnNumberIncrement"),C1=class extends kL.TypedEventEmitter{constructor(e,r,n,s){if(super(),this[lO]=!1,e==null)throw new fe.MongoRuntimeError("ClientSession requires a MongoClient");if(r==null||!(r instanceof bh))throw new fe.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(n=n??{},n.snapshot===!0&&(this[da]=!0,n.causalConsistency===!0))throw new fe.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive');this.client=e,this.sessionPool=r,this.hasEnded=!1,this.clientOptions=s,this.explicit=!!n.explicit,this[fa]=this.explicit?this.sessionPool.acquire():null,this[Sh]=0;let i=this.explicit&&n.snapshot!==!0;this.supports={causalConsistency:n.causalConsistency??i},this.clusterTime=n.initialClusterTime,this.operationTime=void 0,this.owner=n.owner,this.defaultTransactionOptions=Object.assign({},n.defaultTransactionOptions),this.transaction=new ct.Transaction}get id(){return this[fa]?.id}get serverSession(){let e=this[fa];if(e==null){if(this.explicit)throw new fe.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new fe.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");e=this.sessionPool.acquire(),this[fa]=e}return e}get snapshotEnabled(){return this[da]}get loadBalanced(){return this.client.topology?.description.type===cg.TopologyType.LoadBalanced}get pinnedConnection(){return this[ha]}pin(e){if(this[ha])throw TypeError("Cannot pin multiple connections to the same session");this[ha]=e,e.emit(fO.PINNED,this.inTransaction()?Oh.ConnectionPoolMetrics.TXN:Oh.ConnectionPoolMetrics.CURSOR)}unpin(e){if(this.loadBalanced)return wh(this,e);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[ha]:this.transaction.isPinned}async endSession(e){try{if(this.inTransaction()&&await this.abortTransaction(),!this.hasEnded){let r=this[fa];r!=null&&(this.sessionPool.release(r),Object.defineProperty(this,fa,{value:Jo.clone(r),writable:!1})),this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{wh(this,{force:!0,...e})}}advanceOperationTime(e){if(this.operationTime==null){this.operationTime=e;return}e.greaterThan(this.operationTime)&&(this.operationTime=e)}advanceClusterTime(e){if(!e||typeof e!="object")throw new fe.MongoInvalidArgumentError("input cluster time must be an object");if(!e.clusterTime||e.clusterTime._bsontype!=="Timestamp")throw new fe.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!e.signature||e.signature.hash?._bsontype!=="Binary"||typeof e.signature.keyId!="bigint"&&typeof e.signature.keyId!="number"&&e.signature.keyId?._bsontype!=="Long")throw new fe.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,cg._advanceClusterTime)(this,e)}equals(e){return!(e instanceof C1)||this.id==null||e.id==null?!1:ls.ByteUtils.equals(this.id.id.buffer,e.id.id.buffer)}incrementTransactionNumber(){this[Sh]+=1}inTransaction(){return this.transaction.isActive}startTransaction(e){if(this[da])throw new fe.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new fe.MongoTransactionError("Transaction already in progress");this.isPinned&&this.transaction.isCommitted&&this.unpin();let r=(0,ls.maxWireVersion)(this.client.topology);if((0,vL.isSharded)(this.client.topology)&&r!=null&&r<jL)throw new fe.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new ct.Transaction({readConcern:e?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:e?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:e?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:e?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(ct.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return cO(this,"commitTransaction")}async abortTransaction(){return cO(this,"abortTransaction")}toBSON(){throw new fe.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(e,r){let n=(0,ls.now)();return lg(this,n,e,r)}};Wr.ClientSession=C1;lO=da;var hO=12e4,UL=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);function dO(t,e){return(0,ls.calculateDurationInMs)(t)<e}function VL(t){let e=t instanceof fe.MongoServerError&&t.codeName&&UL.has(t.codeName);return Dh(t)||!e&&t.code!==fe.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&t.code!==fe.MONGODB_ERROR_CODES.UnknownReplWriteConcern}function wh(t,e){let r=t[ha],n=e?.error;if(t.inTransaction()&&n&&n instanceof fe.MongoError&&n.hasErrorLabel(fe.MongoErrorLabel.TransientTransactionError))return;let s=t.client.topology;if(r&&s!=null){let o=Array.from(s.s.servers.values())[0];(e?.error==null||e?.force)&&(o.pool.checkIn(r),r.emit(fO.UNPINNED,t.transaction.state!==ct.TxnState.NO_TRANSACTION?Oh.ConnectionPoolMetrics.TXN:Oh.ConnectionPoolMetrics.CURSOR),e?.forceClear&&o.pool.clear({serviceId:r.serviceId})),t[ha]=void 0}}Wr.maybeClearPinnedConnection=wh;function Dh(t){return t==null||!(t instanceof fe.MongoServerError)?!1:t.code===fe.MONGODB_ERROR_CODES.MaxTimeMSExpired||t.writeConcernError&&t.writeConcernError.code===fe.MONGODB_ERROR_CODES.MaxTimeMSExpired}function pO(t,e,r,n,s){return t.commitTransaction().then(()=>n,i=>{if(i instanceof fe.MongoError&&dO(e,hO)&&!Dh(i)){if(i.hasErrorLabel(fe.MongoErrorLabel.UnknownTransactionCommitResult))return pO(t,e,r,n,s);if(i.hasErrorLabel(fe.MongoErrorLabel.TransientTransactionError))return lg(t,e,r,s)}throw i})}var zL=new Set([ct.TxnState.NO_TRANSACTION,ct.TxnState.TRANSACTION_COMMITTED,ct.TxnState.TRANSACTION_ABORTED]);function WL(t){return zL.has(t.transaction.state)}function lg(t,e,r,n={}){t.startTransaction(n);let s;try{s=r(t)}catch(i){s=Promise.reject(i)}return(0,ls.isPromiseLike)(s)?s.then(i=>WL(t)?i:pO(t,e,r,i,n),i=>{function o(u){if(u instanceof fe.MongoError&&u.hasErrorLabel(fe.MongoErrorLabel.TransientTransactionError)&&dO(e,hO))return lg(t,e,r,n);throw Dh(u)&&u.addErrorLabel(fe.MongoErrorLabel.UnknownTransactionCommitResult),u}return t.inTransaction()?t.abortTransaction().then(()=>o(i)):o(i)}):(t.abortTransaction().catch(()=>null),Promise.reject(new fe.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise")))}var cO=(0,xL.promisify)(GL);function GL(t,e,r){let n=t.transaction.state;if(n===ct.TxnState.NO_TRANSACTION){r(new fe.MongoTransactionError("No transaction started"));return}if(e==="commitTransaction"){if(n===ct.TxnState.STARTING_TRANSACTION||n===ct.TxnState.TRANSACTION_COMMITTED_EMPTY){t.transaction.transition(ct.TxnState.TRANSACTION_COMMITTED_EMPTY),r();return}if(n===ct.TxnState.TRANSACTION_ABORTED){r(new fe.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(n===ct.TxnState.STARTING_TRANSACTION){t.transaction.transition(ct.TxnState.TRANSACTION_ABORTED),r();return}if(n===ct.TxnState.TRANSACTION_ABORTED){r(new fe.MongoTransactionError("Cannot call abortTransaction twice"));return}if(n===ct.TxnState.TRANSACTION_COMMITTED||n===ct.TxnState.TRANSACTION_COMMITTED_EMPTY){r(new fe.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}let s={[e]:1},i;t.transaction.options.writeConcern?i=Object.assign({},t.transaction.options.writeConcern):t.clientOptions&&t.clientOptions.writeConcern&&(i={w:t.clientOptions.writeConcern.w}),n===ct.TxnState.TRANSACTION_COMMITTED&&(i=Object.assign({wtimeoutMS:1e4},i,{w:"majority"})),i&&LL.WriteConcern.apply(s,i),e==="commitTransaction"&&t.transaction.options.maxTimeMS&&Object.assign(s,{maxTimeMS:t.transaction.options.maxTimeMS});function o(a){if(e!=="commitTransaction")return t.transaction.transition(ct.TxnState.TRANSACTION_ABORTED),t.loadBalanced&&wh(t,{force:!1}),r();t.transaction.transition(ct.TxnState.TRANSACTION_COMMITTED),a instanceof fe.MongoError&&((0,fe.isRetryableWriteError)(a)||a instanceof fe.MongoWriteConcernError||Dh(a)?VL(a)&&(a.addErrorLabel(fe.MongoErrorLabel.UnknownTransactionCommitResult),t.unpin({error:a})):a.hasErrorLabel(fe.MongoErrorLabel.TransientTransactionError)&&t.unpin({error:a})),r(a)}t.transaction.recoveryToken&&(s.recoveryToken=t.transaction.recoveryToken);let u=a=>{if(s.abortTransaction&&t.unpin(),a instanceof fe.MongoError&&(0,fe.isRetryableWriteError)(a)){s.commitTransaction&&(t.unpin({force:!0}),s.writeConcern=Object.assign({wtimeout:1e4},s.writeConcern,{w:"majority"})),(0,oO.executeOperation)(t.client,new uO.RunAdminCommandOperation(s,{session:t,readPreference:aO.ReadPreference.primary,bypassPinningCheck:!0})).then(()=>o(),o);return}o(a)};(0,oO.executeOperation)(t.client,new uO.RunAdminCommandOperation(s,{session:t,readPreference:aO.ReadPreference.primary,bypassPinningCheck:!0})).then(()=>u(),u)}var Jo=class{constructor(){this.id={id:new Ah.Binary((0,ls.uuidV4)(),Ah.Binary.SUBTYPE_UUID)},this.lastUse=(0,ls.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(e){return Math.round((0,ls.calculateDurationInMs)(this.lastUse)%864e5%36e5/6e4)>e-1}static clone(e){let r=new ArrayBuffer(16),n=Buffer.from(r);n.set(e.id.id.buffer);let s=new Ah.Binary(n,e.id.id.sub_type);return Object.setPrototypeOf({id:{id:s},lastUse:e.lastUse,txnNumber:e.txnNumber,isDirty:e.isDirty},Jo.prototype)}};Wr.ServerSession=Jo;var bh=class{constructor(e){if(e==null)throw new fe.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=e,this.sessions=new ls.List}acquire(){let e=this.client.topology?.logicalSessionTimeoutMinutes??10,r=null;for(;this.sessions.length>0;){let n=this.sessions.shift();if(n!=null&&(this.client.topology?.loadBalanced||!n.hasTimedOut(e))){r=n;break}}return r==null&&(r=new Jo),r}release(e){let r=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!r&&this.sessions.unshift(e),!!r&&(this.sessions.prune(n=>n.hasTimedOut(r)),!e.hasTimedOut(r))){if(e.isDirty)return;this.sessions.unshift(e)}}};Wr.ServerSessionPool=bh;function HL(t,e,r){if(t.hasEnded)return new fe.MongoExpiredSessionError;let n=t.serverSession;if(n==null)return new fe.MongoRuntimeError("Unable to acquire server session");if(r.writeConcern?.w===0)return t&&t.explicit?new fe.MongoAPIError("Cannot have explicit session with unacknowledged writes"):void 0;n.lastUse=(0,ls.now)(),e.lsid=n.id;let s=t.inTransaction()||(0,ct.isTransactionCommand)(e);if((!!r.willRetryWrite||s)&&(n.txnNumber+=t[Sh],t[Sh]=0,e.txnNumber=Ah.Long.fromNumber(n.txnNumber)),!s){t.transaction.state!==ct.TxnState.NO_TRANSACTION&&t.transaction.transition(ct.TxnState.NO_TRANSACTION),t.supports.causalConsistency&&t.operationTime&&(0,ls.commandSupportsReadConcern)(e)?(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime})):t[da]&&(e.readConcern=e.readConcern||{level:qL.ReadConcernLevel.snapshot},t[Ch]!=null&&Object.assign(e.readConcern,{atClusterTime:t[Ch]}));return}if(e.autocommit=!1,t.transaction.state===ct.TxnState.STARTING_TRANSACTION){t.transaction.transition(ct.TxnState.TRANSACTION_IN_PROGRESS),e.startTransaction=!0;let o=t.transaction.options.readConcern||t?.clientOptions?.readConcern;o&&(e.readConcern=o),t.supports.causalConsistency&&t.operationTime&&(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime}))}}Wr.applySession=HL;function KL(t,e){if(e.$clusterTime&&(0,cg._advanceClusterTime)(t,e.$clusterTime),e.operationTime&&t&&t.supports.causalConsistency&&t.advanceOperationTime(e.operationTime),e.recoveryToken&&t&&t.inTransaction()&&(t.transaction._recoveryToken=e.recoveryToken),t?.[da]&&t[Ch]==null){let r=e.cursor?.atClusterTime||e.atClusterTime;r&&(t[Ch]=r)}}Wr.updateSessionFromResponse=KL});var pi=y(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.assertUninitialized=qs.AbstractCursor=qs.CURSOR_FLAGS=void 0;var gO=require("stream"),fs=Ke(),En=Y(),YL=gn(),EO=zr(),QL=Zy(),JL=Q8(),mO=$n(),Th=jt(),fg=S1(),yO=ne(),Er=Symbol("id"),_r=Symbol("documents"),Mh=Symbol("server"),w1=Symbol("namespace"),pa=Symbol("client"),di=Symbol("session"),Ht=Symbol("options"),D1=Symbol("transform"),ma=Symbol("initialized"),Xo=Symbol("closed"),b1=Symbol("killed"),_O=Symbol("kInit");qs.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var eu=class extends YL.TypedEventEmitter{constructor(e,r,n={}){if(super(),!e.s.isMongoClient)throw new En.MongoRuntimeError("Cursor must be constructed with MongoClient");this[pa]=e,this[w1]=r,this[Er]=null,this[_r]=new yO.List,this[ma]=!1,this[Xo]=!1,this[b1]=!1,this[Ht]={readPreference:n.readPreference&&n.readPreference instanceof Th.ReadPreference?n.readPreference:Th.ReadPreference.primary,...(0,fs.pluckBSONSerializeOptions)(n)};let s=mO.ReadConcern.fromOptions(n);s&&(this[Ht].readConcern=s),typeof n.batchSize=="number"&&(this[Ht].batchSize=n.batchSize),n.comment!==void 0&&(this[Ht].comment=n.comment),typeof n.maxTimeMS=="number"&&(this[Ht].maxTimeMS=n.maxTimeMS),typeof n.maxAwaitTimeMS=="number"&&(this[Ht].maxAwaitTimeMS=n.maxAwaitTimeMS),n.session instanceof fg.ClientSession?this[di]=n.session:this[di]=this[pa].startSession({owner:this,explicit:!1})}get id(){return this[Er]??void 0}get isDead(){return(this[Er]?.isZero()??!1)||this[Xo]||this[b1]}get client(){return this[pa]}get server(){return this[Mh]}get namespace(){return this[w1]}get readPreference(){return this[Ht].readPreference}get readConcern(){return this[Ht].readConcern}get session(){return this[di]}set session(e){this[di]=e}get cursorOptions(){return this[Ht]}get closed(){return this[Xo]}get killed(){return this[b1]}get loadBalanced(){return!!this[pa].topology?.loadBalanced}bufferedCount(){return this[_r].length}readBufferedDocuments(e){let r=[],n=Math.min(e??this[_r].length,this[_r].length);for(let s=0;s<n;s++){let i=this[_r].shift();i!=null&&r.push(i)}return r}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;){let e=await this.next();if(e===null){if(!this.closed){let r="Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.";throw await io(this,{needsToEmitClosed:!0}).catch(()=>null),new En.MongoAPIError(r)}break}if(yield e,this[Er]===fs.Long.ZERO)break}}finally{this.closed||await this.close().catch(()=>null)}}stream(e){if(e?.transform){let r=e.transform,n=new Ph(this),s=n.pipe(new gO.Transform({objectMode:!0,highWaterMark:1,transform(i,o,u){try{let a=r(i);u(void 0,a)}catch(a){u(a)}}}));return n.on("error",i=>s.emit("error",i)),s}return new Ph(this)}async hasNext(){if(this[Er]===fs.Long.ZERO)return!1;if(this[_r].length!==0)return!0;let e=await Bh(this,{blocking:!0,transform:!1});return e?(this[_r].unshift(e),!0):!1}async next(){if(this[Er]===fs.Long.ZERO)throw new En.MongoCursorExhaustedError;return Bh(this,{blocking:!0,transform:!0})}async tryNext(){if(this[Er]===fs.Long.ZERO)throw new En.MongoCursorExhaustedError;return Bh(this,{blocking:!1,transform:!0})}async forEach(e){if(typeof e!="function")throw new En.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let r of this)if(e(r)===!1)break}async close(){let e=!this[Xo];this[Xo]=!0,await io(this,{needsToEmitClosed:e})}async toArray(){let e=[];for await(let r of this)e.push(r);return e}addCursorFlag(e,r){if(Zo(this),!qs.CURSOR_FLAGS.includes(e))throw new En.MongoInvalidArgumentError(`Flag ${e} is not one of ${qs.CURSOR_FLAGS}`);if(typeof r!="boolean")throw new En.MongoInvalidArgumentError(`Flag ${e} must be a boolean value`);return this[Ht][e]=r,this}map(e){Zo(this);let r=this[D1];return r?this[D1]=n=>e(r(n)):this[D1]=e,this}withReadPreference(e){if(Zo(this),e instanceof Th.ReadPreference)this[Ht].readPreference=e;else if(typeof e=="string")this[Ht].readPreference=Th.ReadPreference.fromString(e);else throw new En.MongoInvalidArgumentError(`Invalid read preference: ${e}`);return this}withReadConcern(e){Zo(this);let r=mO.ReadConcern.fromOptions({readConcern:e});return r&&(this[Ht].readConcern=r),this}maxTimeMS(e){if(Zo(this),typeof e!="number")throw new En.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[Ht].maxTimeMS=e,this}batchSize(e){if(Zo(this),this[Ht].tailable)throw new En.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof e!="number")throw new En.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[Ht].batchSize=e,this}rewind(){if(!this[ma])return;this[Er]=null,this[_r].clear(),this[Xo]=!1,this[b1]=!1,this[ma]=!1;let e=this[di];e&&e.explicit===!1&&(e.hasEnded||e.endSession().catch(()=>null),this[di]=this.client.startSession({owner:this,explicit:!1}))}async getMore(e){let r=new QL.GetMoreOperation(this[w1],this[Er],this[Mh],{...this[Ht],session:this[di],batchSize:e});return(0,EO.executeOperation)(this[pa],r)}async[_O](){try{let e=await this._initialize(this[di]),r=e.response;this[Mh]=e.server,r.cursor&&(this[Er]=typeof r.cursor.id=="number"?fs.Long.fromNumber(r.cursor.id):typeof r.cursor.id=="bigint"?fs.Long.fromBigInt(r.cursor.id):r.cursor.id,r.cursor.ns&&(this[w1]=(0,yO.ns)(r.cursor.ns)),this[_r].pushMany(r.cursor.firstBatch)),this[Er]==null&&(this[Er]=fs.Long.ZERO,this[_r].push(e.response)),this[ma]=!0}catch(e){throw this[ma]=!0,await io(this,{error:e}),e}this.isDead&&await io(this,void 0)}};eu.CLOSE="close";qs.AbstractCursor=eu;async function Bh(t,{blocking:e,transform:r}){if(t.closed)return null;do{if(t[Er]==null&&await t[_O](),t[_r].length!==0){let s=t[_r].shift();if(s!=null&&r&&t[D1])try{return t[D1](s)}catch(i){throw await io(t,{error:i,needsToEmitClosed:!0}).catch(()=>null),i}return s}if(t.isDead)return await io(t,{}),null;let n=t[Ht].batchSize||1e3;try{let s=await t.getMore(n);if(s){let i=typeof s.cursor.id=="number"?fs.Long.fromNumber(s.cursor.id):typeof s.cursor.id=="bigint"?fs.Long.fromBigInt(s.cursor.id):s.cursor.id;t[_r].pushMany(s.cursor.nextBatch),t[Er]=i}}catch(s){throw await io(t,{error:s}).catch(()=>null),s}if(t.isDead&&await io(t,{}),t[_r].length===0&&e===!1)return null}while(!t.isDead||t[_r].length!==0);return null}async function io(t,e){let r=t[Er],n=t[w1],s=t[Mh],i=t[di],o=e?.error,u=e?.needsToEmitClosed??t[_r].length===0;if(o&&t.loadBalanced&&o instanceof En.MongoNetworkError)return a();if(r==null||s==null||r.isZero()||n==null){if(u&&(t[Xo]=!0,t[Er]=fs.Long.ZERO,t.emit(eu.CLOSE)),i){if(i.owner===t){await i.endSession({error:o});return}i.inTransaction()||(0,fg.maybeClearPinnedConnection)(i,{error:o})}return}async function a(){if(i){if(i.owner===t){try{await i.endSession({error:o})}finally{t.emit(eu.CLOSE)}return}i.inTransaction()||(0,fg.maybeClearPinnedConnection)(i,{error:o})}t.emit(eu.CLOSE)}if(t[b1]=!0,i.hasEnded)return a();try{await(0,EO.executeOperation)(t[pa],new JL.KillCursorsOperation(r,n,s,{session:i})).catch(()=>null)}finally{await a()}}function Zo(t){if(t[ma])throw new En.MongoCursorInUseError}qs.assertUninitialized=Zo;var Ph=class extends gO.Readable{constructor(e){super({objectMode:!0,autoDestroy:!1,highWaterMark:1}),this._readInProgress=!1,this._cursor=e}_read(e){this._readInProgress||(this._readInProgress=!0,this._readNext())}_destroy(e,r){this._cursor.close().then(()=>r(e),n=>r(n))}_readNext(){Bh(this._cursor,{blocking:!0,transform:!0}).then(e=>{if(e==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(e))return this._readNext();this._readInProgress=!1}},e=>e.message.match(/server is closed/)?(this._cursor.close().catch(()=>null),this.push(null)):e.message.match(/operation was interrupted/)?this.push(null):this.destroy(e))}}});var M1=y(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.AggregationCursor=void 0;var AO=ah(),OO=zr(),XL=ne(),vn=pi(),Ar=Symbol("pipeline"),Fh=Symbol("options"),T1=class extends vn.AbstractCursor{constructor(e,r,n=[],s={}){super(e,r,s),this[Ar]=n,this[Fh]=s}get pipeline(){return this[Ar]}clone(){let e=(0,XL.mergeOptions)({},this[Fh]);return delete e.session,new T1(this.client,this.namespace,this[Ar],{...e})}map(e){return super.map(e)}async _initialize(e){let r=new AO.AggregateOperation(this.namespace,this[Ar],{...this[Fh],...this.cursorOptions,session:e}),n=await(0,OO.executeOperation)(this.client,r);return{server:r.server,session:e,response:n}}async explain(e){return(0,OO.executeOperation)(this.client,new AO.AggregateOperation(this.namespace,this[Ar],{...this[Fh],...this.cursorOptions,explain:e??!0}))}group(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$group:e}),this}limit(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$limit:e}),this}match(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$match:e}),this}out(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$out:e}),this}project(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$project:e}),this}lookup(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$lookup:e}),this}redact(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$redact:e}),this}skip(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$skip:e}),this}sort(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$sort:e}),this}unwind(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$unwind:e}),this}geoNear(e){return(0,vn.assertUninitialized)(this),this[Ar].push({$geoNear:e}),this}};Nh.AggregationCursor=T1});var dg=y(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.CountOperation=void 0;var ZL=bt(),hg=ve(),$h=class extends ZL.CommandOperation{constructor(e,r,n){super({s:{namespace:e}},n),this.options=n,this.collectionName=e.collection,this.query=r}get commandName(){return"count"}async execute(e,r){let n=this.options,s={count:this.collectionName,query:this.query};typeof n.limit=="number"&&(s.limit=n.limit),typeof n.skip=="number"&&(s.skip=n.skip),n.hint!=null&&(s.hint=n.hint),typeof n.maxTimeMS=="number"&&(s.maxTimeMS=n.maxTimeMS);let i=await super.executeCommand(e,r,s);return i?i.n:0}};Ih.CountOperation=$h;(0,hg.defineAspects)($h,[hg.Aspect.READ_OPERATION,hg.Aspect.RETRYABLE])});var xh=y(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.formatSort=void 0;var CO=Y();function ya(t=1){let e=`${t}`.toLowerCase();if(ej(t))return t;switch(e){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new CO.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(t)}`)}}function ej(t){return typeof t=="object"&&t!=null&&"$meta"in t&&typeof t.$meta=="string"}function tj(t){if(Array.isArray(t)&&t.length===2)try{return ya(t[1]),!0}catch{return!1}return!1}function rj(t){return Array.isArray(t)&&Array.isArray(t[0])}function nj(t){return t instanceof Map&&t.size>0}function sj(t){return new Map([[`${t[0]}`,ya([t[1]])]])}function ij(t){let e=t.map(([r,n])=>[`${r}`,ya(n)]);return new Map(e)}function oj(t){let e=t.map(r=>[`${r}`,1]);return new Map(e)}function uj(t){let e=Object.entries(t).map(([r,n])=>[`${r}`,ya(n)]);return new Map(e)}function aj(t){let e=Array.from(t).map(([r,n])=>[`${r}`,ya(n)]);return new Map(e)}function cj(t,e){if(t!=null){if(typeof t=="string")return new Map([[t,ya(e)]]);if(typeof t!="object")throw new CO.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(t)} Sort must be a valid object`);if(!Array.isArray(t))return nj(t)?aj(t):Object.keys(t).length?uj(t):void 0;if(t.length)return rj(t)?ij(t):tj(t)?sj(t):oj(t)}}Rh.formatSort=cj});var wO=y(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.FindOperation=void 0;var lj=Y(),fj=$n(),hj=xh(),SO=ne(),dj=bt(),B1=ve(),vh=class extends dj.CommandOperation{constructor(e,r,n={},s={}){if(super(e,s),this.options={...s},delete this.options.writeConcern,this.ns=r,typeof n!="object"||Array.isArray(n))throw new lj.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=n!=null&&n._bsontype==="ObjectId"?{_id:n}:n}get commandName(){return"find"}async execute(e,r){this.server=e;let n=this.options,s=pj(this.ns,this.filter,n);return this.explain&&(s=(0,SO.decorateWithExplain)(s,this.explain)),e.command(this.ns,s,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:r})}};kh.FindOperation=vh;function pj(t,e,r){let n={find:t.collection,filter:e};if(r.sort&&(n.sort=(0,hj.formatSort)(r.sort)),r.projection){let i=r.projection;i&&Array.isArray(i)&&(i=i.length?i.reduce((o,u)=>(o[u]=1,o),{}):{_id:1}),n.projection=i}r.hint&&(n.hint=(0,SO.normalizeHintField)(r.hint)),typeof r.skip=="number"&&(n.skip=r.skip),typeof r.limit=="number"&&(r.limit<0?(n.limit=-r.limit,n.singleBatch=!0):n.limit=r.limit),typeof r.batchSize=="number"&&(r.batchSize<0?(r.limit&&r.limit!==0&&Math.abs(r.batchSize)<Math.abs(r.limit)&&(n.limit=-r.batchSize),n.singleBatch=!0):n.batchSize=r.batchSize),typeof r.singleBatch=="boolean"&&(n.singleBatch=r.singleBatch),r.comment!==void 0&&(n.comment=r.comment),typeof r.maxTimeMS=="number"&&(n.maxTimeMS=r.maxTimeMS);let s=fj.ReadConcern.fromOptions(r);return s&&(n.readConcern=s.toJSON()),r.max&&(n.max=r.max),r.min&&(n.min=r.min),typeof r.returnKey=="boolean"&&(n.returnKey=r.returnKey),typeof r.showRecordId=="boolean"&&(n.showRecordId=r.showRecordId),typeof r.tailable=="boolean"&&(n.tailable=r.tailable),typeof r.oplogReplay=="boolean"&&(n.oplogReplay=r.oplogReplay),typeof r.timeout=="boolean"?n.noCursorTimeout=!r.timeout:typeof r.noCursorTimeout=="boolean"&&(n.noCursorTimeout=r.noCursorTimeout),typeof r.awaitData=="boolean"&&(n.awaitData=r.awaitData),typeof r.allowPartialResults=="boolean"&&(n.allowPartialResults=r.allowPartialResults),r.collation&&(n.collation=r.collation),typeof r.allowDiskUse=="boolean"&&(n.allowDiskUse=r.allowDiskUse),r.let&&(n.let=r.let),n}(0,B1.defineAspects)(vh,[B1.Aspect.READ_OPERATION,B1.Aspect.RETRYABLE,B1.Aspect.EXPLAINABLE,B1.Aspect.CURSOR_CREATING])});var yg=y(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.FindCursor=ga.FLAGS=void 0;var mj=Ke(),hs=Y(),yj=dg(),pg=zr(),bO=wO(),mg=xh(),DO=ne(),Zt=pi(),tu=Symbol("filter"),qh=Symbol("numReturned"),be=Symbol("builtOptions");ga.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var P1=class extends Zt.AbstractCursor{constructor(e,r,n={},s={}){super(e,r,s),this[tu]=n,this[be]=s,s.sort!=null&&(this[be].sort=(0,mg.formatSort)(s.sort))}clone(){let e=(0,DO.mergeOptions)({},this[be]);return delete e.session,new P1(this.client,this.namespace,this[tu],{...e})}map(e){return super.map(e)}async _initialize(e){let r=new bO.FindOperation(void 0,this.namespace,this[tu],{...this[be],...this.cursorOptions,session:e}),n=await(0,pg.executeOperation)(this.client,r);return this[qh]=n.cursor?.firstBatch?.length,{server:r.server,session:e,response:n}}async getMore(e){let r=this[qh];if(r){let s=this[be].limit;if(e=s&&s>0&&r+e>s?s-r:e,e<=0)return await this.close().catch(()=>null),{cursor:{id:mj.Long.ZERO,nextBatch:[]}}}let n=await super.getMore(e);return n&&(this[qh]=this[qh]+n.cursor.nextBatch.length),n}async count(e){if((0,DO.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof e=="boolean")throw new hs.MongoInvalidArgumentError("Invalid first parameter to count");return(0,pg.executeOperation)(this.client,new yj.CountOperation(this.namespace,this[tu],{...this[be],...this.cursorOptions,...e}))}async explain(e){return(0,pg.executeOperation)(this.client,new bO.FindOperation(void 0,this.namespace,this[tu],{...this[be],...this.cursorOptions,explain:e??!0}))}filter(e){return(0,Zt.assertUninitialized)(this),this[tu]=e,this}hint(e){return(0,Zt.assertUninitialized)(this),this[be].hint=e,this}min(e){return(0,Zt.assertUninitialized)(this),this[be].min=e,this}max(e){return(0,Zt.assertUninitialized)(this),this[be].max=e,this}returnKey(e){return(0,Zt.assertUninitialized)(this),this[be].returnKey=e,this}showRecordId(e){return(0,Zt.assertUninitialized)(this),this[be].showRecordId=e,this}addQueryModifier(e,r){if((0,Zt.assertUninitialized)(this),e[0]!=="$")throw new hs.MongoInvalidArgumentError(`${e} is not a valid query modifier`);switch(e.substr(1)){case"comment":this[be].comment=r;break;case"explain":this[be].explain=r;break;case"hint":this[be].hint=r;break;case"max":this[be].max=r;break;case"maxTimeMS":this[be].maxTimeMS=r;break;case"min":this[be].min=r;break;case"orderby":this[be].sort=(0,mg.formatSort)(r);break;case"query":this[tu]=r;break;case"returnKey":this[be].returnKey=r;break;case"showDiskLoc":this[be].showRecordId=r;break;default:throw new hs.MongoInvalidArgumentError(`Invalid query modifier: ${e}`)}return this}comment(e){return(0,Zt.assertUninitialized)(this),this[be].comment=e,this}maxAwaitTimeMS(e){if((0,Zt.assertUninitialized)(this),typeof e!="number")throw new hs.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[be].maxAwaitTimeMS=e,this}maxTimeMS(e){if((0,Zt.assertUninitialized)(this),typeof e!="number")throw new hs.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[be].maxTimeMS=e,this}project(e){return(0,Zt.assertUninitialized)(this),this[be].projection=e,this}sort(e,r){if((0,Zt.assertUninitialized)(this),this[be].tailable)throw new hs.MongoTailableCursorError("Tailable cursor does not support sorting");return this[be].sort=(0,mg.formatSort)(e,r),this}allowDiskUse(e=!0){if((0,Zt.assertUninitialized)(this),!this[be].sort)throw new hs.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');return e?(this[be].allowDiskUse=!0,this):(this[be].allowDiskUse=!1,this)}collation(e){return(0,Zt.assertUninitialized)(this),this[be].collation=e,this}limit(e){if((0,Zt.assertUninitialized)(this),this[be].tailable)throw new hs.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof e!="number")throw new hs.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[be].limit=e,this}skip(e){if((0,Zt.assertUninitialized)(this),this[be].tailable)throw new hs.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof e!="number")throw new hs.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[be].skip=e,this}};ga.FindCursor=P1});var $1=y(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.IndexInformationOperation=Kt.IndexExistsOperation=Kt.ListIndexesOperation=Kt.DropIndexOperation=Kt.EnsureIndexOperation=Kt.CreateIndexOperation=Kt.CreateIndexesOperation=Kt.IndexesOperation=void 0;var gg=Y(),gj=jt(),Og=ne(),Cg=bt(),Sg=jf(),Dr=ve(),Ej=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);function _j(t){return typeof t=="number"||t==="2d"||t==="2dsphere"||t==="text"||t==="geoHaystack"}function Aj(t){return Array.isArray(t)&&t.length===2&&_j(t[1])}function Oj(t,e){let r=new Map,n=!Array.isArray(t)||Aj(t)?[t]:t;for(let s of n)if(typeof s=="string")r.set(s,1);else if(Array.isArray(s))r.set(s[0],s[1]??1);else if(s instanceof Map)for(let[i,o]of s)r.set(i,o);else if((0,Og.isObject)(s))for(let[i,o]of Object.entries(s))r.set(i,o);return{...e,key:r}}var Eg=class extends Dr.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}get commandName(){return"listIndexes"}async execute(e,r){let n=this.collection,s=this.options;return(0,Sg.indexInformation)(n.s.db,n.collectionName,{full:!0,...s,readPreference:this.readPreference,session:r})}};Kt.IndexesOperation=Eg;var F1=class extends Cg.CommandOperation{constructor(e,r,n,s){super(e,s),this.options=s??{},this.collectionName=r,this.indexes=n.map(i=>{let o=i.key instanceof Map?i.key:new Map(Object.entries(i.key)),u=i.name!=null?i.name:Array.from(o).flat().join("_");return{...Object.fromEntries(Object.entries({...i}).filter(([c])=>Ej.has(c))),name:u,key:o}})}get commandName(){return"createIndexes"}async execute(e,r){let n=this.options,s=this.indexes,i=(0,Og.maxWireVersion)(e),o={createIndexes:this.collectionName,indexes:s};if(n.commitQuorum!=null){if(i<9)throw new gg.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");o.commitQuorum=n.commitQuorum}return this.options.collation=void 0,await super.executeCommand(e,r,o),s.map(a=>a.name||"")}};Kt.CreateIndexesOperation=F1;var N1=class extends F1{constructor(e,r,n,s){super(e,r,[Oj(n,s)],s)}async execute(e,r){return(await super.execute(e,r))[0]}};Kt.CreateIndexOperation=N1;var Lh=class extends N1{constructor(e,r,n,s){super(e,r,n,s),this.readPreference=gj.ReadPreference.primary,this.db=e,this.collectionName=r}get commandName(){return"listIndexes"}async execute(e,r){let n=this.indexes[0].name,s=await this.db.collection(this.collectionName).listIndexes({session:r}).toArray().catch(i=>{if(i instanceof gg.MongoError&&i.code===gg.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw i});return n&&s.some(i=>i.name===n)?n:super.execute(e,r)}};Kt.EnsureIndexOperation=Lh;var jh=class extends Cg.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.collection=e,this.indexName=r}get commandName(){return"dropIndexes"}async execute(e,r){let n={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(e,r,n)}};Kt.DropIndexOperation=jh;var Uh=class extends Cg.CommandOperation{constructor(e,r){super(e,r),this.options={...r},delete this.options.writeConcern,this.collectionNamespace=e.s.namespace}get commandName(){return"listIndexes"}async execute(e,r){let n=(0,Og.maxWireVersion)(e),s=this.options.batchSize?{batchSize:this.options.batchSize}:{},i={listIndexes:this.collectionNamespace.collection,cursor:s};return n>=9&&this.options.comment!==void 0&&(i.comment=this.options.comment),super.executeCommand(e,r,i)}};Kt.ListIndexesOperation=Uh;var _g=class extends Dr.AbstractOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.indexes=r}get commandName(){return"listIndexes"}async execute(e,r){let n=this.collection,s=this.indexes,i=await(0,Sg.indexInformation)(n.s.db,n.collectionName,{...this.options,readPreference:this.readPreference,session:r});return Array.isArray(s)?s.every(o=>i[o]!=null):i[s]!=null}};Kt.IndexExistsOperation=_g;var Ag=class extends Dr.AbstractOperation{constructor(e,r,n){super(n),this.options=n??{},this.db=e,this.name=r}get commandName(){return"listIndexes"}async execute(e,r){let n=this.db,s=this.name;return(0,Sg.indexInformation)(n,s,{...this.options,readPreference:this.readPreference,session:r})}};Kt.IndexInformationOperation=Ag;(0,Dr.defineAspects)(Uh,[Dr.Aspect.READ_OPERATION,Dr.Aspect.RETRYABLE,Dr.Aspect.CURSOR_CREATING]);(0,Dr.defineAspects)(F1,[Dr.Aspect.WRITE_OPERATION]);(0,Dr.defineAspects)(N1,[Dr.Aspect.WRITE_OPERATION]);(0,Dr.defineAspects)(Lh,[Dr.Aspect.WRITE_OPERATION]);(0,Dr.defineAspects)(jh,[Dr.Aspect.WRITE_OPERATION])});var wg=y(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.ListIndexesCursor=void 0;var Cj=zr(),Sj=$1(),wj=pi(),I1=class extends wj.AbstractCursor{constructor(e,r){super(e.client,e.s.namespace,r),this.parent=e,this.options=r}clone(){return new I1(this.parent,{...this.options,...this.cursorOptions})}async _initialize(e){let r=new Sj.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:e}),n=await(0,Cj.executeOperation)(this.parent.client,r);return{server:r.server,session:e,response:n}}};Vh.ListIndexesCursor=I1});var TO=y(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.ListSearchIndexesCursor=void 0;var bj=M1(),bg=class extends bj.AggregationCursor{constructor({fullNamespace:e,client:r},n,s={}){let i=n==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:n}}];super(r,e,i,s)}};zh.ListSearchIndexesCursor=bg});var MO=y(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.CountDocumentsOperation=void 0;var Dj=ah(),Dg=class extends Dj.AggregateOperation{constructor(e,r,n){let s=[];s.push({$match:r}),typeof n.skip=="number"&&s.push({$skip:n.skip}),typeof n.limit=="number"&&s.push({$limit:n.limit}),s.push({$group:{_id:1,n:{$sum:1}}}),super(e.s.namespace,s,n)}async execute(e,r){let s=await super.execute(e,r);if(s.cursor==null||s.cursor.firstBatch==null)return 0;let i=s.cursor.firstBatch;return i.length?i[0].n:0}};Wh.CountDocumentsOperation=Dg});var PO=y(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.DistinctOperation=void 0;var BO=ne(),Tj=bt(),Gh=ve(),Hh=class extends Tj.CommandOperation{constructor(e,r,n,s){super(e,s),this.options=s??{},this.collection=e,this.key=r,this.query=n}get commandName(){return"distinct"}async execute(e,r){let n=this.collection,s=this.key,i=this.query,o=this.options,u={distinct:n.collectionName,key:s,query:i};typeof o.maxTimeMS=="number"&&(u.maxTimeMS=o.maxTimeMS),typeof o.comment<"u"&&(u.comment=o.comment),(0,BO.decorateWithReadConcern)(u,n,o),(0,BO.decorateWithCollation)(u,n,o);let a=await super.executeCommand(e,r,u);return this.explain?a:a.values}};Kh.DistinctOperation=Hh;(0,Gh.defineAspects)(Hh,[Gh.Aspect.READ_OPERATION,Gh.Aspect.RETRYABLE,Gh.Aspect.EXPLAINABLE])});var Tg=y(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.DropDatabaseOperation=_a.DropCollectionOperation=void 0;var FO=Y(),NO=bt(),Yh=ve(),Ea=class extends NO.CommandOperation{constructor(e,r,n={}){super(e,n),this.db=e,this.options=n,this.name=r}get commandName(){return"drop"}async execute(e,r){let n=this.db,s=this.options,i=this.name,o=n.client.options.autoEncryption?.encryptedFieldsMap,u=s.encryptedFields??o?.[`${n.databaseName}.${i}`];if(!u&&o&&(u=(await n.listCollections({name:i},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields),u){let a=u.escCollection||`enxcol_.${i}.esc`,c=u.ecocCollection||`enxcol_.${i}.ecoc`;for(let l of[a,c]){let f=new Ea(n,l);try{await f.executeWithoutEncryptedFieldsCheck(e,r)}catch(h){if(!(h instanceof FO.MongoServerError)||h.code!==FO.MONGODB_ERROR_CODES.NamespaceNotFound)throw h}}}return this.executeWithoutEncryptedFieldsCheck(e,r)}async executeWithoutEncryptedFieldsCheck(e,r){return await super.executeCommand(e,r,{drop:this.name}),!0}};_a.DropCollectionOperation=Ea;var Qh=class extends NO.CommandOperation{constructor(e,r){super(e,r),this.options=r}get commandName(){return"dropDatabase"}async execute(e,r){return await super.executeCommand(e,r,{dropDatabase:1}),!0}};_a.DropDatabaseOperation=Qh;(0,Yh.defineAspects)(Ea,[Yh.Aspect.WRITE_OPERATION]);(0,Yh.defineAspects)(Qh,[Yh.Aspect.WRITE_OPERATION])});var $O=y(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.EstimatedDocumentCountOperation=void 0;var Mj=bt(),Jh=ve(),Xh=class extends Mj.CommandOperation{constructor(e,r={}){super(e,r),this.options=r,this.collectionName=e.collectionName}get commandName(){return"count"}async execute(e,r){let n={count:this.collectionName};return typeof this.options.maxTimeMS=="number"&&(n.maxTimeMS=this.options.maxTimeMS),this.options.comment!==void 0&&(n.comment=this.options.comment),(await super.executeCommand(e,r,n))?.n||0}};Zh.EstimatedDocumentCountOperation=Xh;(0,Jh.defineAspects)(Xh,[Jh.Aspect.READ_OPERATION,Jh.Aspect.RETRYABLE,Jh.Aspect.CURSOR_CREATING])});var Fg=y(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.FindOneAndUpdateOperation=_n.FindOneAndReplaceOperation=_n.FindOneAndDeleteOperation=_n.FindAndModifyOperation=_n.ReturnDocument=void 0;var oo=Y(),Bj=jt(),Pj=xh(),td=ne(),Fj=bt(),ed=ve();_n.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});function IO(t,e){return t.new=e.returnDocument===_n.ReturnDocument.AFTER,t.upsert=e.upsert===!0,e.bypassDocumentValidation===!0&&(t.bypassDocumentValidation=e.bypassDocumentValidation),t}var ru=class extends Fj.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.cmdBase={remove:!1,new:!1,upsert:!1},n.includeResultMetadata??(n.includeResultMetadata=!1);let s=(0,Pj.formatSort)(n.sort);s&&(this.cmdBase.sort=s),n.projection&&(this.cmdBase.fields=n.projection),n.maxTimeMS&&(this.cmdBase.maxTimeMS=n.maxTimeMS),n.writeConcern&&(this.cmdBase.writeConcern=n.writeConcern),n.let&&(this.cmdBase.let=n.let),n.comment!==void 0&&(this.cmdBase.comment=n.comment),this.readPreference=Bj.ReadPreference.primary,this.collection=e,this.query=r}get commandName(){return"findAndModify"}async execute(e,r){let n=this.collection,s=this.query,i={...this.options,...this.bsonOptions},o={findAndModify:n.collectionName,query:s,...this.cmdBase};try{(0,td.decorateWithCollation)(o,n,i)}catch(a){return a}if(i.hint){if(this.writeConcern?.w===0||(0,td.maxWireVersion)(e)<8)throw new oo.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");o.hint=i.hint}let u=await super.executeCommand(e,r,o);return i.includeResultMetadata?u:u.value??null}};_n.FindAndModifyOperation=ru;var Mg=class extends ru{constructor(e,r,n){if(r==null||typeof r!="object")throw new oo.MongoInvalidArgumentError('Argument "filter" must be an object');super(e,r,n),this.cmdBase.remove=!0}};_n.FindOneAndDeleteOperation=Mg;var Bg=class extends ru{constructor(e,r,n,s){if(r==null||typeof r!="object")throw new oo.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new oo.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,td.hasAtomicOperators)(n))throw new oo.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(e,r,s),this.cmdBase.update=n,IO(this.cmdBase,s)}};_n.FindOneAndReplaceOperation=Bg;var Pg=class extends ru{constructor(e,r,n,s){if(r==null||typeof r!="object")throw new oo.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new oo.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,td.hasAtomicOperators)(n))throw new oo.MongoInvalidArgumentError("Update document requires atomic operators");super(e,r,s),this.cmdBase.update=n,IO(this.cmdBase,s),s.arrayFilters&&(this.cmdBase.arrayFilters=s.arrayFilters)}};_n.FindOneAndUpdateOperation=Pg;(0,ed.defineAspects)(ru,[ed.Aspect.WRITE_OPERATION,ed.Aspect.RETRYABLE,ed.Aspect.EXPLAINABLE])});var RO=y(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.IsCappedOperation=void 0;var Nj=Y(),$j=ve(),Ng=class extends $j.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}get commandName(){return"listCollections"}async execute(e,r){let n=this.collection,[s]=await n.s.db.listCollections({name:n.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray();if(s==null||s.options==null)throw new Nj.MongoAPIError(`collection ${n.namespace} not found`);return!!s.options?.capped}};rd.IsCappedOperation=Ng});var xO=y(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.OptionsOperation=void 0;var Ij=Y(),Rj=ve(),$g=class extends Rj.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}get commandName(){return"listCollections"}async execute(e,r){let n=this.collection,[s]=await n.s.db.listCollections({name:n.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray();if(s==null||s.options==null)throw new Ij.MongoAPIError(`collection ${n.namespace} not found`);return s.options}};nd.OptionsOperation=$g});var Ig=y(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.RenameOperation=void 0;var xj=nu(),vj=ne(),kj=bt(),vO=ve(),sd=class extends kj.CommandOperation{constructor(e,r,n){super(e,n),this.collection=e,this.newName=r,this.options=n,this.ns=new vj.MongoDBNamespace("admin","$cmd")}get commandName(){return"renameCollection"}async execute(e,r){let n=this.collection.namespace,s=this.collection.s.namespace.withCollection(this.newName).toString(),i=typeof this.options.dropTarget=="boolean"?this.options.dropTarget:!1,o={renameCollection:n,to:s,dropTarget:i};return await super.executeCommand(e,r,o),new xj.Collection(this.collection.s.db,this.newName,this.collection.s.options)}};id.RenameOperation=sd;(0,vO.defineAspects)(sd,[vO.Aspect.WRITE_OPERATION])});var kO=y(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.CreateSearchIndexesOperation=void 0;var qj=ve(),Rg=class extends qj.AbstractOperation{constructor(e,r){super(),this.collection=e,this.descriptions=r}get commandName(){return"createSearchIndexes"}async execute(e,r){let n=this.collection.fullNamespace,s={createSearchIndexes:n.collection,indexes:this.descriptions};return((await e.command(n,s,{session:r}))?.indexesCreated??[]).map(({name:u})=>u)}};od.CreateSearchIndexesOperation=Rg});var LO=y(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.DropSearchIndexOperation=void 0;var qO=Y(),Lj=ve(),xg=class extends Lj.AbstractOperation{constructor(e,r){super(),this.collection=e,this.name=r}get commandName(){return"dropSearchIndex"}async execute(e,r){let n=this.collection.fullNamespace,s={dropSearchIndex:n.collection};typeof this.name=="string"&&(s.name=this.name);try{await e.command(n,s,{session:r})}catch(i){if(!(i instanceof qO.MongoServerError&&i.code===qO.MONGODB_ERROR_CODES.NamespaceNotFound))throw i}}};ud.DropSearchIndexOperation=xg});var jO=y(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.UpdateSearchIndexOperation=void 0;var jj=ve(),vg=class extends jj.AbstractOperation{constructor(e,r,n){super(),this.collection=e,this.name=r,this.definition=n}get commandName(){return"updateSearchIndex"}async execute(e,r){let n=this.collection.fullNamespace,s={updateSearchIndex:n.collection,name:this.name,definition:this.definition};await e.command(n,s,{session:r})}};ad.UpdateSearchIndexOperation=vg});var nu=y(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.Collection=void 0;var Uj=Ke(),Vj=Vy(),zj=Wy(),Wj=Aa(),Gj=M1(),Hj=yg(),Kj=wg(),Yj=TO(),UO=Y(),Qj=Ry(),Jj=dg(),Xj=MO(),VO=$y(),Zj=PO(),eU=Tg(),tU=$O(),ze=zr(),kg=Fg(),su=$1(),zO=xy(),rU=RO(),nU=xO(),sU=Ig(),iU=kO(),oU=LO(),uU=jO(),qg=ky(),aU=$n(),Lg=jt(),Be=ne(),cU=Vr(),jg=class{constructor(e,r,n){this.s={db:e,options:n,namespace:new Be.MongoDBCollectionNamespace(e.databaseName,r),pkFactory:e.options?.pkFactory??Be.DEFAULT_PK_FACTORY,readPreference:Lg.ReadPreference.fromOptions(n),bsonOptions:(0,Uj.resolveBSONOptions)(n,e),readConcern:aU.ReadConcern.fromOptions(n),writeConcern:cU.WriteConcern.fromOptions(n)},this.client=e.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){return this.s.readConcern==null?this.s.db.readConcern:this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.s.db.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern==null?this.s.db.writeConcern:this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(e){this.s.collectionHint=(0,Be.normalizeHintField)(e)}async insertOne(e,r){return(0,ze.executeOperation)(this.client,new zO.InsertOneOperation(this,e,(0,Be.resolveOptions)(this,r)))}async insertMany(e,r){return(0,ze.executeOperation)(this.client,new zO.InsertManyOperation(this,e,(0,Be.resolveOptions)(this,r??{ordered:!0})))}async bulkWrite(e,r){if(!Array.isArray(e))throw new UO.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return(0,ze.executeOperation)(this.client,new Qj.BulkWriteOperation(this,e,(0,Be.resolveOptions)(this,r??{ordered:!0})))}async updateOne(e,r,n){return(0,ze.executeOperation)(this.client,new qg.UpdateOneOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}async replaceOne(e,r,n){return(0,ze.executeOperation)(this.client,new qg.ReplaceOneOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}async updateMany(e,r,n){return(0,ze.executeOperation)(this.client,new qg.UpdateManyOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}async deleteOne(e={},r={}){return(0,ze.executeOperation)(this.client,new VO.DeleteOneOperation(this,e,(0,Be.resolveOptions)(this,r)))}async deleteMany(e={},r={}){return(0,ze.executeOperation)(this.client,new VO.DeleteManyOperation(this,e,(0,Be.resolveOptions)(this,r)))}async rename(e,r){return(0,ze.executeOperation)(this.client,new sU.RenameOperation(this,e,{...r,readPreference:Lg.ReadPreference.PRIMARY}))}async drop(e){return(0,ze.executeOperation)(this.client,new eU.DropCollectionOperation(this.s.db,this.collectionName,e))}async findOne(e={},r={}){let n=this.find(e,r).limit(-1).batchSize(1),s=await n.next();return await n.close(),s}find(e={},r={}){return new Hj.FindCursor(this.client,this.s.namespace,e,(0,Be.resolveOptions)(this,r))}async options(e){return(0,ze.executeOperation)(this.client,new nU.OptionsOperation(this,(0,Be.resolveOptions)(this,e)))}async isCapped(e){return(0,ze.executeOperation)(this.client,new rU.IsCappedOperation(this,(0,Be.resolveOptions)(this,e)))}async createIndex(e,r){return(0,ze.executeOperation)(this.client,new su.CreateIndexOperation(this,this.collectionName,e,(0,Be.resolveOptions)(this,r)))}async createIndexes(e,r){return(0,ze.executeOperation)(this.client,new su.CreateIndexesOperation(this,this.collectionName,e,(0,Be.resolveOptions)(this,{...r,maxTimeMS:void 0})))}async dropIndex(e,r){return(0,ze.executeOperation)(this.client,new su.DropIndexOperation(this,e,{...(0,Be.resolveOptions)(this,r),readPreference:Lg.ReadPreference.primary}))}async dropIndexes(e){try{return await(0,ze.executeOperation)(this.client,new su.DropIndexOperation(this,"*",(0,Be.resolveOptions)(this,e))),!0}catch{return!1}}listIndexes(e){return new Kj.ListIndexesCursor(this,(0,Be.resolveOptions)(this,e))}async indexExists(e,r){return(0,ze.executeOperation)(this.client,new su.IndexExistsOperation(this,e,(0,Be.resolveOptions)(this,r)))}async indexInformation(e){return(0,ze.executeOperation)(this.client,new su.IndexInformationOperation(this.s.db,this.collectionName,(0,Be.resolveOptions)(this,e)))}async estimatedDocumentCount(e){return(0,ze.executeOperation)(this.client,new tU.EstimatedDocumentCountOperation(this,(0,Be.resolveOptions)(this,e)))}async countDocuments(e={},r={}){return(0,ze.executeOperation)(this.client,new Xj.CountDocumentsOperation(this,e,(0,Be.resolveOptions)(this,r)))}async distinct(e,r={},n={}){return(0,ze.executeOperation)(this.client,new Zj.DistinctOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}async indexes(e){return(0,ze.executeOperation)(this.client,new su.IndexesOperation(this,(0,Be.resolveOptions)(this,e)))}async findOneAndDelete(e,r){return(0,ze.executeOperation)(this.client,new kg.FindOneAndDeleteOperation(this,e,(0,Be.resolveOptions)(this,r)))}async findOneAndReplace(e,r,n){return(0,ze.executeOperation)(this.client,new kg.FindOneAndReplaceOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}async findOneAndUpdate(e,r,n){return(0,ze.executeOperation)(this.client,new kg.FindOneAndUpdateOperation(this,e,r,(0,Be.resolveOptions)(this,n)))}aggregate(e=[],r){if(!Array.isArray(e))throw new UO.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new Gj.AggregationCursor(this.client,this.s.namespace,e,(0,Be.resolveOptions)(this,r))}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new Wj.ChangeStream(this,e,(0,Be.resolveOptions)(this,r))}initializeUnorderedBulkOp(e){return new zj.UnorderedBulkOperation(this,(0,Be.resolveOptions)(this,e))}initializeOrderedBulkOp(e){return new Vj.OrderedBulkOperation(this,(0,Be.resolveOptions)(this,e))}async count(e={},r={}){return(0,ze.executeOperation)(this.client,new Jj.CountOperation(this.fullNamespace,e,(0,Be.resolveOptions)(this,r)))}listSearchIndexes(e,r){r=typeof e=="object"?e:r??{};let n=e==null||typeof e=="object"?null:e;return new Yj.ListSearchIndexesCursor(this,n,r)}async createSearchIndex(e){let[r]=await this.createSearchIndexes([e]);return r}async createSearchIndexes(e){return(0,ze.executeOperation)(this.client,new iU.CreateSearchIndexesOperation(this,e))}async dropSearchIndex(e){return(0,ze.executeOperation)(this.client,new oU.DropSearchIndexOperation(this,e))}async updateSearchIndex(e,r){return(0,ze.executeOperation)(this.client,new uU.UpdateSearchIndexOperation(this,e,r))}};cd.Collection=jg});var zg=y(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.ChangeStreamCursor=void 0;var Ug=Aa(),WO=It(),lU=ah(),fU=zr(),Vg=ne(),hU=pi(),R1=class extends hU.AbstractCursor{constructor(e,r,n=[],s={}){super(e,r,s),this.pipeline=n,this.options=s,this._resumeToken=null,this.startAtOperationTime=s.startAtOperationTime,s.startAfter?this.resumeToken=s.startAfter:s.resumeAfter&&(this.resumeToken=s.resumeAfter)}set resumeToken(e){this._resumeToken=e,this.emit(Ug.ChangeStream.RESUME_TOKEN_CHANGED,e)}get resumeToken(){return this._resumeToken}get resumeOptions(){let e={...this.options};for(let r of["resumeAfter","startAfter","startAtOperationTime"])delete e[r];return this.resumeToken!=null?this.options.startAfter&&!this.hasReceived?e.startAfter=this.resumeToken:e.resumeAfter=this.resumeToken:this.startAtOperationTime!=null&&(0,Vg.maxWireVersion)(this.server)>=7&&(e.startAtOperationTime=this.startAtOperationTime),e}cacheResumeToken(e){this.bufferedCount()===0&&this.postBatchResumeToken?this.resumeToken=this.postBatchResumeToken:this.resumeToken=e,this.hasReceived=!0}_processBatch(e){let r=e.cursor;r.postBatchResumeToken&&(this.postBatchResumeToken=e.cursor.postBatchResumeToken,("firstBatch"in e.cursor?e.cursor.firstBatch:e.cursor.nextBatch).length===0&&(this.resumeToken=r.postBatchResumeToken))}clone(){return new R1(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(e){let r=new lU.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:e}),n=await(0,fU.executeOperation)(e.client,r),s=r.server;return this.maxWireVersion=(0,Vg.maxWireVersion)(s),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7&&(this.startAtOperationTime=n.operationTime),this._processBatch(n),this.emit(WO.INIT,n),this.emit(WO.RESPONSE),{server:s,session:e,response:n}}async getMore(e){let r=await super.getMore(e);return this.maxWireVersion=(0,Vg.maxWireVersion)(this.server),this._processBatch(r),this.emit(Ug.ChangeStream.MORE,r),this.emit(Ug.ChangeStream.RESPONSE),r}};ld.ChangeStreamCursor=R1});var GO=y(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.ListCollectionsOperation=void 0;var dU=ne(),pU=bt(),fd=ve(),hd=class extends pU.CommandOperation{constructor(e,r,n){super(e,n),this.options={...n},delete this.options.writeConcern,this.db=e,this.filter=r,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize=="number"&&(this.batchSize=this.options.batchSize)}get commandName(){return"listCollections"}async execute(e,r){return super.executeCommand(e,r,this.generateCommand((0,dU.maxWireVersion)(e)))}generateCommand(e){let r={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};return e>=9&&this.options.comment!==void 0&&(r.comment=this.options.comment),r}};dd.ListCollectionsOperation=hd;(0,fd.defineAspects)(hd,[fd.Aspect.READ_OPERATION,fd.Aspect.RETRYABLE,fd.Aspect.CURSOR_CREATING])});var Wg=y(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.ListCollectionsCursor=void 0;var mU=zr(),yU=GO(),gU=pi(),x1=class extends gU.AbstractCursor{constructor(e,r,n){super(e.client,e.s.namespace,n),this.parent=e,this.filter=r,this.options=n}clone(){return new x1(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(e){let r=new yU.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:e}),n=await(0,mU.executeOperation)(this.parent.client,r);return{server:r.server,session:e,response:n}}};pd.ListCollectionsCursor=x1});var KO=y(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.RunCommandCursor=void 0;var Oa=Y(),HO=zr(),EU=Zy(),_U=ra(),AU=ne(),OU=pi(),Gg=class extends OU.AbstractCursor{setComment(e){return this.getMoreOptions.comment=e,this}setMaxTimeMS(e){return this.getMoreOptions.maxAwaitTimeMS=e,this}setBatchSize(e){return this.getMoreOptions.batchSize=e,this}clone(){throw new Oa.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(e){throw new Oa.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(e,r){throw new Oa.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(e){throw new Oa.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(e){throw new Oa.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(e,r,n={}){super(e.client,(0,AU.ns)(e.namespace),n),this.getMoreOptions={},this.db=e,this.command=Object.freeze({...r})}async _initialize(e){let r=new _U.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:e,readPreference:this.cursorOptions.readPreference}),n=await(0,HO.executeOperation)(this.client,r);if(n.cursor==null)throw new Oa.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:r.server,session:e,response:n}}async getMore(e){let r=new EU.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return(0,HO.executeOperation)(this.client,r)}};md.RunCommandCursor=Gg});var YO=y(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.CollectionsOperation=void 0;var CU=nu(),SU=ve(),Hg=class extends SU.AbstractOperation{constructor(e,r){super(r),this.options=r,this.db=e}get commandName(){return"listCollections"}async execute(e,r){let n=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:r}).toArray(),s=[];for(let{name:i}of n)i.includes("$")||s.push(new CU.Collection(this.db,i,this.db.s.options));return s}};yd.CollectionsOperation=Hg});var XO=y(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.CreateCollectionOperation=void 0;var QO=qo(),wU=nu(),bU=Y(),DU=bt(),TU=$1(),JO=ve(),MU=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),BU="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.",Ca=class extends DU.CommandOperation{constructor(e,r,n={}){super(e,n),this.options=n,this.db=e,this.name=r}get commandName(){return"create"}async execute(e,r){let n=this.db,s=this.name,i=this.options,o=i.encryptedFields??n.client.options.autoEncryption?.encryptedFieldsMap?.[`${n.databaseName}.${s}`];if(o){if(!e.loadBalanced&&e.description.maxWireVersion<QO.MIN_SUPPORTED_QE_WIRE_VERSION)throw new bU.MongoCompatibilityError(`${BU} The minimum server version required is ${QO.MIN_SUPPORTED_QE_SERVER_VERSION}`);let a=o.escCollection??`enxcol_.${s}.esc`,c=o.ecocCollection??`enxcol_.${s}.ecoc`;for(let l of[a,c])await new Ca(n,l,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(e,r);i.encryptedFields||(this.options={...this.options,encryptedFields:o})}let u=await this.executeWithoutEncryptedFieldsCheck(e,r);return o&&await new TU.CreateIndexOperation(n,s,{__safeContent__:1},{}).execute(e,r),u}async executeWithoutEncryptedFieldsCheck(e,r){let n=this.db,s=this.name,i=this.options,o={create:s};for(let u in i)i[u]!=null&&typeof i[u]!="function"&&!MU.has(u)&&(o[u]=i[u]);return await super.executeCommand(e,r,o),new wU.Collection(n,s,i)}};gd.CreateCollectionOperation=Ca;(0,JO.defineAspects)(Ca,[JO.Aspect.WRITE_OPERATION])});var eC=y(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.ProfilingLevelOperation=void 0;var ZO=Y(),PU=bt(),Kg=class extends PU.CommandOperation{constructor(e,r){super(e,r),this.options=r}get commandName(){return"profile"}async execute(e,r){let n=await super.executeCommand(e,r,{profile:-1});if(n.ok===1){let s=n.was;if(s===0)return"off";if(s===1)return"slow_only";if(s===2)return"all";throw new ZO.MongoUnexpectedServerResponseError(`Illegal profiling level value ${s}`)}else throw new ZO.MongoUnexpectedServerResponseError("Error with profile command")}};Ed.ProfilingLevelOperation=Kg});var Qg=y(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.SetProfilingLevelOperation=Ls.ProfilingLevel=void 0;var FU=Y(),NU=ne(),$U=bt(),IU=new Set(["off","slow_only","all"]);Ls.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});var Yg=class extends $U.CommandOperation{constructor(e,r,n){switch(super(e,n),this.options=n,r){case Ls.ProfilingLevel.off:this.profile=0;break;case Ls.ProfilingLevel.slowOnly:this.profile=1;break;case Ls.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=r}get commandName(){return"profile"}async execute(e,r){let n=this.level;if(!IU.has(n))throw new FU.MongoInvalidArgumentError(`Profiling level must be one of "${(0,NU.enumToString)(Ls.ProfilingLevel)}"`);return await super.executeCommand(e,r,{profile:this.profile}),n}};Ls.SetProfilingLevelOperation=Yg});var rC=y(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.DbStatsOperation=void 0;var RU=bt(),tC=ve(),_d=class extends RU.CommandOperation{constructor(e,r){super(e,r),this.options=r}get commandName(){return"dbStats"}async execute(e,r){let n={dbStats:!0};return this.options.scale!=null&&(n.scale=this.options.scale),super.executeCommand(e,r,n)}};Ad.DbStatsOperation=_d;(0,tC.defineAspects)(_d,[tC.Aspect.READ_OPERATION])});var Cd=y(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.Db=void 0;var xU=Fy(),nC=Ke(),vU=Aa(),kU=nu(),Sa=It(),qU=M1(),LU=Wg(),jU=KO(),sC=Y(),UU=YO(),VU=XO(),iC=Tg(),kn=zr(),oC=$1(),zU=eC(),WU=by(),GU=Ig(),HU=ra(),KU=Qg(),YU=rC(),QU=$n(),uC=jt(),er=ne(),JU=Vr(),XU=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"],mi=class{constructor(e,r,n){if(n=n??{},n=(0,er.filterOptions)(n,XU),typeof r=="string"&&r.includes("."))throw new sC.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:n,readPreference:uC.ReadPreference.fromOptions(n),bsonOptions:(0,nC.resolveBSONOptions)(n,e),pkFactory:n?.pkFactory??er.DEFAULT_PK_FACTORY,readConcern:QU.ReadConcern.fromOptions(n),writeConcern:JU.WriteConcern.fromOptions(n),namespace:new er.MongoDBNamespace(r)},this.client=e}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.client.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(e,r){return(0,kn.executeOperation)(this.client,new VU.CreateCollectionOperation(this,e,(0,er.resolveOptions)(this,r)))}async command(e,r){return(0,kn.executeOperation)(this.client,new HU.RunCommandOperation(this,e,{...(0,nC.resolveBSONOptions)(r),session:r?.session,readPreference:r?.readPreference}))}aggregate(e=[],r){return new qU.AggregationCursor(this.client,this.s.namespace,e,(0,er.resolveOptions)(this,r))}admin(){return new xU.Admin(this)}collection(e,r={}){if(typeof r=="function")throw new sC.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new kU.Collection(this,e,(0,er.resolveOptions)(this,r))}async stats(e){return(0,kn.executeOperation)(this.client,new YU.DbStatsOperation(this,(0,er.resolveOptions)(this,e)))}listCollections(e={},r={}){return new LU.ListCollectionsCursor(this,e,(0,er.resolveOptions)(this,r))}async renameCollection(e,r,n){return(0,kn.executeOperation)(this.client,new GU.RenameOperation(this.collection(e),r,{...n,new_collection:!0,readPreference:uC.ReadPreference.primary}))}async dropCollection(e,r){return(0,kn.executeOperation)(this.client,new iC.DropCollectionOperation(this,e,(0,er.resolveOptions)(this,r)))}async dropDatabase(e){return(0,kn.executeOperation)(this.client,new iC.DropDatabaseOperation(this,(0,er.resolveOptions)(this,e)))}async collections(e){return(0,kn.executeOperation)(this.client,new UU.CollectionsOperation(this,(0,er.resolveOptions)(this,e)))}async createIndex(e,r,n){return(0,kn.executeOperation)(this.client,new oC.CreateIndexOperation(this,e,r,(0,er.resolveOptions)(this,n)))}async removeUser(e,r){return(0,kn.executeOperation)(this.client,new WU.RemoveUserOperation(this,e,(0,er.resolveOptions)(this,r)))}async setProfilingLevel(e,r){return(0,kn.executeOperation)(this.client,new KU.SetProfilingLevelOperation(this,e,(0,er.resolveOptions)(this,r)))}async profilingLevel(e){return(0,kn.executeOperation)(this.client,new zU.ProfilingLevelOperation(this,(0,er.resolveOptions)(this,e)))}async indexInformation(e,r){return(0,kn.executeOperation)(this.client,new oC.IndexInformationOperation(this,e,(0,er.resolveOptions)(this,r)))}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new vU.ChangeStream(this,e,(0,er.resolveOptions)(this,r))}runCursorCommand(e,r){return new jU.RunCommandCursor(this,e,r)}};mi.SYSTEM_NAMESPACE_COLLECTION=Sa.SYSTEM_NAMESPACE_COLLECTION;mi.SYSTEM_INDEX_COLLECTION=Sa.SYSTEM_INDEX_COLLECTION;mi.SYSTEM_PROFILE_COLLECTION=Sa.SYSTEM_PROFILE_COLLECTION;mi.SYSTEM_USER_COLLECTION=Sa.SYSTEM_USER_COLLECTION;mi.SYSTEM_COMMAND_COLLECTION=Sa.SYSTEM_COMMAND_COLLECTION;mi.SYSTEM_JS_COLLECTION=Sa.SYSTEM_JS_COLLECTION;Od.Db=mi});var ds=y(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.getMongoDBClientEncryption=We.aws4=We.getSocks=We.getSnappy=We.getGcpMetadata=We.getAwsCredentialProvider=We.getZstdLibrary=We.ZStandard=We.getKerberos=We.Kerberos=void 0;var uo=Y();function v1(t){let e=t?{kModuleError:t}:{};return new Proxy(e,{get:(r,n)=>{if(n==="kModuleError")return t;throw t},set:()=>{throw t}})}We.Kerberos=v1(new uo.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));function ZU(){try{return We.Kerberos=require("kerberos"),We.Kerberos}catch{return We.Kerberos}}We.getKerberos=ZU;We.ZStandard=v1(new uo.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));function eV(){try{return We.ZStandard=require("@mongodb-js/zstd"),We.ZStandard}catch{return We.ZStandard}}We.getZstdLibrary=eV;function tV(){try{return require("@aws-sdk/credential-providers")}catch{return v1(new uo.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}}We.getAwsCredentialProvider=tV;function rV(){try{return require("gcp-metadata")}catch{return v1(new uo.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}}We.getGcpMetadata=rV;function nV(){try{return require("snappy")}catch(t){return{kModuleError:new uo.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:t})}}}We.getSnappy=nV;function sV(){try{return require("socks")}catch(t){return{kModuleError:new uo.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:t})}}}We.getSocks=sV;We.aws4=v1(new uo.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{We.aws4=require("aws4")}catch{}function iV(){let t=null;try{t=require("mongodb-client-encryption")}catch(e){return{kModuleError:new uo.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:e})}}return t}We.getMongoDBClientEncryption=iV});var yi=y(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.AuthProvider=wa.AuthContext=void 0;var oV=Y(),Jg=class{constructor(e,r,n){this.reauthenticating=!1,this.connection=e,this.credentials=r,this.options=n}};wa.AuthContext=Jg;var Xg=class{async prepare(e,r){return e}async reauth(e){if(e.reauthenticating)throw new oV.MongoRuntimeError("Reauthentication already in progress.");try{e.reauthenticating=!0,await this.auth(e)}finally{e.reauthenticating=!1}}};wa.AuthProvider=Xg});var Sd=y(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.resolveCname=An.performGSSAPICanonicalizeHostName=An.GSSAPI=An.GSSAPICanonicalizationValue=void 0;var e3=require("dns"),uV=ds(),aC=Y(),aV=ne(),cV=yi();An.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});async function Zg(t,e){return t.command((0,aV.ns)("$external.$cmd"),e,void 0)}var k1,t3=class extends cV.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(n==null)throw new aC.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");let{username:s}=n,i=await lV(e),o=await i.step(""),u=await Zg(r,fV(o)),a=await cC(i,10,u.payload),c=await Zg(r,hV(a,u.conversationId)),l=await dV(i,s,c.payload);await Zg(r,{saslContinue:1,conversationId:c.conversationId,payload:l})}};An.GSSAPI=t3;async function lV(t){let{hostAddress:e}=t.options,{credentials:r}=t;if(!e||typeof e.host!="string"||!r)throw new aC.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(pV(),"kModuleError"in k1)throw k1.kModuleError;let{initializeClient:n}=k1,{username:s,password:i}=r,o=r.mechanismProperties,u=o.SERVICE_NAME??"mongodb",a=await lC(e.host,o),c={};i!=null&&Object.assign(c,{user:s,password:i});let l=o.SERVICE_HOST??a,f=`${u}${process.platform==="win32"?"/":"@"}${l}`;return"SERVICE_REALM"in o&&(f=`${f}@${o.SERVICE_REALM}`),n(f,c)}function fV(t){return{saslStart:1,mechanism:"GSSAPI",payload:t,autoAuthorize:1}}function hV(t,e){return{saslContinue:1,conversationId:e,payload:t}}async function cC(t,e,r){try{return await t.step(r)||""}catch(n){if(e===0)throw n;return cC(t,e-1,r)}}async function dV(t,e,r){let n=await t.unwrap(r);return t.wrap(n||"",{user:e})}async function lC(t,e){let r=e.CANONICALIZE_HOST_NAME;if(!r||r===An.GSSAPICanonicalizationValue.none)return t;if(r===An.GSSAPICanonicalizationValue.on||r===An.GSSAPICanonicalizationValue.forwardAndReverse){let{address:n}=await e3.promises.lookup(t);try{let s=await e3.promises.resolvePtr(n);return s.length>0?s[0]:t}catch{return r3(t)}}else return r3(t)}An.performGSSAPICanonicalizeHostName=lC;async function r3(t){try{let e=await e3.promises.resolveCname(t);return e.length>0?e[0]:t}catch{return t}}An.resolveCname=r3;function pV(){k1||(k1=(0,uV.getKerberos)())}});var ps=y(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.AUTH_MECHS_AUTH_SRC_EXTERNAL=js.AuthMechanism=void 0;js.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});js.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([js.AuthMechanism.MONGODB_GSSAPI,js.AuthMechanism.MONGODB_AWS,js.AuthMechanism.MONGODB_OIDC,js.AuthMechanism.MONGODB_X509])});var wd=y(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MongoCredentials=iu.DEFAULT_ALLOWED_HOSTS=void 0;var qn=Y(),mV=Sd(),tr=ps();function yV(t){if(t){if(Array.isArray(t.saslSupportedMechs))return t.saslSupportedMechs.includes(tr.AuthMechanism.MONGODB_SCRAM_SHA256)?tr.AuthMechanism.MONGODB_SCRAM_SHA256:tr.AuthMechanism.MONGODB_SCRAM_SHA1;if(t.maxWireVersion>=3)return tr.AuthMechanism.MONGODB_SCRAM_SHA1}return tr.AuthMechanism.MONGODB_CR}var fC=["aws","azure"],hC="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";iu.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var gV="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.",ba=class{constructor(e){this.username=e.username??"",this.password=e.password,this.source=e.source,!this.source&&e.db&&(this.source=e.db),this.mechanism=e.mechanism||tr.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=e.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)&&(!this.username&&process.env.AWS_ACCESS_KEY_ID&&(this.username=process.env.AWS_ACCESS_KEY_ID),!this.password&&process.env.AWS_SECRET_ACCESS_KEY&&(this.password=process.env.AWS_SECRET_ACCESS_KEY),this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null&&(this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN})),this.mechanism===tr.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS&&(this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:iu.DEFAULT_ALLOWED_HOSTS}),Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(e){return this.mechanism===e.mechanism&&this.username===e.username&&this.password===e.password&&this.source===e.source}resolveAuthMechanism(e){return this.mechanism.match(/DEFAULT/i)?new ba({username:this.username,password:this.password,source:this.source,mechanism:yV(e),mechanismProperties:this.mechanismProperties}):this}validate(){if((this.mechanism===tr.AuthMechanism.MONGODB_GSSAPI||this.mechanism===tr.AuthMechanism.MONGODB_CR||this.mechanism===tr.AuthMechanism.MONGODB_PLAIN||this.mechanism===tr.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===tr.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new qn.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===tr.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new qn.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new qn.MongoAzureError(gV);if(this.mechanismProperties.PROVIDER_NAME&&!fC.includes(this.mechanismProperties.PROVIDER_NAME))throw new qn.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${fC.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new qn.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new qn.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){let r=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(r))throw new qn.MongoInvalidArgumentError(hC);for(let n of r)if(typeof n!="string")throw new qn.MongoInvalidArgumentError(hC)}}if(tr.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)&&this.source!=null&&this.source!=="$external")throw new qn.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`);if(this.mechanism===tr.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new qn.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===tr.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new qn.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}let e=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(mV.GSSAPICanonicalizationValue).includes(e))throw new qn.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${e}`)}static merge(e,r){return new ba({username:r.username??e?.username??"",password:r.password??e?.password??"",mechanism:r.mechanism??e?.mechanism??tr.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:r.mechanismProperties??e?.mechanismProperties??{},source:r.source??r.db??e?.source??"admin"})}};iu.MongoCredentials=ba});var Dd=y(Ge=>{"use strict";function Qe(t,e,r){return r.globals&&(t=r.globals[t.name]),new t(`${r.context?r.context:"Value"} ${e}.`)}function Ma(t,e){if(typeof t=="bigint")throw Qe(TypeError,"is a BigInt which cannot be converted to a number",e);return e.globals?e.globals.Number(t):Number(t)}function pC(t){return t>0&&t%1===.5&&!(t&1)||t<0&&t%1===-.5&&(t&1)===1?q1(Math.floor(t)):q1(Math.round(t))}function bd(t){return q1(Math.trunc(t))}function dC(t){return t<0?-1:1}function EV(t,e){let r=t%e;return dC(e)!==dC(r)?r+e:r}function q1(t){return t===0?0:t}function Ba(t,{unsigned:e}){let r,n;e?(r=0,n=2**t-1):(r=-(2**(t-1)),n=2**(t-1)-1);let s=2**t,i=2**(t-1);return(o,u={})=>{let a=Ma(o,u);if(a=q1(a),u.enforceRange){if(!Number.isFinite(a))throw Qe(TypeError,"is not a finite number",u);if(a=bd(a),a<r||a>n)throw Qe(TypeError,`is outside the accepted range of ${r} to ${n}, inclusive`,u);return a}return!Number.isNaN(a)&&u.clamp?(a=Math.min(Math.max(a,r),n),a=pC(a),a):!Number.isFinite(a)||a===0?0:(a=bd(a),a>=r&&a<=n?a:(a=EV(a,s),!e&&a>=i?a-s:a))}}function mC(t,{unsigned:e}){let r=Number.MAX_SAFE_INTEGER,n=e?0:Number.MIN_SAFE_INTEGER,s=e?BigInt.asUintN:BigInt.asIntN;return(i,o={})=>{let u=Ma(i,o);if(u=q1(u),o.enforceRange){if(!Number.isFinite(u))throw Qe(TypeError,"is not a finite number",o);if(u=bd(u),u<n||u>r)throw Qe(TypeError,`is outside the accepted range of ${n} to ${r}, inclusive`,o);return u}if(!Number.isNaN(u)&&o.clamp)return u=Math.min(Math.max(u,n),r),u=pC(u),u;if(!Number.isFinite(u)||u===0)return 0;let a=BigInt(bd(u));return a=s(t,a),Number(a)}}Ge.any=t=>t;Ge.undefined=()=>{};Ge.boolean=t=>!!t;Ge.byte=Ba(8,{unsigned:!1});Ge.octet=Ba(8,{unsigned:!0});Ge.short=Ba(16,{unsigned:!1});Ge["unsigned short"]=Ba(16,{unsigned:!0});Ge.long=Ba(32,{unsigned:!1});Ge["unsigned long"]=Ba(32,{unsigned:!0});Ge["long long"]=mC(64,{unsigned:!1});Ge["unsigned long long"]=mC(64,{unsigned:!0});Ge.double=(t,e={})=>{let r=Ma(t,e);if(!Number.isFinite(r))throw Qe(TypeError,"is not a finite floating-point value",e);return r};Ge["unrestricted double"]=(t,e={})=>Ma(t,e);Ge.float=(t,e={})=>{let r=Ma(t,e);if(!Number.isFinite(r))throw Qe(TypeError,"is not a finite floating-point value",e);if(Object.is(r,-0))return r;let n=Math.fround(r);if(!Number.isFinite(n))throw Qe(TypeError,"is outside the range of a single-precision floating-point value",e);return n};Ge["unrestricted float"]=(t,e={})=>{let r=Ma(t,e);return isNaN(r)||Object.is(r,-0)?r:Math.fround(r)};Ge.DOMString=(t,e={})=>{if(e.treatNullAsEmptyString&&t===null)return"";if(typeof t=="symbol")throw Qe(TypeError,"is a symbol, which cannot be converted to a string",e);return(e.globals?e.globals.String:String)(t)};Ge.ByteString=(t,e={})=>{let r=Ge.DOMString(t,e),n;for(let s=0;(n=r.codePointAt(s))!==void 0;++s)if(n>255)throw Qe(TypeError,"is not a valid ByteString",e);return r};Ge.USVString=(t,e={})=>{let r=Ge.DOMString(t,e),n=r.length,s=[];for(let i=0;i<n;++i){let o=r.charCodeAt(i);if(o<55296||o>57343)s.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)s.push(String.fromCodePoint(65533));else if(i===n-1)s.push(String.fromCodePoint(65533));else{let u=r.charCodeAt(i+1);if(56320<=u&&u<=57343){let a=o&1023,c=u&1023;s.push(String.fromCodePoint(65536+1024*a+c)),++i}else s.push(String.fromCodePoint(65533))}}return s.join("")};Ge.object=(t,e={})=>{if(t===null||typeof t!="object"&&typeof t!="function")throw Qe(TypeError,"is not an object",e);return t};var _V=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,AV=typeof SharedArrayBuffer=="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function n3(t){try{return _V.call(t),!0}catch{return!1}}function Da(t){try{return AV.call(t),!0}catch{return!1}}function Ta(t){try{return new Uint8Array(t),!1}catch{return!0}}Ge.ArrayBuffer=(t,e={})=>{if(!n3(t))throw e.allowShared&&!Da(t)?Qe(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",e):Qe(TypeError,"is not an ArrayBuffer",e);if(Ta(t))throw Qe(TypeError,"is a detached ArrayBuffer",e);return t};var OV=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;Ge.DataView=(t,e={})=>{try{OV.call(t)}catch{throw Qe(TypeError,"is not a DataView",e)}if(!e.allowShared&&Da(t.buffer))throw Qe(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",e);if(Ta(t.buffer))throw Qe(TypeError,"is backed by a detached ArrayBuffer",e);return t};var CV=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(t=>{let{name:e}=t,r=/^[AEIOU]/u.test(e)?"an":"a";Ge[e]=(n,s={})=>{if(!ArrayBuffer.isView(n)||CV.call(n)!==e)throw Qe(TypeError,`is not ${r} ${e} object`,s);if(!s.allowShared&&Da(n.buffer))throw Qe(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",s);if(Ta(n.buffer))throw Qe(TypeError,"is a view on a detached ArrayBuffer",s);return n}});Ge.ArrayBufferView=(t,e={})=>{if(!ArrayBuffer.isView(t))throw Qe(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",e);if(!e.allowShared&&Da(t.buffer))throw Qe(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(Ta(t.buffer))throw Qe(TypeError,"is a view on a detached ArrayBuffer",e);return t};Ge.BufferSource=(t,e={})=>{if(ArrayBuffer.isView(t)){if(!e.allowShared&&Da(t.buffer))throw Qe(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(Ta(t.buffer))throw Qe(TypeError,"is a view on a detached ArrayBuffer",e);return t}if(!e.allowShared&&!n3(t))throw Qe(TypeError,"is not an ArrayBuffer or a view on one",e);if(e.allowShared&&!Da(t)&&!n3(t))throw Qe(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",e);if(Ta(t))throw Qe(TypeError,"is a detached ArrayBuffer",e);return t};Ge.DOMTimeStamp=Ge["unsigned long long"]});var Md=y((CC,SC)=>{"use strict";function SV(t){return typeof t=="object"&&t!==null||typeof t=="function"}var yC=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function wV(t,e){for(let r of Reflect.ownKeys(e)){let n=Reflect.getOwnPropertyDescriptor(e,r);if(n&&!Reflect.defineProperty(t,r,n))throw new TypeError(`Cannot redefine property: ${String(r)}`)}}function bV(t,e){let r=_C(t);return Object.defineProperties(Object.create(r["%Object.prototype%"]),Object.getOwnPropertyDescriptors(e))}var gC=Symbol("wrapper"),EC=Symbol("impl"),Pa=Symbol("SameObject caches"),Td=Symbol.for("[webidl2js] constructor registry"),DV=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function _C(t){if(yC(t,Td))return t[Td];let e=Object.create(null);e["%Object.prototype%"]=t.Object.prototype,e["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new t.Array()[Symbol.iterator]()));try{e["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(t.eval("(async function* () {})").prototype))}catch{e["%AsyncIteratorPrototype%"]=DV}return t[Td]=e,e}function TV(t,e,r){return t[Pa]||(t[Pa]=Object.create(null)),e in t[Pa]||(t[Pa][e]=r()),t[Pa][e]}function AC(t){return t?t[gC]:null}function OC(t){return t?t[EC]:null}function MV(t){let e=AC(t);return e||t}function BV(t){let e=OC(t);return e||t}var PV=Symbol("internal");function FV(t){if(typeof t!="string")return!1;let e=t>>>0;if(e===2**32-1)return!1;let r=`${e}`;return t===r}var NV=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function $V(t){try{return NV.call(t),!0}catch{return!1}}function IV([t,e],r){let n;switch(r){case"key":n=t;break;case"value":n=e;break;case"key+value":n=[t,e];break}return{value:n,done:!1}}var RV=Symbol("supports property index"),xV=Symbol("supported property indices"),vV=Symbol("supports property name"),kV=Symbol("supported property names"),qV=Symbol("indexed property get"),LV=Symbol("indexed property set new"),jV=Symbol("indexed property set existing"),UV=Symbol("named property get"),VV=Symbol("named property set new"),zV=Symbol("named property set existing"),WV=Symbol("named property delete"),GV=Symbol("async iterator get the next iteration result"),HV=Symbol("async iterator return steps"),KV=Symbol("async iterator initialization steps"),YV=Symbol("async iterator end of iteration");SC.exports=CC={isObject:SV,hasOwn:yC,define:wV,newObjectInRealm:bV,wrapperSymbol:gC,implSymbol:EC,getSameObject:TV,ctorRegistrySymbol:Td,initCtorRegistry:_C,wrapperForImpl:AC,implForWrapper:OC,tryWrapperForImpl:MV,tryImplForWrapper:BV,iterInternalSymbol:PV,isArrayBuffer:$V,isArrayIndexPropName:FV,supportsPropertyIndex:RV,supportedPropertyIndices:xV,supportsPropertyName:vV,supportedPropertyNames:kV,indexedGet:qV,indexedSetNew:LV,indexedSetExisting:jV,namedGet:UV,namedSetNew:VV,namedSetExisting:zV,namedDelete:WV,asyncIteratorNext:GV,asyncIteratorReturn:HV,asyncIteratorInit:KV,asyncIteratorEOI:YV,iteratorResult:IV}});var NC=y((Rce,FC)=>{"use strict";var bC="-",QV=/^xn--/,JV=/[^\0-\x7F]/,XV=/[\x2E\u3002\uFF0E\uFF61]/g,ZV={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},s3=36-1,Us=Math.floor,i3=String.fromCharCode;function ao(t){throw new RangeError(ZV[t])}function ez(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function DC(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(XV,".");let s=t.split("."),i=ez(s,e).join(".");return n+i}function TC(t){let e=[],r=0,n=t.length;for(;r<n;){let s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){let i=t.charCodeAt(r++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e}var tz=t=>String.fromCodePoint(...t),rz=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:36},wC=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},MC=function(t,e,r){let n=0;for(t=r?Us(t/700):t>>1,t+=Us(t/e);t>s3*26>>1;n+=36)t=Us(t/s3);return Us(n+(s3+1)*t/(t+38))},BC=function(t){let e=[],r=t.length,n=0,s=128,i=72,o=t.lastIndexOf(bC);o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&ao("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<r;){let a=n;for(let l=1,f=36;;f+=36){u>=r&&ao("invalid-input");let h=rz(t.charCodeAt(u++));h>=36&&ao("invalid-input"),h>Us((2147483647-n)/l)&&ao("overflow"),n+=h*l;let d=f<=i?1:f>=i+26?26:f-i;if(h<d)break;let p=36-d;l>Us(2147483647/p)&&ao("overflow"),l*=p}let c=e.length+1;i=MC(n-a,c,a==0),Us(n/c)>2147483647-s&&ao("overflow"),s+=Us(n/c),n%=c,e.splice(n++,0,s)}return String.fromCodePoint(...e)},PC=function(t){let e=[];t=TC(t);let r=t.length,n=128,s=0,i=72;for(let a of t)a<128&&e.push(i3(a));let o=e.length,u=o;for(o&&e.push(bC);u<r;){let a=2147483647;for(let l of t)l>=n&&l<a&&(a=l);let c=u+1;a-n>Us((2147483647-s)/c)&&ao("overflow"),s+=(a-n)*c,n=a;for(let l of t)if(l<n&&++s>2147483647&&ao("overflow"),l===n){let f=s;for(let h=36;;h+=36){let d=h<=i?1:h>=i+26?26:h-i;if(f<d)break;let p=f-d,m=36-d;e.push(i3(wC(d+p%m,0))),f=Us(p/m)}e.push(i3(wC(f,0))),i=MC(s,c,u===o),s=0,++u}++s,++n}return e.join("")},nz=function(t){return DC(t,function(e){return QV.test(e)?BC(e.slice(4).toLowerCase()):e})},sz=function(t){return DC(t,function(e){return JV.test(e)?"xn--"+PC(e):e})},iz={version:"2.3.1",ucs2:{decode:TC,encode:tz},decode:BC,encode:PC,toASCII:sz,toUnicode:nz};FC.exports=iz});var IC=y((xce,$C)=>{"use strict";var oz=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,uz=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,az=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,cz=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,lz=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,fz=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,hz=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10EFD}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11FD5}-\u{11FF1}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E4EC}-\u{1E4EF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,dz=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,pz=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,mz=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,yz=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{11241}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11F00}-\u{11F10}\u{11F12}-\u{11F3A}\u{11F3E}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{13455}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E030}-\u{1E06D}\u{1E08F}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E4D0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,gz=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{13440}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;$C.exports={combiningMarks:oz,combiningClassVirama:uz,validZWNJ:az,bidiDomain:cz,bidiS1LTR:lz,bidiS1RTL:fz,bidiS2:hz,bidiS3:dz,bidiS4EN:pz,bidiS4AN:mz,bidiS5:yz,bidiS6:gz}});var RC=y((vce,Ez)=>{Ez.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1e3,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[3315,2],[[3316,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[3790,2],[3791,3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6e3],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8e3,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9e3],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13e3,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43e3,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64e3,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\u{242EE}"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\u{2284A}"],[64208,1,"\u{22844}"],[64209,1,"\u{233D5}"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\u{25249}"],[64214,1,"\u{25CD0}"],[64215,1,"\u{27ED3}"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,'"'],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66e3,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\u{10428}"],[66561,1,"\u{10429}"],[66562,1,"\u{1042A}"],[66563,1,"\u{1042B}"],[66564,1,"\u{1042C}"],[66565,1,"\u{1042D}"],[66566,1,"\u{1042E}"],[66567,1,"\u{1042F}"],[66568,1,"\u{10430}"],[66569,1,"\u{10431}"],[66570,1,"\u{10432}"],[66571,1,"\u{10433}"],[66572,1,"\u{10434}"],[66573,1,"\u{10435}"],[66574,1,"\u{10436}"],[66575,1,"\u{10437}"],[66576,1,"\u{10438}"],[66577,1,"\u{10439}"],[66578,1,"\u{1043A}"],[66579,1,"\u{1043B}"],[66580,1,"\u{1043C}"],[66581,1,"\u{1043D}"],[66582,1,"\u{1043E}"],[66583,1,"\u{1043F}"],[66584,1,"\u{10440}"],[66585,1,"\u{10441}"],[66586,1,"\u{10442}"],[66587,1,"\u{10443}"],[66588,1,"\u{10444}"],[66589,1,"\u{10445}"],[66590,1,"\u{10446}"],[66591,1,"\u{10447}"],[66592,1,"\u{10448}"],[66593,1,"\u{10449}"],[66594,1,"\u{1044A}"],[66595,1,"\u{1044B}"],[66596,1,"\u{1044C}"],[66597,1,"\u{1044D}"],[66598,1,"\u{1044E}"],[66599,1,"\u{1044F}"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\u{104D8}"],[66737,1,"\u{104D9}"],[66738,1,"\u{104DA}"],[66739,1,"\u{104DB}"],[66740,1,"\u{104DC}"],[66741,1,"\u{104DD}"],[66742,1,"\u{104DE}"],[66743,1,"\u{104DF}"],[66744,1,"\u{104E0}"],[66745,1,"\u{104E1}"],[66746,1,"\u{104E2}"],[66747,1,"\u{104E3}"],[66748,1,"\u{104E4}"],[66749,1,"\u{104E5}"],[66750,1,"\u{104E6}"],[66751,1,"\u{104E7}"],[66752,1,"\u{104E8}"],[66753,1,"\u{104E9}"],[66754,1,"\u{104EA}"],[66755,1,"\u{104EB}"],[66756,1,"\u{104EC}"],[66757,1,"\u{104ED}"],[66758,1,"\u{104EE}"],[66759,1,"\u{104EF}"],[66760,1,"\u{104F0}"],[66761,1,"\u{104F1}"],[66762,1,"\u{104F2}"],[66763,1,"\u{104F3}"],[66764,1,"\u{104F4}"],[66765,1,"\u{104F5}"],[66766,1,"\u{104F6}"],[66767,1,"\u{104F7}"],[66768,1,"\u{104F8}"],[66769,1,"\u{104F9}"],[66770,1,"\u{104FA}"],[66771,1,"\u{104FB}"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\u{10597}"],[66929,1,"\u{10598}"],[66930,1,"\u{10599}"],[66931,1,"\u{1059A}"],[66932,1,"\u{1059B}"],[66933,1,"\u{1059C}"],[66934,1,"\u{1059D}"],[66935,1,"\u{1059E}"],[66936,1,"\u{1059F}"],[66937,1,"\u{105A0}"],[66938,1,"\u{105A1}"],[66939,3],[66940,1,"\u{105A3}"],[66941,1,"\u{105A4}"],[66942,1,"\u{105A5}"],[66943,1,"\u{105A6}"],[66944,1,"\u{105A7}"],[66945,1,"\u{105A8}"],[66946,1,"\u{105A9}"],[66947,1,"\u{105AA}"],[66948,1,"\u{105AB}"],[66949,1,"\u{105AC}"],[66950,1,"\u{105AD}"],[66951,1,"\u{105AE}"],[66952,1,"\u{105AF}"],[66953,1,"\u{105B0}"],[66954,1,"\u{105B1}"],[66955,3],[66956,1,"\u{105B3}"],[66957,1,"\u{105B4}"],[66958,1,"\u{105B5}"],[66959,1,"\u{105B6}"],[66960,1,"\u{105B7}"],[66961,1,"\u{105B8}"],[66962,1,"\u{105B9}"],[66963,3],[66964,1,"\u{105BB}"],[66965,1,"\u{105BC}"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\u{1DF04}"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\u{1DF05}"],[67488,1,"\u028E"],[67489,1,"\u{1DF06}"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\u{1DF08}"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\u{1DF0A}"],[67514,1,"\u{1DF1E}"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\u{10CC0}"],[68737,1,"\u{10CC1}"],[68738,1,"\u{10CC2}"],[68739,1,"\u{10CC3}"],[68740,1,"\u{10CC4}"],[68741,1,"\u{10CC5}"],[68742,1,"\u{10CC6}"],[68743,1,"\u{10CC7}"],[68744,1,"\u{10CC8}"],[68745,1,"\u{10CC9}"],[68746,1,"\u{10CCA}"],[68747,1,"\u{10CCB}"],[68748,1,"\u{10CCC}"],[68749,1,"\u{10CCD}"],[68750,1,"\u{10CCE}"],[68751,1,"\u{10CCF}"],[68752,1,"\u{10CD0}"],[68753,1,"\u{10CD1}"],[68754,1,"\u{10CD2}"],[68755,1,"\u{10CD3}"],[68756,1,"\u{10CD4}"],[68757,1,"\u{10CD5}"],[68758,1,"\u{10CD6}"],[68759,1,"\u{10CD7}"],[68760,1,"\u{10CD8}"],[68761,1,"\u{10CD9}"],[68762,1,"\u{10CDA}"],[68763,1,"\u{10CDB}"],[68764,1,"\u{10CDC}"],[68765,1,"\u{10CDD}"],[68766,1,"\u{10CDE}"],[68767,1,"\u{10CDF}"],[68768,1,"\u{10CE0}"],[68769,1,"\u{10CE1}"],[68770,1,"\u{10CE2}"],[68771,1,"\u{10CE3}"],[68772,1,"\u{10CE4}"],[68773,1,"\u{10CE5}"],[68774,1,"\u{10CE6}"],[68775,1,"\u{10CE7}"],[68776,1,"\u{10CE8}"],[68777,1,"\u{10CE9}"],[68778,1,"\u{10CEA}"],[68779,1,"\u{10CEB}"],[68780,1,"\u{10CEC}"],[68781,1,"\u{10CED}"],[68782,1,"\u{10CEE}"],[68783,1,"\u{10CEF}"],[68784,1,"\u{10CF0}"],[68785,1,"\u{10CF1}"],[68786,1,"\u{10CF2}"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69372],3],[[69373,69375],2],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70209],2],[[70210,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\u{118C0}"],[71841,1,"\u{118C1}"],[71842,1,"\u{118C2}"],[71843,1,"\u{118C3}"],[71844,1,"\u{118C4}"],[71845,1,"\u{118C5}"],[71846,1,"\u{118C6}"],[71847,1,"\u{118C7}"],[71848,1,"\u{118C8}"],[71849,1,"\u{118C9}"],[71850,1,"\u{118CA}"],[71851,1,"\u{118CB}"],[71852,1,"\u{118CC}"],[71853,1,"\u{118CD}"],[71854,1,"\u{118CE}"],[71855,1,"\u{118CF}"],[71856,1,"\u{118D0}"],[71857,1,"\u{118D1}"],[71858,1,"\u{118D2}"],[71859,1,"\u{118D3}"],[71860,1,"\u{118D4}"],[71861,1,"\u{118D5}"],[71862,1,"\u{118D6}"],[71863,1,"\u{118D7}"],[71864,1,"\u{118D8}"],[71865,1,"\u{118D9}"],[71866,1,"\u{118DA}"],[71867,1,"\u{118DB}"],[71868,1,"\u{118DC}"],[71869,1,"\u{118DD}"],[71870,1,"\u{118DE}"],[71871,1,"\u{118DF}"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72447],3],[[72448,72457],2],[[72458,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73471],3],[[73472,73488],2],[73489,3],[[73490,73530],2],[[73531,73533],3],[[73534,73538],2],[[73539,73551],2],[[73552,73561],2],[[73562,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,2],[[78896,78904],3],[[78905,78911],3],[[78912,78933],2],[[78934,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\u{16E60}"],[93761,1,"\u{16E61}"],[93762,1,"\u{16E62}"],[93763,1,"\u{16E63}"],[93764,1,"\u{16E64}"],[93765,1,"\u{16E65}"],[93766,1,"\u{16E66}"],[93767,1,"\u{16E67}"],[93768,1,"\u{16E68}"],[93769,1,"\u{16E69}"],[93770,1,"\u{16E6A}"],[93771,1,"\u{16E6B}"],[93772,1,"\u{16E6C}"],[93773,1,"\u{16E6D}"],[93774,1,"\u{16E6E}"],[93775,1,"\u{16E6F}"],[93776,1,"\u{16E70}"],[93777,1,"\u{16E71}"],[93778,1,"\u{16E72}"],[93779,1,"\u{16E73}"],[93780,1,"\u{16E74}"],[93781,1,"\u{16E75}"],[93782,1,"\u{16E76}"],[93783,1,"\u{16E77}"],[93784,1,"\u{16E78}"],[93785,1,"\u{16E79}"],[93786,1,"\u{16E7A}"],[93787,1,"\u{16E7B}"],[93788,1,"\u{16E7C}"],[93789,1,"\u{16E7D}"],[93790,1,"\u{16E7E}"],[93791,1,"\u{16E7F}"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110897],3],[110898,2],[[110899,110927],3],[[110928,110930],2],[[110931,110932],3],[110933,2],[[110934,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\u{1D157}\u{1D165}"],[119135,1,"\u{1D158}\u{1D165}"],[119136,1,"\u{1D158}\u{1D165}\u{1D16E}"],[119137,1,"\u{1D158}\u{1D165}\u{1D16F}"],[119138,1,"\u{1D158}\u{1D165}\u{1D170}"],[119139,1,"\u{1D158}\u{1D165}\u{1D171}"],[119140,1,"\u{1D158}\u{1D165}\u{1D172}"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\u{1D1B9}\u{1D165}"],[119228,1,"\u{1D1BA}\u{1D165}"],[119229,1,"\u{1D1B9}\u{1D165}\u{1D16E}"],[119230,1,"\u{1D1BA}\u{1D165}\u{1D16E}"],[119231,1,"\u{1D1B9}\u{1D165}\u{1D16F}"],[119232,1,"\u{1D1BA}\u{1D165}\u{1D16F}"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119487],3],[[119488,119507],2],[[119508,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[12e4,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122660],3],[[122661,122666],2],[[122667,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,122927],3],[122928,1,"\u0430"],[122929,1,"\u0431"],[122930,1,"\u0432"],[122931,1,"\u0433"],[122932,1,"\u0434"],[122933,1,"\u0435"],[122934,1,"\u0436"],[122935,1,"\u0437"],[122936,1,"\u0438"],[122937,1,"\u043A"],[122938,1,"\u043B"],[122939,1,"\u043C"],[122940,1,"\u043E"],[122941,1,"\u043F"],[122942,1,"\u0440"],[122943,1,"\u0441"],[122944,1,"\u0442"],[122945,1,"\u0443"],[122946,1,"\u0444"],[122947,1,"\u0445"],[122948,1,"\u0446"],[122949,1,"\u0447"],[122950,1,"\u0448"],[122951,1,"\u044B"],[122952,1,"\u044D"],[122953,1,"\u044E"],[122954,1,"\uA689"],[122955,1,"\u04D9"],[122956,1,"\u0456"],[122957,1,"\u0458"],[122958,1,"\u04E9"],[122959,1,"\u04AF"],[122960,1,"\u04CF"],[122961,1,"\u0430"],[122962,1,"\u0431"],[122963,1,"\u0432"],[122964,1,"\u0433"],[122965,1,"\u0434"],[122966,1,"\u0435"],[122967,1,"\u0436"],[122968,1,"\u0437"],[122969,1,"\u0438"],[122970,1,"\u043A"],[122971,1,"\u043B"],[122972,1,"\u043E"],[122973,1,"\u043F"],[122974,1,"\u0441"],[122975,1,"\u0443"],[122976,1,"\u0444"],[122977,1,"\u0445"],[122978,1,"\u0446"],[122979,1,"\u0447"],[122980,1,"\u0448"],[122981,1,"\u044A"],[122982,1,"\u044B"],[122983,1,"\u0491"],[122984,1,"\u0456"],[122985,1,"\u0455"],[122986,1,"\u045F"],[122987,1,"\u04AB"],[122988,1,"\uA651"],[122989,1,"\u04B1"],[[122990,123022],3],[123023,2],[[123024,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124111],3],[[124112,124153],2],[[124154,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\u{1E922}"],[125185,1,"\u{1E923}"],[125186,1,"\u{1E924}"],[125187,1,"\u{1E925}"],[125188,1,"\u{1E926}"],[125189,1,"\u{1E927}"],[125190,1,"\u{1E928}"],[125191,1,"\u{1E929}"],[125192,1,"\u{1E92A}"],[125193,1,"\u{1E92B}"],[125194,1,"\u{1E92C}"],[125195,1,"\u{1E92D}"],[125196,1,"\u{1E92E}"],[125197,1,"\u{1E92F}"],[125198,1,"\u{1E930}"],[125199,1,"\u{1E931}"],[125200,1,"\u{1E932}"],[125201,1,"\u{1E933}"],[125202,1,"\u{1E934}"],[125203,1,"\u{1E935}"],[125204,1,"\u{1E936}"],[125205,1,"\u{1E937}"],[125206,1,"\u{1E938}"],[125207,1,"\u{1E939}"],[125208,1,"\u{1E93A}"],[125209,1,"\u{1E93B}"],[125210,1,"\u{1E93C}"],[125211,1,"\u{1E93D}"],[125212,1,"\u{1E93E}"],[125213,1,"\u{1E93F}"],[125214,1,"\u{1E940}"],[125215,1,"\u{1E941}"],[125216,1,"\u{1E942}"],[125217,1,"\u{1E943}"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128e3,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128731],3],[128732,2],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128886],2],[[128887,128890],3],[[128891,128895],2],[[128896,128980],2],[[128981,128984],2],[128985,2],[[128986,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],2],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129672],2],[[129673,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],2],[[129712,129718],2],[[129719,129722],2],[[129723,129725],2],[129726,3],[129727,2],[[129728,129730],2],[[129731,129733],2],[[129734,129741],3],[[129742,129743],2],[[129744,129750],2],[[129751,129753],2],[[129754,129755],2],[[129756,129759],3],[[129760,129767],2],[129768,2],[[129769,129775],3],[[129776,129782],2],[[129783,129784],2],[[129785,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[177977,2],[[177978,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\u{20122}"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\u{2063A}"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\u{2051C}"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\u{2054B}"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\u{291DF}"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\u{20A2C}"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\u{20B63}"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\u{214E4}"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\u{216A8}"],[194657,1,"\u{216EA}"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\u{219C8}"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\u{21B18}"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\u{21DE4}"],[194684,1,"\u5D43"],[194685,1,"\u{21DE6}"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\u{22183}"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\u{2A392}"],[194704,1,"\u5EFE"],[[194705,194706],1,"\u{22331}"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\u{232B8}"],[194712,1,"\u{261DA}"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\u{226D4}"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\u{22B0C}"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\u{22BF1}"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\u{2300A}"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\u{233C3}"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\u{2346D}"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\u{236A3}"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\u{238A7}"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\u{23A8D}"],[194808,1,"\u{21D0B}"],[194809,1,"\u{23AFA}"],[194810,1,"\u6C4E"],[194811,1,"\u{23CBC}"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\u{23D1E}"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\u{23ED1}"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\u{23F5E}"],[194833,1,"\u{23F8E}"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\u{20525}"],[194844,1,"\u7145"],[194845,1,"\u{24263}"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\u{24608}"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\u{24735}"],[194855,1,"\u{24814}"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\u{24C36}"],[194870,1,"\u753E"],[194871,1,"\u{24C92}"],[194872,1,"\u7570"],[194873,1,"\u{2219F}"],[194874,1,"\u7610"],[194875,1,"\u{24FA1}"],[194876,1,"\u{24FB8}"],[194877,1,"\u{25044}"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\u{250F3}"],[194882,1,"\u{250F2}"],[194883,1,"\u{25119}"],[194884,1,"\u{25133}"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\u{2541D}"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\u{25626}"],[194899,1,"\u7956"],[194900,1,"\u{2569A}"],[194901,1,"\u{256C5}"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\u{2597C}"],[[194909,194910],1,"\u{25AA7}"],[194911,3],[194912,1,"\u4202"],[194913,1,"\u{25BAB}"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\u{25C80}"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\u{25F86}"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\u{26228}"],[194931,1,"\u{26247}"],[194932,1,"\u4359"],[194933,1,"\u{262D9}"],[194934,1,"\u7F7A"],[194935,1,"\u{2633E}"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\u{264DA}"],[194940,1,"\u{26523}"],[194941,1,"\u8060"],[194942,1,"\u{265A8}"],[194943,1,"\u8070"],[194944,1,"\u{2335F}"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\u{267A7}"],[194952,1,"\u{267B5}"],[194953,1,"\u{23393}"],[194954,1,"\u{2339C}"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\u{26B3C}"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\u{26C36}"],[194981,1,"\u{26D6B}"],[194982,1,"\u{26CD5}"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\u{273CA}"],[194988,1,"\u8564"],[194989,1,"\u{26F2C}"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\u{26FB1}"],[194993,1,"\u{270D2}"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195e3,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\u{27667}"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\u{278AE}"],[195020,1,"\u{27966}"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\u{27CA8}"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\u{27F2F}"],[195033,1,"\u{20804}"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\u{208DE}"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\u{285D2}"],[195041,1,"\u{285ED}"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\u{2872E}"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\u{28BFA}"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\u{28D77}"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\u{29145}"],[195063,1,"\u{2921A}"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\u{2940A}"],[195068,1,"\u4AB2"],[195069,1,"\u{29496}"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\u{295B6}"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\u{29B30}"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\u{2A0CE}"],[195089,1,"\u4CF8"],[195090,1,"\u{2A105}"],[195091,1,"\u{2A20E}"],[195092,1,"\u{2A291}"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\u{2A600}"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,201551],3],[[201552,205743],2],[[205744,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918e3,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var vC=y((kce,xC)=>{"use strict";xC.exports.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var UC=y((qce,jC)=>{"use strict";var o3=NC(),Ln=IC(),kC=RC(),{STATUS_MAPPING:Tr}=vC();function _z(t){return/[^\x00-\x7F]/u.test(t)}function qC(t,{useSTD3ASCIIRules:e}){let r=0,n=kC.length-1;for(;r<=n;){let s=Math.floor((r+n)/2),i=kC[s],o=Array.isArray(i[0])?i[0][0]:i[0],u=Array.isArray(i[0])?i[0][1]:i[0];if(o<=t&&u>=t)return e&&(i[1]===Tr.disallowed_STD3_valid||i[1]===Tr.disallowed_STD3_mapped)?[Tr.disallowed,...i.slice(2)]:i[1]===Tr.disallowed_STD3_valid?[Tr.valid,...i.slice(2)]:i[1]===Tr.disallowed_STD3_mapped?[Tr.mapped,...i.slice(2)]:i.slice(1);o>t?n=s-1:r=s+1}return null}function Az(t,{useSTD3ASCIIRules:e,processingOption:r}){let n=!1,s="";for(let i of t){let[o,u]=qC(i.codePointAt(0),{useSTD3ASCIIRules:e});switch(o){case Tr.disallowed:n=!0,s+=i;break;case Tr.ignored:break;case Tr.mapped:s+=u;break;case Tr.deviation:r==="transitional"?s+=u:s+=i;break;case Tr.valid:s+=i;break}}return{string:s,error:n}}function Oz(t,{checkHyphens:e,checkBidi:r,checkJoiners:n,processingOption:s,useSTD3ASCIIRules:i}){if(t.normalize("NFC")!==t)return!1;let o=Array.from(t);if(e&&(o[2]==="-"&&o[3]==="-"||t.startsWith("-")||t.endsWith("-"))||t.includes(".")||o.length>0&&Ln.combiningMarks.test(o[0]))return!1;for(let u of o){let[a]=qC(u.codePointAt(0),{useSTD3ASCIIRules:i});if(s==="transitional"&&a!==Tr.valid||s==="nontransitional"&&a!==Tr.valid&&a!==Tr.deviation)return!1}if(n){let u=0;for(let[a,c]of o.entries())if(c==="\u200C"||c==="\u200D"){if(a>0){if(Ln.combiningClassVirama.test(o[a-1]))continue;if(c==="\u200C"){let l=o.indexOf("\u200C",a+1),f=l<0?o.slice(u):o.slice(u,l);if(Ln.validZWNJ.test(f.join(""))){u=a+1;continue}}}return!1}}if(r&&o.length>0){let u;if(Ln.bidiS1LTR.test(o[0]))u=!1;else if(Ln.bidiS1RTL.test(o[0]))u=!0;else return!1;if(u){if(!Ln.bidiS2.test(t)||!Ln.bidiS3.test(t)||Ln.bidiS4EN.test(t)&&Ln.bidiS4AN.test(t))return!1}else if(!Ln.bidiS5.test(t)||!Ln.bidiS6.test(t))return!1}return!0}function Cz(t){let e=t.map(r=>{if(r.startsWith("xn--"))try{return o3.decode(r.substring(4))}catch{return""}return r}).join(".");return Ln.bidiDomain.test(e)}function LC(t,e){let{processingOption:r}=e,{string:n,error:s}=Az(t,e);n=n.normalize("NFC");let i=n.split("."),o=Cz(i);for(let[u,a]of i.entries()){let c=a,l=r;if(c.startsWith("xn--")){try{c=o3.decode(c.substring(4)),i[u]=c}catch{s=!0;continue}l="nontransitional"}if(s)continue;Oz(c,{...e,processingOption:l,checkBidi:e.checkBidi&&o})||(s=!0)}return{string:i.join("."),error:s}}function Sz(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:s=!1,processingOption:i="nontransitional",verifyDNSLength:o=!1}={}){if(i!=="transitional"&&i!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");let u=LC(t,{processingOption:i,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:s}),a=u.string.split(".");if(a=a.map(c=>{if(_z(c))try{return`xn--${o3.encode(c)}`}catch{u.error=!0}return c}),o){let c=a.join(".").length;(c>253||c===0)&&(u.error=!0);for(let l=0;l<a.length;++l)if(a[l].length>63||a[l].length===0){u.error=!0;break}}return u.error?null:a.join(".")}function wz(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:s=!1,processingOption:i="nontransitional"}={}){let o=LC(t,{processingOption:i,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:s});return{domain:o.string,error:o.error}}jC.exports={toASCII:Sz,toUnicode:wz}});var a3=y((Lce,zC)=>{"use strict";function u3(t){return t>=48&&t<=57}function VC(t){return t>=65&&t<=90||t>=97&&t<=122}function bz(t){return VC(t)||u3(t)}function Dz(t){return u3(t)||t>=65&&t<=70||t>=97&&t<=102}zC.exports={isASCIIDigit:u3,isASCIIAlpha:VC,isASCIIAlphanumeric:bz,isASCIIHex:Dz}});var Bd=y((jce,WC)=>{"use strict";var Tz=new TextEncoder,Mz=new TextDecoder("utf-8",{ignoreBOM:!0});function Bz(t){return Tz.encode(t)}function Pz(t){return Mz.decode(t)}WC.exports={utf8Encode:Bz,utf8DecodeWithoutBOM:Pz}});var Pd=y((Uce,XC)=>{"use strict";var{isASCIIHex:GC}=a3(),{utf8Encode:HC}=Bd();function De(t){return t.codePointAt(0)}function Fz(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e=`0${e}`),`%${e}`}function KC(t){let e=new Uint8Array(t.byteLength),r=0;for(let n=0;n<t.byteLength;++n){let s=t[n];if(s!==37)e[r++]=s;else if(s===37&&(!GC(t[n+1])||!GC(t[n+2])))e[r++]=s;else{let i=parseInt(String.fromCodePoint(t[n+1],t[n+2]),16);e[r++]=i,n+=2}}return e.slice(0,r)}function Nz(t){let e=HC(t);return KC(e)}function c3(t){return t<=31||t>126}var $z=new Set([De(" "),De('"'),De("<"),De(">"),De("`")]);function Iz(t){return c3(t)||$z.has(t)}var Rz=new Set([De(" "),De('"'),De("#"),De("<"),De(">")]);function l3(t){return c3(t)||Rz.has(t)}function xz(t){return l3(t)||t===De("'")}var vz=new Set([De("?"),De("`"),De("{"),De("}")]);function YC(t){return l3(t)||vz.has(t)}var kz=new Set([De("/"),De(":"),De(";"),De("="),De("@"),De("["),De("\\"),De("]"),De("^"),De("|")]);function QC(t){return YC(t)||kz.has(t)}var qz=new Set([De("$"),De("%"),De("&"),De("+"),De(",")]);function Lz(t){return QC(t)||qz.has(t)}var jz=new Set([De("!"),De("'"),De("("),De(")"),De("~")]);function Uz(t){return Lz(t)||jz.has(t)}function JC(t,e){let r=HC(t),n="";for(let s of r)e(s)?n+=Fz(s):n+=String.fromCharCode(s);return n}function Vz(t,e){return JC(String.fromCodePoint(t),e)}function zz(t,e,r=!1){let n="";for(let s of t)r&&s===" "?n+="+":n+=JC(s,e);return n}XC.exports={isC0ControlPercentEncode:c3,isFragmentPercentEncode:Iz,isQueryPercentEncode:l3,isSpecialQueryPercentEncode:xz,isPathPercentEncode:YC,isUserinfoPercentEncode:QC,isURLEncodedPercentEncode:Uz,percentDecodeString:Nz,percentDecodeBytes:KC,utf8PercentEncodeString:zz,utf8PercentEncodeCodePoint:Vz}});var y3=y((Vce,Mr)=>{"use strict";var Wz=UC(),nr=a3(),{utf8DecodeWithoutBOM:Gz}=Bd(),{percentDecodeString:Hz,utf8PercentEncodeCodePoint:Nd,utf8PercentEncodeString:$d,isC0ControlPercentEncode:rS,isFragmentPercentEncode:Kz,isQueryPercentEncode:Yz,isSpecialQueryPercentEncode:Qz,isPathPercentEncode:Jz,isUserinfoPercentEncode:d3}=Pd();function G(t){return t.codePointAt(0)}var nS={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=Symbol("failure");function ZC(t){return[...t].length}function eS(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function tS(t){return t==="."||t.toLowerCase()==="%2e"}function Xz(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function Zz(t,e){return nr.isASCIIAlpha(t)&&(e===G(":")||e===G("|"))}function sS(t){return t.length===2&&nr.isASCIIAlpha(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function eW(t){return t.length===2&&nr.isASCIIAlpha(t.codePointAt(0))&&t[1]===":"}function iS(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function tW(t){return iS(t)||t.search(/[\u0000-\u001F]|%|\u007F/u)!==-1}function Fd(t){return nS[t]!==void 0}function rr(t){return Fd(t.scheme)}function f3(t){return!Fd(t.scheme)}function oS(t){return nS[t]}function uS(t){if(t==="")return he;let e=10;if(t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t==="")return 0;let r=/[^0-7]/u;return e===10&&(r=/[^0-9]/u),e===16&&(r=/[^0-9A-Fa-f]/u),r.test(t)?he:parseInt(t,e)}function rW(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return he;let r=[];for(let i of e){let o=uS(i);if(o===he)return he;r.push(o)}for(let i=0;i<r.length-1;++i)if(r[i]>255)return he;if(r[r.length-1]>=256**(5-r.length))return he;let n=r.pop(),s=0;for(let i of r)n+=i*256**(3-s),++s;return n}function nW(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e=`.${e}`),r=Math.floor(r/256);return e}function sW(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,s=0;if(t=Array.from(t,i=>i.codePointAt(0)),t[s]===G(":")){if(t[s+1]!==G(":"))return he;s+=2,++r,n=r}for(;s<t.length;){if(r===8)return he;if(t[s]===G(":")){if(n!==null)return he;++s,++r,n=r;continue}let i=0,o=0;for(;o<4&&nr.isASCIIHex(t[s]);)i=i*16+parseInt(eS(t,s),16),++s,++o;if(t[s]===G(".")){if(o===0||(s-=o,r>6))return he;let u=0;for(;t[s]!==void 0;){let a=null;if(u>0)if(t[s]===G(".")&&u<4)++s;else return he;if(!nr.isASCIIDigit(t[s]))return he;for(;nr.isASCIIDigit(t[s]);){let c=parseInt(eS(t,s));if(a===null)a=c;else{if(a===0)return he;a=a*10+c}if(a>255)return he;++s}e[r]=e[r]*256+a,++u,(u===2||u===4)&&++r}if(u!==4)return he;break}else if(t[s]===G(":")){if(++s,t[s]===void 0)return he}else if(t[s]!==void 0)return he;e[r]=i,++r}if(n!==null){let i=r-n;for(r=7;r!==0&&i>0;){let o=e[n+i-1];e[n+i-1]=e[r],e[r]=o,--r,--i}}else if(n===null&&r!==8)return he;return e}function iW(t){let e="",r=aW(t),n=!1;for(let s=0;s<=7;++s)if(!(n&&t[s]===0)){if(n&&(n=!1),r===s){e+=s===0?"::":":",n=!0;continue}e+=t[s].toString(16),s!==7&&(e+=":")}return e}function h3(t,e=!1){if(t[0]==="[")return t[t.length-1]!=="]"?he:sW(t.substring(1,t.length-1));if(e)return uW(t);let r=Gz(Hz(t)),n=cW(r);return n===he||tW(n)?he:oW(n)?rW(n):n}function oW(t){let e=t.split(".");if(e[e.length-1]===""){if(e.length===1)return!1;e.pop()}let r=e[e.length-1];return!!(uS(r)!==he||/^[0-9]+$/u.test(r))}function uW(t){return iS(t)?he:$d(t,rS)}function aW(t){let e=null,r=1,n=null,s=0;for(let i=0;i<t.length;++i)t[i]!==0?(s>r&&(e=n,r=s),n=null,s=0):(n===null&&(n=i),++s);return s>r?n:e}function p3(t){return typeof t=="number"?nW(t):t instanceof Array?`[${iW(t)}]`:t}function cW(t,e=!1){let r=Wz.toASCII(t,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:e,verifyDNSLength:e});return r===null||r===""?he:r}function lW(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")}function fW(t){return t.replace(/\u0009|\u000A|\u000D/ug,"")}function aS(t){let{path:e}=t;e.length!==0&&(t.scheme==="file"&&e.length===1&&dW(e[0])||e.pop())}function cS(t){return t.username!==""||t.password!==""}function hW(t){return t.host===null||t.host===""||t.scheme==="file"}function L1(t){return typeof t.path=="string"}function dW(t){return/^[A-Za-z]:$/u.test(t)}function Ot(t,e,r,n,s){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=s,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};let o=lW(this.input);o!==this.input&&(this.parseError=!0),this.input=o}let i=fW(this.input);for(i!==this.input&&(this.parseError=!0),this.input=i,this.state=s||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,o=>o.codePointAt(0));this.pointer<=this.input.length;++this.pointer){let o=this.input[this.pointer],u=isNaN(o)?void 0:String.fromCodePoint(o),a=this[`parse ${this.state}`](o,u);if(a){if(a===he){this.failure=!0;break}}else break}}Ot.prototype["parse scheme start"]=function(e,r){if(nr.isASCIIAlpha(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,he;return!0};Ot.prototype["parse scheme"]=function(e,r){if(nr.isASCIIAlphanumeric(e)||e===G("+")||e===G("-")||e===G("."))this.buffer+=r.toLowerCase();else if(e===G(":")){if(this.stateOverride&&(rr(this.url)&&!Fd(this.buffer)||!rr(this.url)&&Fd(this.buffer)||(cS(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&this.url.host===""))return!1;if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===oS(this.url.scheme)&&(this.url.port=null),!1;this.buffer="",this.url.scheme==="file"?((this.input[this.pointer+1]!==G("/")||this.input[this.pointer+2]!==G("/"))&&(this.parseError=!0),this.state="file"):rr(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":rr(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===G("/")?(this.state="path or authority",++this.pointer):(this.url.path="",this.state="opaque path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,he;return!0};Ot.prototype["parse no scheme"]=function(e){return this.base===null||L1(this.base)&&e!==G("#")?he:(L1(this.base)&&e===G("#")?(this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};Ot.prototype["parse special relative or authority"]=function(e){return e===G("/")&&this.input[this.pointer+1]===G("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};Ot.prototype["parse path or authority"]=function(e){return e===G("/")?this.state="authority":(this.state="path",--this.pointer),!0};Ot.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,e===G("/")?this.state="relative slash":rr(this.url)&&e===G("\\")?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===G("?")?(this.url.query="",this.state="query"):e===G("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer)),!0};Ot.prototype["parse relative slash"]=function(e){return rr(this.url)&&(e===G("/")||e===G("\\"))?(e===G("\\")&&(this.parseError=!0),this.state="special authority ignore slashes"):e===G("/")?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};Ot.prototype["parse special authority slashes"]=function(e){return e===G("/")&&this.input[this.pointer+1]===G("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};Ot.prototype["parse special authority ignore slashes"]=function(e){return e!==G("/")&&e!==G("\\")?(this.state="authority",--this.pointer):this.parseError=!0,!0};Ot.prototype["parse authority"]=function(e,r){if(e===G("@")){this.parseError=!0,this.atFlag&&(this.buffer=`%40${this.buffer}`),this.atFlag=!0;let n=ZC(this.buffer);for(let s=0;s<n;++s){let i=this.buffer.codePointAt(s);if(i===G(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let o=Nd(i,d3);this.passwordTokenSeenFlag?this.url.password+=o:this.url.username+=o}this.buffer=""}else if(isNaN(e)||e===G("/")||e===G("?")||e===G("#")||rr(this.url)&&e===G("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,he;this.pointer-=ZC(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};Ot.prototype["parse hostname"]=Ot.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===G(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,he;if(this.stateOverride==="hostname")return!1;let n=h3(this.buffer,f3(this.url));if(n===he)return he;this.url.host=n,this.buffer="",this.state="port"}else if(isNaN(e)||e===G("/")||e===G("?")||e===G("#")||rr(this.url)&&e===G("\\")){if(--this.pointer,rr(this.url)&&this.buffer==="")return this.parseError=!0,he;if(this.stateOverride&&this.buffer===""&&(cS(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=h3(this.buffer,f3(this.url));if(n===he)return he;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===G("[")?this.arrFlag=!0:e===G("]")&&(this.arrFlag=!1),this.buffer+=r;return!0};Ot.prototype["parse port"]=function(e,r){if(nr.isASCIIDigit(e))this.buffer+=r;else if(isNaN(e)||e===G("/")||e===G("?")||e===G("#")||rr(this.url)&&e===G("\\")||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>2**16-1)return this.parseError=!0,he;this.url.port=n===oS(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,he;return!0};var pW=new Set([G("/"),G("\\"),G("?"),G("#")]);function lS(t,e){let r=t.length-e;return r>=2&&Zz(t[e],t[e+1])&&(r===2||pW.has(t[e+2]))}Ot.prototype["parse file"]=function(e){return this.url.scheme="file",this.url.host="",e===G("/")||e===G("\\")?(e===G("\\")&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===G("?")?(this.url.query="",this.state="query"):e===G("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,lS(this.input,this.pointer)?(this.parseError=!0,this.url.path=[]):aS(this.url),this.state="path",--this.pointer)):(this.state="path",--this.pointer),!0};Ot.prototype["parse file slash"]=function(e){return e===G("/")||e===G("\\")?(e===G("\\")&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(!lS(this.input,this.pointer)&&eW(this.base.path[0])&&this.url.path.push(this.base.path[0]),this.url.host=this.base.host),this.state="path",--this.pointer),!0};Ot.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===G("/")||e===G("\\")||e===G("?")||e===G("#"))if(--this.pointer,!this.stateOverride&&sS(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=h3(this.buffer,f3(this.url));if(n===he)return he;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};Ot.prototype["parse path start"]=function(e){return rr(this.url)?(e===G("\\")&&(this.parseError=!0),this.state="path",e!==G("/")&&e!==G("\\")&&--this.pointer):!this.stateOverride&&e===G("?")?(this.url.query="",this.state="query"):!this.stateOverride&&e===G("#")?(this.url.fragment="",this.state="fragment"):e!==void 0?(this.state="path",e!==G("/")&&--this.pointer):this.stateOverride&&this.url.host===null&&this.url.path.push(""),!0};Ot.prototype["parse path"]=function(e){return isNaN(e)||e===G("/")||rr(this.url)&&e===G("\\")||!this.stateOverride&&(e===G("?")||e===G("#"))?(rr(this.url)&&e===G("\\")&&(this.parseError=!0),Xz(this.buffer)?(aS(this.url),e!==G("/")&&!(rr(this.url)&&e===G("\\"))&&this.url.path.push("")):tS(this.buffer)&&e!==G("/")&&!(rr(this.url)&&e===G("\\"))?this.url.path.push(""):tS(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&sS(this.buffer)&&(this.buffer=`${this.buffer[0]}:`),this.url.path.push(this.buffer)),this.buffer="",e===G("?")&&(this.url.query="",this.state="query"),e===G("#")&&(this.url.fragment="",this.state="fragment")):(e===G("%")&&(!nr.isASCIIHex(this.input[this.pointer+1])||!nr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=Nd(e,Jz)),!0};Ot.prototype["parse opaque path"]=function(e){return e===G("?")?(this.url.query="",this.state="query"):e===G("#")?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==G("%")&&(this.parseError=!0),e===G("%")&&(!nr.isASCIIHex(this.input[this.pointer+1])||!nr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path+=Nd(e,rS))),!0};Ot.prototype["parse query"]=function(e,r){if((!rr(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8"),!this.stateOverride&&e===G("#")||isNaN(e)){let n=rr(this.url)?Qz:Yz;this.url.query+=$d(this.buffer,n),this.buffer="",e===G("#")&&(this.url.fragment="",this.state="fragment")}else isNaN(e)||(e===G("%")&&(!nr.isASCIIHex(this.input[this.pointer+1])||!nr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r);return!0};Ot.prototype["parse fragment"]=function(e){return isNaN(e)||(e===G("%")&&(!nr.isASCIIHex(this.input[this.pointer+1])||!nr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=Nd(e,Kz)),!0};function mW(t,e){let r=`${t.scheme}:`;return t.host!==null&&(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=`:${t.password}`),r+="@"),r+=p3(t.host),t.port!==null&&(r+=`:${t.port}`)),t.host===null&&!L1(t)&&t.path.length>1&&t.path[0]===""&&(r+="/."),r+=m3(t),t.query!==null&&(r+=`?${t.query}`),!e&&t.fragment!==null&&(r+=`#${t.fragment}`),r}function yW(t){let e=`${t.scheme}://`;return e+=p3(t.host),t.port!==null&&(e+=`:${t.port}`),e}function m3(t){if(L1(t))return t.path;let e="";for(let r of t.path)e+=`/${r}`;return e}Mr.exports.serializeURL=mW;Mr.exports.serializePath=m3;Mr.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":{let e=Mr.exports.parseURL(m3(t));return e===null||e.scheme!=="http"&&e.scheme!=="https"?"null":Mr.exports.serializeURLOrigin(e)}case"ftp":case"http":case"https":case"ws":case"wss":return yW({scheme:t.scheme,host:t.host,port:t.port});case"file":return"null";default:return"null"}};Mr.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new Ot(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?null:r.url};Mr.exports.setTheUsername=function(t,e){t.username=$d(e,d3)};Mr.exports.setThePassword=function(t,e){t.password=$d(e,d3)};Mr.exports.serializeHost=p3;Mr.exports.cannotHaveAUsernamePasswordPort=hW;Mr.exports.hasAnOpaquePath=L1;Mr.exports.serializeInteger=function(t){return String(t)};Mr.exports.parseURL=function(t,e){return e===void 0&&(e={}),Mr.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var g3=y((zce,gS)=>{"use strict";var{utf8Encode:gW,utf8DecodeWithoutBOM:fS}=Bd(),{percentDecodeBytes:hS,utf8PercentEncodeString:dS,isURLEncodedPercentEncode:pS}=Pd();function mS(t){return t.codePointAt(0)}function EW(t){let e=OW(t,mS("&")),r=[];for(let n of e){if(n.length===0)continue;let s,i,o=n.indexOf(mS("="));o>=0?(s=n.slice(0,o),i=n.slice(o+1)):(s=n,i=new Uint8Array(0)),s=yS(s,43,32),i=yS(i,43,32);let u=fS(hS(s)),a=fS(hS(i));r.push([u,a])}return r}function _W(t){return EW(gW(t))}function AW(t,e=void 0){let r="utf-8";e!==void 0&&(r=e);let n="";for(let[s,i]of t.entries()){let o=dS(i[0],pS,!0),u=i[1];i.length>2&&i[2]!==void 0&&(i[2]==="hidden"&&o==="_charset_"?u=r:i[2]==="file"&&(u=u.name)),u=dS(u,pS,!0),s!==0&&(n+="&"),n+=`${o}=${u}`}return n}function OW(t,e){let r=[],n=0,s=t.indexOf(e);for(;s>=0;)r.push(t.slice(n,s)),n=s+1,s=t.indexOf(e,n);return n!==t.length&&r.push(t.slice(n)),r}function yS(t,e,r){let n=t.indexOf(e);for(;n>=0;)t[n]=r,n=t.indexOf(e,n+1);return t}gS.exports={parseUrlencodedString:_W,serializeUrlencoded:AW}});var AS=y(_S=>{"use strict";var ES=Dd(),Id=Md();_S.convert=(t,e,{context:r="The provided value"}={})=>{if(typeof e!="function")throw new t.TypeError(r+" is not a function");function n(...s){let i=Id.tryWrapperForImpl(this),o;for(let u=0;u<s.length;u++)s[u]=Id.tryWrapperForImpl(s[u]);return o=Reflect.apply(e,i,s),o=ES.any(o,{context:r,globals:t}),o}return n.construct=(...s)=>{for(let o=0;o<s.length;o++)s[o]=Id.tryWrapperForImpl(s[o]);let i=Reflect.construct(e,s);return i=ES.any(i,{context:r,globals:t}),i},n[Id.wrapperSymbol]=e,n.objectReference=e,n}});var CS=y(OS=>{"use strict";var E3=g3();OS.implementation=class{constructor(e,r,{doNotStripQMark:n=!1}){let s=r[0];if(this._list=[],this._url=null,!n&&typeof s=="string"&&s[0]==="?"&&(s=s.slice(1)),Array.isArray(s))for(let i of s){if(i.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([i[0],i[1]])}else if(typeof s=="object"&&Object.getPrototypeOf(s)===null)for(let i of Object.keys(s)){let o=s[i];this._list.push([i,o])}else this._list=E3.parseUrlencodedString(s)}_updateSteps(){if(this._url!==null){let e=E3.serializeUrlencoded(this._list);e===""&&(e=null),this._url._url.query=e,e===null&&this._url._potentiallyStripTrailingSpacesFromAnOpaquePath()}}get size(){return this._list.length}append(e,r){this._list.push([e,r]),this._updateSteps()}delete(e,r){let n=0;for(;n<this._list.length;)this._list[n][0]===e&&(r===void 0||this._list[n][1]===r)?this._list.splice(n,1):n++;this._updateSteps()}get(e){for(let r of this._list)if(r[0]===e)return r[1];return null}getAll(e){let r=[];for(let n of this._list)n[0]===e&&r.push(n[1]);return r}has(e,r){for(let n of this._list)if(n[0]===e&&(r===void 0||n[1]===r))return!0;return!1}set(e,r){let n=!1,s=0;for(;s<this._list.length;)this._list[s][0]===e?n?this._list.splice(s,1):(n=!0,this._list[s][1]=r,s++):s++;n||this._list.push([e,r]),this._updateSteps()}sort(){this._list.sort((e,r)=>e[0]<r[0]?-1:e[0]>r[0]?1:0),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return E3.serializeUrlencoded(this._list)}}});var _3=y(Pe=>{"use strict";var Gr=Dd(),Xe=Md(),CW=AS(),SS=Xe.newObjectInRealm,Dt=Xe.implSymbol,bS=Xe.ctorRegistrySymbol,wS="URLSearchParams";Pe.is=t=>Xe.isObject(t)&&Xe.hasOwn(t,Dt)&&t[Dt]instanceof co.implementation;Pe.isImpl=t=>Xe.isObject(t)&&t instanceof co.implementation;Pe.convert=(t,e,{context:r="The provided value"}={})=>{if(Pe.is(e))return Xe.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URLSearchParams'.`)};Pe.createDefaultIterator=(t,e,r)=>{let s=t[bS]["URLSearchParams Iterator"],i=Object.create(s);return Object.defineProperty(i,Xe.iterInternalSymbol,{value:{target:e,kind:r,index:0},configurable:!0}),i};function DS(t,e){let r;return e!==void 0&&(r=e.prototype),Xe.isObject(r)||(r=t[bS].URLSearchParams.prototype),Object.create(r)}Pe.create=(t,e,r)=>{let n=DS(t);return Pe.setup(n,t,e,r)};Pe.createImpl=(t,e,r)=>{let n=Pe.create(t,e,r);return Xe.implForWrapper(n)};Pe._internalSetup=(t,e)=>{};Pe.setup=(t,e,r=[],n={})=>(n.wrapper=t,Pe._internalSetup(t,e),Object.defineProperty(t,Dt,{value:new co.implementation(e,r,n),configurable:!0}),t[Dt][Xe.wrapperSymbol]=t,co.init&&co.init(t[Dt]),t);Pe.new=(t,e)=>{let r=DS(t,e);return Pe._internalSetup(r,t),Object.defineProperty(r,Dt,{value:Object.create(co.implementation.prototype),configurable:!0}),r[Dt][Xe.wrapperSymbol]=r,co.init&&co.init(r[Dt]),r[Dt]};var SW=new Set(["Window","Worker"]);Pe.install=(t,e)=>{if(!e.some(s=>SW.has(s)))return;let r=Xe.initCtorRegistry(t);class n{constructor(){let i=[];{let o=arguments[0];if(o!==void 0)if(Xe.isObject(o))if(o[Symbol.iterator]!==void 0)if(Xe.isObject(o)){let u=[],a=o;for(let c of a){if(Xe.isObject(c)){let l=[],f=c;for(let h of f)h=Gr.USVString(h,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:t}),l.push(h);c=l}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");u.push(c)}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else if(Xe.isObject(o)){let u=Object.create(null);for(let a of Reflect.ownKeys(o)){let c=Object.getOwnPropertyDescriptor(o,a);if(c&&c.enumerable){let l=a;l=Gr.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:t});let f=o[a];f=Gr.USVString(f,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:t}),u[l]=f}}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else o=Gr.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:t});else o="";i.push(o)}return Pe.setup(Object.create(new.target.prototype),t,i)}append(i,o){let u=this!==null&&this!==void 0?this:t;if(!Pe.is(u))throw new t.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=Gr.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=Gr.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Xe.tryWrapperForImpl(u[Dt].append(...a))}delete(i){let o=this!==null&&this!==void 0?this:t;if(!Pe.is(o))throw new t.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=Gr.USVString(a,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}{let a=arguments[1];a!==void 0&&(a=Gr.USVString(a,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 2",globals:t})),u.push(a)}return Xe.tryWrapperForImpl(o[Dt].delete(...u))}get(i){let o=this!==null&&this!==void 0?this:t;if(!Pe.is(o))throw new t.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=Gr.USVString(a,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return o[Dt].get(...u)}getAll(i){let o=this!==null&&this!==void 0?this:t;if(!Pe.is(o))throw new t.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=Gr.USVString(a,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return Xe.tryWrapperForImpl(o[Dt].getAll(...u))}has(i){let o=this!==null&&this!==void 0?this:t;if(!Pe.is(o))throw new t.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=Gr.USVString(a,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}{let a=arguments[1];a!==void 0&&(a=Gr.USVString(a,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 2",globals:t})),u.push(a)}return o[Dt].has(...u)}set(i,o){let u=this!==null&&this!==void 0?this:t;if(!Pe.is(u))throw new t.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=Gr.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=Gr.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Xe.tryWrapperForImpl(u[Dt].set(...a))}sort(){let i=this!==null&&this!==void 0?this:t;if(!Pe.is(i))throw new t.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return Xe.tryWrapperForImpl(i[Dt].sort())}toString(){let i=this!==null&&this!==void 0?this:t;if(!Pe.is(i))throw new t.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return i[Dt].toString()}keys(){if(!Pe.is(this))throw new t.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return Pe.createDefaultIterator(t,this,"key")}values(){if(!Pe.is(this))throw new t.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return Pe.createDefaultIterator(t,this,"value")}entries(){if(!Pe.is(this))throw new t.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return Pe.createDefaultIterator(t,this,"key+value")}forEach(i){if(!Pe.is(this))throw new t.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");i=CW.convert(t,i,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});let o=arguments[1],u=Array.from(this[Dt]),a=0;for(;a<u.length;){let[c,l]=u[a].map(Xe.tryWrapperForImpl);i.call(o,l,c,this),u=Array.from(this[Dt]),a++}}get size(){let i=this!==null&&this!==void 0?this:t;if(!Pe.is(i))throw new t.TypeError("'get size' called on an object that is not a valid instance of URLSearchParams.");return i[Dt].size}}Object.defineProperties(n.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},size:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:n.prototype.entries,configurable:!0,writable:!0}}),r[wS]=n,r["URLSearchParams Iterator"]=Object.create(r["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),Xe.define(r["URLSearchParams Iterator"],{next(){let s=this&&this[Xe.iterInternalSymbol];if(!s)throw new t.TypeError("next() called on a value that is not a URLSearchParams iterator object");let{target:i,kind:o,index:u}=s,a=Array.from(i[Dt]),c=a.length;if(u>=c)return SS(t,{value:void 0,done:!0});let l=a[u];return s.index=u+1,SS(t,Xe.iteratorResult(l.map(Xe.tryWrapperForImpl),o))}}),Object.defineProperty(t,wS,{configurable:!0,writable:!0,value:n})};var co=CS()});var BS=y(MS=>{"use strict";var He=y3(),TS=g3(),wW=_3();MS.implementation=class{constructor(e,r){let n=r[0],s=r[1],i=null;if(s!==void 0&&(i=He.basicURLParse(s),i===null))throw new TypeError(`Invalid base URL: ${s}`);let o=He.basicURLParse(n,{baseURL:i});if(o===null)throw new TypeError(`Invalid URL: ${n}`);let u=o.query!==null?o.query:"";this._url=o,this._query=wW.createImpl(e,[u],{doNotStripQMark:!0}),this._query._url=this}static canParse(e,r){let n=null;return!(r!==void 0&&(n=He.basicURLParse(r),n===null)||He.basicURLParse(e,{baseURL:n})===null)}get href(){return He.serializeURL(this._url)}set href(e){let r=He.basicURLParse(e);if(r===null)throw new TypeError(`Invalid URL: ${e}`);this._url=r,this._query._list.splice(0);let{query:n}=r;n!==null&&(this._query._list=TS.parseUrlencodedString(n))}get origin(){return He.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(e){He.basicURLParse(`${e}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){He.cannotHaveAUsernamePasswordPort(this._url)||He.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){He.cannotHaveAUsernamePasswordPort(this._url)||He.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?He.serializeHost(e.host):`${He.serializeHost(e.host)}:${He.serializeInteger(e.port)}`}set host(e){He.hasAnOpaquePath(this._url)||He.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":He.serializeHost(this._url.host)}set hostname(e){He.hasAnOpaquePath(this._url)||He.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":He.serializeInteger(this._url.port)}set port(e){He.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:He.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return He.serializePath(this._url)}set pathname(e){He.hasAnOpaquePath(this._url)||(this._url.path=[],He.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":`?${this._url.query}`}set search(e){let r=this._url;if(e===""){r.query=null,this._query._list=[],this._potentiallyStripTrailingSpacesFromAnOpaquePath();return}let n=e[0]==="?"?e.substring(1):e;r.query="",He.basicURLParse(n,{url:r,stateOverride:"query"}),this._query._list=TS.parseUrlencodedString(n)}get searchParams(){return this._query}get hash(){return this._url.fragment===null||this._url.fragment===""?"":`#${this._url.fragment}`}set hash(e){if(e===""){this._url.fragment=null,this._potentiallyStripTrailingSpacesFromAnOpaquePath();return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",He.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}_potentiallyStripTrailingSpacesFromAnOpaquePath(){He.hasAnOpaquePath(this._url)&&this._url.fragment===null&&this._url.query===null&&(this._url.path=this._url.path.replace(/\u0020+$/u,""))}}});var NS=y(ye=>{"use strict";var Hr=Dd(),On=Md(),Fe=On.implSymbol,bW=On.ctorRegistrySymbol,PS="URL";ye.is=t=>On.isObject(t)&&On.hasOwn(t,Fe)&&t[Fe]instanceof gi.implementation;ye.isImpl=t=>On.isObject(t)&&t instanceof gi.implementation;ye.convert=(t,e,{context:r="The provided value"}={})=>{if(ye.is(e))return On.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URL'.`)};function FS(t,e){let r;return e!==void 0&&(r=e.prototype),On.isObject(r)||(r=t[bW].URL.prototype),Object.create(r)}ye.create=(t,e,r)=>{let n=FS(t);return ye.setup(n,t,e,r)};ye.createImpl=(t,e,r)=>{let n=ye.create(t,e,r);return On.implForWrapper(n)};ye._internalSetup=(t,e)=>{};ye.setup=(t,e,r=[],n={})=>(n.wrapper=t,ye._internalSetup(t,e),Object.defineProperty(t,Fe,{value:new gi.implementation(e,r,n),configurable:!0}),t[Fe][On.wrapperSymbol]=t,gi.init&&gi.init(t[Fe]),t);ye.new=(t,e)=>{let r=FS(t,e);return ye._internalSetup(r,t),Object.defineProperty(r,Fe,{value:Object.create(gi.implementation.prototype),configurable:!0}),r[Fe][On.wrapperSymbol]=r,gi.init&&gi.init(r[Fe]),r[Fe]};var DW=new Set(["Window","Worker"]);ye.install=(t,e)=>{if(!e.some(s=>DW.has(s)))return;let r=On.initCtorRegistry(t);class n{constructor(i){if(arguments.length<1)throw new t.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);let o=[];{let u=arguments[0];u=Hr.USVString(u,{context:"Failed to construct 'URL': parameter 1",globals:t}),o.push(u)}{let u=arguments[1];u!==void 0&&(u=Hr.USVString(u,{context:"Failed to construct 'URL': parameter 2",globals:t})),o.push(u)}return ye.setup(Object.create(new.target.prototype),t,o)}toJSON(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return i[Fe].toJSON()}get href(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get href' called on an object that is not a valid instance of URL.");return i[Fe].href}set href(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set href' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:t}),o[Fe].href=i}toString(){let i=this;if(!ye.is(i))throw new t.TypeError("'toString' called on an object that is not a valid instance of URL.");return i[Fe].href}get origin(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get origin' called on an object that is not a valid instance of URL.");return i[Fe].origin}get protocol(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return i[Fe].protocol}set protocol(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set protocol' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:t}),o[Fe].protocol=i}get username(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get username' called on an object that is not a valid instance of URL.");return i[Fe].username}set username(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set username' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:t}),o[Fe].username=i}get password(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get password' called on an object that is not a valid instance of URL.");return i[Fe].password}set password(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set password' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:t}),o[Fe].password=i}get host(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get host' called on an object that is not a valid instance of URL.");return i[Fe].host}set host(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set host' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:t}),o[Fe].host=i}get hostname(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return i[Fe].hostname}set hostname(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set hostname' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:t}),o[Fe].hostname=i}get port(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get port' called on an object that is not a valid instance of URL.");return i[Fe].port}set port(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set port' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:t}),o[Fe].port=i}get pathname(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return i[Fe].pathname}set pathname(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set pathname' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:t}),o[Fe].pathname=i}get search(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get search' called on an object that is not a valid instance of URL.");return i[Fe].search}set search(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set search' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:t}),o[Fe].search=i}get searchParams(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return On.getSameObject(this,"searchParams",()=>On.tryWrapperForImpl(i[Fe].searchParams))}get hash(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get hash' called on an object that is not a valid instance of URL.");return i[Fe].hash}set hash(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set hash' called on an object that is not a valid instance of URL.");i=Hr.USVString(i,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:t}),o[Fe].hash=i}static canParse(i){if(arguments.length<1)throw new t.TypeError(`Failed to execute 'canParse' on 'URL': 1 argument required, but only ${arguments.length} present.`);let o=[];{let u=arguments[0];u=Hr.USVString(u,{context:"Failed to execute 'canParse' on 'URL': parameter 1",globals:t}),o.push(u)}{let u=arguments[1];u!==void 0&&(u=Hr.USVString(u,{context:"Failed to execute 'canParse' on 'URL': parameter 2",globals:t})),o.push(u)}return gi.implementation.canParse(...o)}}Object.defineProperties(n.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),Object.defineProperties(n,{canParse:{enumerable:!0}}),r[PS]=n,Object.defineProperty(t,PS,{configurable:!0,writable:!0,value:n}),e.includes("Window")&&Object.defineProperty(t,"webkitURL",{configurable:!0,writable:!0,value:n})};var gi=BS()});var $S=y(A3=>{"use strict";var TW=NS(),MW=_3();A3.URL=TW;A3.URLSearchParams=MW});var RS=y(Or=>{"use strict";var{URL:BW,URLSearchParams:PW}=$S(),ms=y3(),IS=Pd(),Rd={Array,Object,Promise,String,TypeError};BW.install(Rd,["Window"]);PW.install(Rd,["Window"]);Or.URL=Rd.URL;Or.URLSearchParams=Rd.URLSearchParams;Or.parseURL=ms.parseURL;Or.basicURLParse=ms.basicURLParse;Or.serializeURL=ms.serializeURL;Or.serializePath=ms.serializePath;Or.serializeHost=ms.serializeHost;Or.serializeInteger=ms.serializeInteger;Or.serializeURLOrigin=ms.serializeURLOrigin;Or.setTheUsername=ms.setTheUsername;Or.setThePassword=ms.setThePassword;Or.cannotHaveAUsernamePasswordPort=ms.cannotHaveAUsernamePasswordPort;Or.hasAnOpaquePath=ms.hasAnOpaquePath;Or.percentDecodeString=IS.percentDecodeString;Or.percentDecodeBytes=IS.percentDecodeBytes});var vS=y(jn=>{"use strict";var FW=jn&&jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NW=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$W=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FW(e,t,r);return NW(e,t),e};Object.defineProperty(jn,"__esModule",{value:!0});jn.redactConnectionString=jn.redactValidConnectionString=void 0;var xS=$W(O3());function IW(t,e){var r,n;let s=t.clone(),i=(r=e?.replacementString)!==null&&r!==void 0?r:"_credentials_",o=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0;if((s.username||s.password)&&o?(s.username=i,s.password=""):s.password&&(s.password=i),s.searchParams.has("authMechanismProperties")){let u=new xS.CommaAndColonSeparatedRecord(s.searchParams.get("authMechanismProperties"));u.get("AWS_SESSION_TOKEN")&&(u.set("AWS_SESSION_TOKEN",i),s.searchParams.set("authMechanismProperties",u.toString()))}return s.searchParams.has("tlsCertificateKeyFilePassword")&&s.searchParams.set("tlsCertificateKeyFilePassword",i),s.searchParams.has("proxyUsername")&&o&&s.searchParams.set("proxyUsername",i),s.searchParams.has("proxyPassword")&&s.searchParams.set("proxyPassword",i),s}jn.redactValidConnectionString=IW;function RW(t,e){var r,n;let s=(r=e?.replacementString)!==null&&r!==void 0?r:"<credentials>",i=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0,o;try{o=new xS.default(t)}catch{}if(o)return e={...e,replacementString:"___credentials___"},o.redact(e).toString().replace(/___credentials___/g,s);let u=s,a=[c=>c.replace(i?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`$1${u}$3`),c=>c.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`$1${u}`),c=>c.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`$1${u}`),c=>i?c.replace(/(proxyUsername=)([^&]+)/gi,`$1${u}`):c,c=>c.replace(/(proxyPassword=)([^&]+)/gi,`$1${u}`)];for(let c of a)t=c(t);return t}jn.redactConnectionString=RW});var O3=y(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.CommaAndColonSeparatedRecord=Ei.ConnectionString=Ei.redactConnectionString=void 0;var xW=RS(),kS=vS();Object.defineProperty(Ei,"redactConnectionString",{enumerable:!0,get:function(){return kS.redactConnectionString}});var j1="__this_is_a_placeholder__";function vW(t){return t.startsWith("mongodb://")||t.startsWith("mongodb+srv://")}var kW=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/,xd=class extends Map{delete(e){return super.delete(this._normalizeKey(e))}get(e){return super.get(this._normalizeKey(e))}has(e){return super.has(this._normalizeKey(e))}set(e,r){return super.set(this._normalizeKey(e),r)}_normalizeKey(e){e=`${e}`;for(let r of this.keys())if(r.toLowerCase()===e.toLowerCase()){e=r;break}return e}};function qW(t){return class extends t{append(r,n){return super.append(this._normalizeKey(r),n)}delete(r){return super.delete(this._normalizeKey(r))}get(r){return super.get(this._normalizeKey(r))}getAll(r){return super.getAll(this._normalizeKey(r))}has(r){return super.has(this._normalizeKey(r))}set(r,n){return super.set(this._normalizeKey(r),n)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(r){return xd.prototype._normalizeKey.call(this,r)}}}var C3=class extends xW.URL{},ys=class extends Error{get name(){return"MongoParseError"}},ou=class extends C3{constructor(e,r={}){var n;let{looseValidation:s}=r;if(!s&&!vW(e))throw new ys('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');let i=e.match(kW);if(!i)throw new ys(`Invalid connection string "${e}"`);let{protocol:o,username:u,password:a,hosts:c,rest:l}=(n=i.groups)!==null&&n!==void 0?n:{};if(!s){if(!o||!c)throw new ys(`Protocol and host list are required in "${e}"`);try{decodeURIComponent(u??""),decodeURIComponent(a??"")}catch(d){throw new ys(d.message)}let h=/[:/?#[\]@]/gi;if(u?.match(h))throw new ys(`Username contains unescaped characters ${u}`);if(!u||!a){let d=e.replace(`${o}://`,"");if(d.startsWith("@")||d.startsWith(":"))throw new ys("URI contained empty userinfo section")}if(a?.match(h))throw new ys("Password contains unescaped characters")}let f="";typeof u=="string"&&(f+=u),typeof a=="string"&&(f+=`:${a}`),f&&(f+="@");try{super(`${o.toLowerCase()}://${f}${j1}${l}`)}catch(h){throw s&&new ou(e,{...r,looseValidation:!1}),typeof h.message=="string"&&(h.message=h.message.replace(j1,c)),h}if(this._hosts=c.split(","),!s){if(this.isSRV&&this.hosts.length!==1)throw new ys("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some(h=>h.includes(":")))throw new ys("mongodb+srv URI cannot have port number")}this.pathname||(this.pathname="/"),Object.setPrototypeOf(this.searchParams,qW(this.searchParams.constructor).prototype)}get host(){return j1}set host(e){throw new Error("No single host for connection string")}get hostname(){return j1}set hostname(e){throw new Error("No single host for connection string")}get port(){return""}set port(e){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(e){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(e){this._hosts=e}toString(){return super.toString().replace(j1,this.hosts.join(","))}clone(){return new ou(this.toString(),{looseValidation:!0})}redact(e){return(0,kS.redactValidConnectionString)(this,e)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){let{href:e,origin:r,protocol:n,username:s,password:i,hosts:o,pathname:u,search:a,searchParams:c,hash:l}=this;return{href:e,origin:r,protocol:n,username:s,password:i,hosts:o,pathname:u,search:a,searchParams:c,hash:l}}};Ei.ConnectionString=ou;var S3=class extends xd{constructor(e){super();for(let r of(e??"").split(",")){if(!r)continue;let n=r.indexOf(":");n===-1?this.set(r,""):this.set(r.slice(0,n),r.slice(n+1))}}toString(){return[...this].map(e=>e.join(":")).join(",")}};Ei.CommaAndColonSeparatedRecord=S3;Ei.default=ou});var qS=y((n1e,LW)=>{LW.exports={name:"mongodb",version:"6.5.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{"@mongodb-js/saslprep":"^1.1.5",bson:"^6.4.0","mongodb-connection-string-url":"^3.0.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},devDependencies:{"@aws-sdk/credential-providers":"^3.515.0","@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.40.6","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.2.0","@octokit/core":"^5.1.0","@types/chai":"^4.3.11","@types/chai-subset":"^1.3.5","@types/express":"^4.17.21","@types/kerberos":"^1.1.5","@types/mocha":"^10.0.6","@types/node":"^20.11.20","@types/saslprep":"^1.0.3","@types/semver":"^7.5.7","@types/sinon":"^10.0.20","@types/sinon-chai":"^3.2.12","@types/whatwg-url":"^11.0.4","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.4.1","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.56.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.29.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.3.0","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.1",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.6.0",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.8.1","source-map-support":"^0.5.21","ts-node":"^10.9.2",tsd:"^0.30.6",typescript:"5.0","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=16.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var w3=y(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.getFAASEnv=Vs.addContainerMetadata=Vs.makeClientMetadata=Vs.LimitedSizeDocument=void 0;var jW=require("fs"),U1=require("os"),V1=require("process"),Fa=Ke(),LS=Y(),jS=qS().version,z1=class{constructor(e){this.maxSize=e,this.document=new Map,this.documentSize=5}ifItFitsItSits(e,r){let n=Fa.BSON.serialize(new Map().set(e,r)).byteLength-5;return n+this.documentSize>this.maxSize?!1:(this.documentSize+=n,this.document.set(e,r),!0)}toObject(){return Fa.BSON.deserialize(Fa.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}};Vs.LimitedSizeDocument=z1;function UW(t){let e=new z1(512),{appName:r=""}=t;if(r.length>0){let l=Buffer.byteLength(r,"utf8")<=128?t.appName:Buffer.from(r,"utf8").subarray(0,128).toString("utf8");e.ifItFitsItSits("application",{name:l})}let{name:n="",version:s="",platform:i=""}=t.driverInfo,o={name:n.length>0?`nodejs|${n}`:"nodejs",version:s.length>0?`${jS}|${s}`:jS};if(!e.ifItFitsItSits("driver",o))throw new LS.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let u=WW();if(i.length>0&&(u=`${u}|${i}`),!e.ifItFitsItSits("platform",u))throw new LS.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");let a=new Map().set("name",V1.platform).set("architecture",V1.arch).set("version",U1.release()).set("type",U1.type());if(!e.ifItFitsItSits("os",a)){for(let l of a.keys())if(a.delete(l),a.size===0||e.ifItFitsItSits("os",a))break}let c=VS();if(c!=null&&!e.ifItFitsItSits("env",c)){for(let l of c.keys())if(c.delete(l),c.size===0||e.ifItFitsItSits("env",c))break}return e.toObject()}Vs.makeClientMetadata=UW;var US;async function VW(){let t={};US??(US=jW.promises.access("/.dockerenv").then(()=>!0,()=>!1));let e=await US,{KUBERNETES_SERVICE_HOST:r=""}=V1.env,n=r.length>0;return e&&(t.runtime="docker"),n&&(t.orchestrator="kubernetes"),t}async function zW(t){let e=await VW();if(Object.keys(e).length===0)return t;let r=new z1(512),n={...t?.env,container:e};for(let[s,i]of Object.entries(t))s!=="env"?r.ifItFitsItSits(s,i):r.ifItFitsItSits("env",n)||r.ifItFitsItSits("env",i);return"env"in t||r.ifItFitsItSits("env",n),r.toObject()}Vs.addContainerMetadata=zW;function VS(){let{AWS_EXECUTION_ENV:t="",AWS_LAMBDA_RUNTIME_API:e="",FUNCTIONS_WORKER_RUNTIME:r="",K_SERVICE:n="",FUNCTION_NAME:s="",VERCEL:i="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:o="",AWS_REGION:u="",FUNCTION_MEMORY_MB:a="",FUNCTION_REGION:c="",FUNCTION_TIMEOUT_SEC:l="",VERCEL_REGION:f=""}=V1.env,h=t.startsWith("AWS_Lambda_")||e.length>0,d=r.length>0,p=n.length>0||s.length>0,m=i.length>0,g=new Map;return m&&!(d||p)?(f.length>0&&g.set("region",f),g.set("name","vercel"),g):h&&!(d||p||m)?(u.length>0&&g.set("region",u),o.length>0&&Number.isInteger(+o)&&g.set("memory_mb",new Fa.Int32(o)),g.set("name","aws.lambda"),g):d&&!(p||h||m)?(g.set("name","azure.func"),g):p&&!(d||h||m)?(c.length>0&&g.set("region",c),a.length>0&&Number.isInteger(+a)&&g.set("memory_mb",new Fa.Int32(a)),l.length>0&&Number.isInteger(+l)&&g.set("timeout_sec",new Fa.Int32(l)),g.set("name","gcp.func"),g):null}Vs.getFAASEnv=VS;function WW(){return"Deno"in globalThis?`Deno v${typeof Deno?.version?.deno=="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${U1.endianness()}`:"Bun"in globalThis?`Bun v${typeof Bun?.version=="string"?Bun?.version:"0.0.0-unknown"}, ${U1.endianness()}`:`Node.js ${V1.version}, ${U1.endianness()}`}});var vd=y(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.OpCompressedRequest=Un.OpMsgResponse=Un.OpMsgRequest=Un.OpQueryResponse=Un.OpQueryRequest=void 0;var lo=Ke(),W1=Y(),b3=H1(),Na=qo(),$a=0,GW=2,HW=4,KW=8,YW=16,QW=32,JW=64,XW=128,ZW=1,eG=2,tG=4,rG=8,G1=class{constructor(e,r,n){this.databaseName=e,this.query=r;let s=`${e}.$cmd`;if(typeof e!="string")throw new W1.MongoRuntimeError("Database name must be a string for a query");if(r==null)throw new W1.MongoRuntimeError("A query document must be specified for query");if(s.indexOf("\0")!==-1)throw new W1.MongoRuntimeError("Namespace cannot contain a null character");this.ns=s,this.numberToSkip=n.numberToSkip||0,this.numberToReturn=n.numberToReturn||0,this.returnFieldSelector=n.returnFieldSelector||void 0,this.requestId=n.requestId??G1.getRequestId(),this.pre32Limit=n.pre32Limit,this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof n.secondaryOk=="boolean"?n.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=$a++}nextRequestId(){return $a+1}static getRequestId(){return++$a}toBin(){let e=[],r=null,n=0;this.tailable&&(n|=GW),this.secondaryOk&&(n|=HW),this.oplogReplay&&(n|=KW),this.noCursorTimeout&&(n|=YW),this.awaitData&&(n|=QW),this.exhaust&&(n|=JW),this.partial&&(n|=XW),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);let s=Buffer.alloc(4*4+4+Buffer.byteLength(this.ns)+1+4+4);e.push(s);let i=lo.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(i),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(r=lo.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(r));let o=s.length+i.length+(r?r.length:0),u=4;return s[3]=o>>24&255,s[2]=o>>16&255,s[1]=o>>8&255,s[0]=o&255,s[u+3]=this.requestId>>24&255,s[u+2]=this.requestId>>16&255,s[u+1]=this.requestId>>8&255,s[u]=this.requestId&255,u=u+4,s[u+3]=0,s[u+2]=0,s[u+1]=0,s[u]=0,u=u+4,s[u+3]=Na.OP_QUERY>>24&255,s[u+2]=Na.OP_QUERY>>16&255,s[u+1]=Na.OP_QUERY>>8&255,s[u]=Na.OP_QUERY&255,u=u+4,s[u+3]=n>>24&255,s[u+2]=n>>16&255,s[u+1]=n>>8&255,s[u]=n&255,u=u+4,u=u+s.write(this.ns,u,"utf8")+1,s[u-1]=0,s[u+3]=this.numberToSkip>>24&255,s[u+2]=this.numberToSkip>>16&255,s[u+1]=this.numberToSkip>>8&255,s[u]=this.numberToSkip&255,u=u+4,s[u+3]=this.numberToReturn>>24&255,s[u+2]=this.numberToReturn>>16&255,s[u+1]=this.numberToReturn>>8&255,s[u]=this.numberToReturn&255,u=u+4,e}};Un.OpQueryRequest=G1;var T3=class{constructor(e,r,n,s){this.documents=new Array(0),this.moreToCome=!1,this.parsed=!1,this.raw=e,this.data=n,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(e){if(this.parsed)return;e=e??{};let r=e.raw||!1,n=e.documentsReturnedIn||null,s=e.useBigInt64??this.opts.useBigInt64,i=e.promoteLongs??this.opts.promoteLongs,o=e.promoteValues??this.opts.promoteValues,u=e.promoteBuffers??this.opts.promoteBuffers,a=e.bsonRegExp??this.opts.bsonRegExp,c,l={useBigInt64:s,promoteLongs:i,promoteValues:o,promoteBuffers:u,bsonRegExp:a};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new lo.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&ZW)!==0,this.queryFailure=(this.responseFlags&eG)!==0,this.shardConfigStale=(this.responseFlags&tG)!==0,this.awaitCapable=(this.responseFlags&rG)!==0;for(let f=0;f<this.numberReturned;f++)c=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,r?this.documents[f]=this.data.slice(this.index,this.index+c):this.documents[f]=lo.deserialize(this.data.slice(this.index,this.index+c),l),this.index=this.index+c;if(this.documents.length===1&&n!=null&&r){let f={};f[n]=!0,l.fieldsAsRaw=f;let h=lo.deserialize(this.documents[0],l);this.documents=[h]}this.parsed=!0}};Un.OpQueryResponse=T3;var WS=1,GS=2,HS=65536,Ia=class{constructor(e,r,n){if(this.databaseName=e,this.command=r,this.options=n,r==null)throw new W1.MongoInvalidArgumentError("Query document must be specified for query");this.command.$db=e,this.options=n??{},this.requestId=n.requestId?n.requestId:Ia.getRequestId(),this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checksumPresent=!1,this.moreToCome=n.moreToCome||!1,this.exhaustAllowed=typeof n.exhaustAllowed=="boolean"?n.exhaustAllowed:!1}toBin(){let e=[],r=0;this.checksumPresent&&(r|=WS),this.moreToCome&&(r|=GS),this.exhaustAllowed&&(r|=HS);let n=Buffer.alloc(4*4+4);e.push(n);let s=n.length,i=this.command;return s+=this.makeDocumentSegment(e,i),n.writeInt32LE(s,0),n.writeInt32LE(this.requestId,4),n.writeInt32LE(0,8),n.writeInt32LE(Na.OP_MSG,12),n.writeUInt32LE(r,16),e}makeDocumentSegment(e,r){let n=Buffer.alloc(1);n[0]=0;let s=this.serializeBson(r);return e.push(n),e.push(s),n.length+s.length}serializeBson(e){return lo.serialize(e,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return $a=$a+1&2147483647,$a}};Un.OpMsgRequest=Ia;var M3=class{constructor(e,r,n,s){this.parsed=!1,this.raw=e,this.data=n,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.responseFlags=n.readInt32LE(0),this.checksumPresent=(this.responseFlags&WS)!==0,this.moreToCome=(this.responseFlags&GS)!==0,this.exhaustAllowed=(this.responseFlags&HS)!==0,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(e){if(this.parsed)return;e=e??{},this.index=4;let r=e.raw||!1,n=e.documentsReturnedIn||null,s=e.useBigInt64??this.opts.useBigInt64,i=e.promoteLongs??this.opts.promoteLongs,o=e.promoteValues??this.opts.promoteValues,u=e.promoteBuffers??this.opts.promoteBuffers,a=e.bsonRegExp??this.opts.bsonRegExp,c=this.parseBsonSerializationOptions(e),l={useBigInt64:s,promoteLongs:i,promoteValues:o,promoteBuffers:u,bsonRegExp:a,validation:c};for(;this.index<this.data.length;){let f=this.data.readUInt8(this.index++);if(f===0){let h=this.data.readUInt32LE(this.index),d=this.data.slice(this.index,this.index+h);this.documents.push(r?d:lo.deserialize(d,l)),this.index+=h}else if(f===1)throw new W1.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&n!=null&&r){let f={};f[n]=!0,l.fieldsAsRaw=f;let h=lo.deserialize(this.documents[0],l);this.documents=[h]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:e}){return e===!1?{utf8:!1}:{utf8:{writeErrors:!1}}}};Un.OpMsgResponse=M3;var D3=16,zS=9,B3=class{constructor(e,r){this.command=e,this.options=r}static canCompress(e){let r=e instanceof Ia?e.command:e.query,n=Object.keys(r)[0];return!b3.uncompressibleCommands.has(n)}async toBin(){let e=Buffer.concat(this.command.toBin()),r=e.slice(D3),n=e.readInt32LE(12),s=await(0,b3.compress)(this.options,r),i=Buffer.alloc(D3);i.writeInt32LE(D3+zS+s.length,0),i.writeInt32LE(this.command.requestId,4),i.writeInt32LE(0,8),i.writeInt32LE(Na.OP_COMPRESSED,12);let o=Buffer.alloc(zS);return o.writeInt32LE(n,0),o.writeInt32LE(r.length,4),o.writeUInt8(b3.Compressor[this.options.agreedCompressor],8),[i,o,s]}};Un.OpCompressedRequest=B3});var H1=y(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.decompressResponse=Tt.compressCommand=Tt.decompress=Tt.compress=Tt.uncompressibleCommands=Tt.Compressor=void 0;var KS=require("util"),kd=require("zlib"),nG=It(),YS=ds(),F3=Y(),Ra=vd(),P3=qo();Tt.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});Tt.uncompressibleCommands=new Set([nG.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var sG=3,iG=(0,KS.promisify)(kd.inflate.bind(kd)),oG=(0,KS.promisify)(kd.deflate.bind(kd)),fo,uu=null;function QS(){if(uu==null){let t=(0,YS.getSnappy)();if("kModuleError"in t)throw t.kModuleError;uu=t}return uu}async function uG(t,e){let r={};switch(t.agreedCompressor){case"snappy":return uu??(uu=QS()),uu.compress(e);case"zstd":{if(XS(),"kModuleError"in fo)throw fo.kModuleError;return fo.compress(e,sG)}case"zlib":return t.zlibCompressionLevel&&(r.level=t.zlibCompressionLevel),oG(e,r);default:throw new F3.MongoInvalidArgumentError(`Unknown compressor ${t.agreedCompressor} failed to compress`)}}Tt.compress=uG;async function JS(t,e){if(t!==Tt.Compressor.snappy&&t!==Tt.Compressor.zstd&&t!==Tt.Compressor.zlib&&t!==Tt.Compressor.none)throw new F3.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${t})`);switch(t){case Tt.Compressor.snappy:return uu??(uu=QS()),uu.uncompress(e,{asBuffer:!0});case Tt.Compressor.zstd:{if(XS(),"kModuleError"in fo)throw fo.kModuleError;return fo.decompress(e)}case Tt.Compressor.zlib:return iG(e);default:return e}}Tt.decompress=JS;function XS(){fo||(fo=(0,YS.getZstdLibrary)())}var K1=16;async function aG(t,e){let n=await(e.agreedCompressor==="none"||!Ra.OpCompressedRequest.canCompress(t)?t:new Ra.OpCompressedRequest(t,{agreedCompressor:e.agreedCompressor??"none",zlibCompressionLevel:e.zlibCompressionLevel??0})).toBin();return Buffer.concat(n)}Tt.compressCommand=aG;async function cG(t){let e={length:t.readInt32LE(0),requestId:t.readInt32LE(4),responseTo:t.readInt32LE(8),opCode:t.readInt32LE(12)};if(e.opCode!==P3.OP_COMPRESSED){let u=e.opCode===P3.OP_MSG?Ra.OpMsgResponse:Ra.OpQueryResponse,a=t.subarray(K1);return new u(t,e,a)}let r={...e,fromCompressed:!0,opCode:t.readInt32LE(K1),length:t.readInt32LE(K1+4)},n=t[K1+8],s=t.slice(K1+9),i=r.opCode===P3.OP_MSG?Ra.OpMsgResponse:Ra.OpQueryResponse,o=await JS(n,s);if(o.length!==r.length)throw new F3.MongoDecompressionError("Message body and message header must be the same length");return new i(t,r,o)}Tt.decompressResponse=cG});var $3=y(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.hmacSha256Hook=ht.hmacSha512Hook=ht.aes256CtrDecryptHook=ht.aes256CtrEncryptHook=ht.aes256CbcDecryptHook=ht.aes256CbcEncryptHook=ht.signRsaSha256Hook=ht.makeHmacHook=ht.sha256Hook=ht.randomHook=ht.makeAES256Hook=void 0;var Y1=require("crypto");function Q1(t,e){return function(r,n,s,i){let o;try{let u=Y1[t](e,r,n);u.setAutoPadding(!1),o=u.update(s);let a=u.final();a.length>0&&(o=Buffer.concat([o,a]))}catch(u){return u}return o.copy(i),o.length}}ht.makeAES256Hook=Q1;function lG(t,e){try{Y1.randomFillSync(t,0,e)}catch(r){return r}return e}ht.randomHook=lG;function fG(t,e){let r;try{r=Y1.createHash("sha256").update(t).digest()}catch(n){return n}return r.copy(e),r.length}ht.sha256Hook=fG;function N3(t){return(e,r,n)=>{let s;try{s=Y1.createHmac(t,e).update(r).digest()}catch(i){return i}return s.copy(n),s.length}}ht.makeHmacHook=N3;function hG(t,e,r){let n;try{let s=Y1.createSign("sha256WithRSAEncryption"),i=Buffer.from(`-----BEGIN PRIVATE KEY-----
${t.toString("base64")}
-----END PRIVATE KEY-----
`);n=s.update(e).end().sign(i)}catch(s){return s}return n.copy(r),n.length}ht.signRsaSha256Hook=hG;ht.aes256CbcEncryptHook=Q1("createCipheriv","aes-256-cbc");ht.aes256CbcDecryptHook=Q1("createDecipheriv","aes-256-cbc");ht.aes256CtrEncryptHook=Q1("createCipheriv","aes-256-ctr");ht.aes256CtrDecryptHook=Q1("createDecipheriv","aes-256-ctr");ht.hmacSha512Hook=N3("sha512");ht.hmacSha256Hook=N3("sha256")});var au=y(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.MongoCryptKMSRequestNetworkTimeoutError=Kr.MongoCryptAzureKMSRequestError=Kr.MongoCryptCreateEncryptedCollectionError=Kr.MongoCryptCreateDataKeyError=Kr.MongoCryptInvalidArgumentError=Kr.MongoCryptError=void 0;var dG=Y(),ho=class extends dG.MongoError{constructor(e,r={}){super(e,r)}get name(){return"MongoCryptError"}};Kr.MongoCryptError=ho;var I3=class extends ho{constructor(e){super(e)}get name(){return"MongoCryptInvalidArgumentError"}};Kr.MongoCryptInvalidArgumentError=I3;var R3=class extends ho{constructor(e,{cause:r}){super(`Unable to complete creating data keys: ${r.message}`,{cause:r}),this.encryptedFields=e}get name(){return"MongoCryptCreateDataKeyError"}};Kr.MongoCryptCreateDataKeyError=R3;var x3=class extends ho{constructor(e,{cause:r}){super(`Unable to create collection: ${r.message}`,{cause:r}),this.encryptedFields=e}get name(){return"MongoCryptCreateEncryptedCollectionError"}};Kr.MongoCryptCreateEncryptedCollectionError=x3;var v3=class extends ho{constructor(e,r){super(e),this.body=r}get name(){return"MongoCryptAzureKMSRequestError"}};Kr.MongoCryptAzureKMSRequestError=v3;var k3=class extends ho{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}};Kr.MongoCryptKMSRequestNetworkTimeoutError=k3});var ZS=y(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.MongocryptdManager=void 0;var pG=Y(),xa=class{constructor(e={}){this.uri=typeof e.mongocryptdURI=="string"&&e.mongocryptdURI.length>0?e.mongocryptdURI:xa.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!e.mongocryptdBypassSpawn,this.spawnPath=e.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(e.mongocryptdSpawnArgs)&&(this.spawnArgs=this.spawnArgs.concat(e.mongocryptdSpawnArgs)),this.spawnArgs.filter(r=>typeof r=="string").every(r=>r.indexOf("--idleShutdownTimeoutSecs")<0)&&this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){let e=this.spawnPath||"mongocryptd",{spawn:r}=require("child_process");this._child=r(e,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(e){try{return await e()}catch(n){if(!(n instanceof pG.MongoNetworkTimeoutError&&!this.bypassSpawn))throw n}return await this.spawn(),await e()}};xa.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";qd.MongocryptdManager=xa});var e5=y(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.loadAWSCredentials=void 0;var mG=ds();async function yG(t){let e=(0,mG.getAwsCredentialProvider)();if("kModuleError"in e)return t;let{fromNodeProviderChain:r}=e,s=await r()();return{...t,aws:s}}Ld.loadAWSCredentials=yG});var t5=y(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.get=void 0;var gG=require("http"),q3=require("timers"),EG=au();function _G(t,e={}){return new Promise((r,n)=>{let s,i=gG.get(t,e,o=>{o.setEncoding("utf8");let u="";o.on("data",a=>u+=a),o.on("end",()=>{(0,q3.clearTimeout)(s),r({status:o.statusCode,body:u})})}).on("error",o=>{(0,q3.clearTimeout)(s),n(o)}).end();s=(0,q3.setTimeout)(()=>{i.destroy(new EG.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})}jd.get=_G});var s5=y(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.loadAzureCredentials=Cn.fetchAzureKMSToken=Cn.prepareRequest=Cn.tokenCache=Cn.AzureCredentialCache=void 0;var cu=au(),AG=t5(),OG=6e3,Ud=class{constructor(){this.cachedToken=null}async getToken(){return(this.cachedToken==null||this.needsRefresh(this.cachedToken))&&(this.cachedToken=await this._getToken()),{accessToken:this.cachedToken.accessToken}}needsRefresh(e){return e.expiresOnTimestamp-Date.now()<=OG}resetCache(){this.cachedToken=null}_getToken(){return n5()}};Cn.AzureCredentialCache=Ud;Cn.tokenCache=new Ud;async function CG(t){let{status:e,body:r}=t,n=(()=>{try{return JSON.parse(r)}catch{throw new cu.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(e!==200)throw new cu.MongoCryptAzureKMSRequestError("Unable to complete request.",n);if(!n.access_token)throw new cu.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!n.expires_in)throw new cu.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");let s=Number(n.expires_in)*1e3;if(Number.isNaN(s))throw new cu.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:n.access_token,expiresOnTimestamp:Date.now()+s}}function r5(t){let e=new URL(t.url?.toString()??"http://169.254.169.254/metadata/identity/oauth2/token");return e.searchParams.append("api-version","2018-02-01"),e.searchParams.append("resource","https://vault.azure.net"),{headers:{...t.headers,"Content-Type":"application/json",Metadata:!0},url:e}}Cn.prepareRequest=r5;async function n5(t={}){let{headers:e,url:r}=r5(t),n=await(0,AG.get)(r,{headers:e}).catch(s=>{throw s instanceof cu.MongoCryptKMSRequestNetworkTimeoutError?new cu.MongoCryptAzureKMSRequestError(`[Azure KMS] ${s.message}`):s});return CG(n)}Cn.fetchAzureKMSToken=n5;async function SG(t){let e=await Cn.tokenCache.getToken();return{...t,azure:e}}Cn.loadAzureCredentials=SG});var i5=y(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.loadGCPCredentials=void 0;var wG=ds();async function bG(t){let e=(0,wG.getGcpMetadata)();if("kModuleError"in e)return t;let{access_token:r}=await e.instance({property:"service-accounts/default/token"});return{...t,gcp:{accessToken:r}}}Vd.loadGCPCredentials=bG});var L3=y(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.refreshKMSCredentials=va.isEmptyCredentials=void 0;var DG=e5(),TG=s5(),MG=i5();function zd(t,e){let r=e[t];return r==null?!1:typeof r=="object"&&Object.keys(r).length===0}va.isEmptyCredentials=zd;async function BG(t){let e=t;return zd("aws",t)&&(e=await(0,DG.loadAWSCredentials)(e)),zd("gcp",t)&&(e=await(0,MG.loadGCPCredentials)(e)),zd("azure",t)&&(e=await(0,TG.loadAzureCredentials)(e)),e}va.refreshKMSCredentials=BG});var U3=y(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.StateMachine=void 0;var o5=require("fs/promises"),PG=require("net"),FG=require("tls"),_i=Ke(),NG=ds(),ka=ne(),Ai=au(),J1=null;function $G(){if(J1==null){let t=(0,NG.getSocks)();if("kModuleError"in t)throw t.kModuleError;J1=t}return J1}var Wd=0,a5=1,c5=2,l5=3,f5=7,h5=4,d5=5,p5=6,IG=443,RG=new Map([[Wd,"MONGOCRYPT_CTX_ERROR"],[a5,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[c5,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[l5,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[f5,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[h5,"MONGOCRYPT_CTX_NEED_KMS"],[d5,"MONGOCRYPT_CTX_READY"],[p5,"MONGOCRYPT_CTX_DONE"]]),xG=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];function u5(t){process.env.MONGODB_CRYPT_DEBUG&&console.error(t)}var j3=class{constructor(e,r=(0,_i.pluckBSONSerializeOptions)(e)){this.options=e,this.bsonOptions=r}async execute(e,r){let n=e._keyVaultNamespace,s=e._keyVaultClient,i=e._metaDataClient,o=e._mongocryptdClient,u=e._mongocryptdManager,a=null;for(;r.state!==p5&&r.state!==Wd;)switch(u5(`[context#${r.id}] ${RG.get(r.state)||r.state}`),r.state){case a5:{let c=(0,_i.deserialize)(r.nextMongoOperation());if(!i)throw new Ai.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");let l=await this.fetchCollectionInfo(i,r.ns,c);l&&r.addMongoOperationResponse(l),r.finishMongoOperation();break}case c5:{let c=r.nextMongoOperation();if(!o)throw new Ai.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");let l=u?await u.withRespawn(this.markCommand.bind(this,o,r.ns,c)):await this.markCommand(o,r.ns,c);r.addMongoOperationResponse(l),r.finishMongoOperation();break}case l5:{let c=r.nextMongoOperation(),l=await this.fetchKeys(s,n,c);l.length===0&&(a={v:[]});for await(let f of l)r.addMongoOperationResponse((0,_i.serialize)(f));r.finishMongoOperation();break}case f5:{let c=await e.askForKMSCredentials();r.provideKMSProviders((0,_i.serialize)(c));break}case h5:{let c=Array.from(this.requests(r));await Promise.all(c),r.finishKMSRequests();break}case d5:{let c=r.finalize();if(r.state===Wd){let l=r.status.message||"Finalization error";throw new Ai.MongoCryptError(l)}a=(0,_i.deserialize)(c,this.options);break}default:throw new Ai.MongoCryptError(`Unknown state: ${r.state}`)}if(r.state===Wd||a==null){let c=r.status.message;throw c||u5("unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message."),new Ai.MongoCryptError(c??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return a}async kmsRequest(e){let r=e.endpoint.split(":"),n=r[1]!=null?Number.parseInt(r[1],10):IG,s={host:r[0],servername:r[0],port:n},i=e.message,o=new ka.BufferPool,u=new PG.Socket,a;function c(){for(let E of[a,u])E&&(E.removeAllListeners(),E.destroy())}function l(){return new Ai.MongoCryptError("KMS request timed out")}function f(E){return new Ai.MongoCryptError("KMS request failed",{cause:E})}function h(){return new Ai.MongoCryptError("KMS request closed")}let d=this.options.tlsOptions;if(d){let E=e.kmsProvider,_=d[E];if(_){let A=this.validateTlsOptions(E,_);if(A)throw A;try{await this.setTlsOptions(_,s)}catch(C){throw f(C)}}}let{promise:p,reject:m,resolve:g}=(0,ka.promiseWithResolvers)();u.once("timeout",()=>m(l())).once("error",E=>m(f(E))).once("close",()=>m(h())).once("connect",()=>g());try{if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){u.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),await p;try{J1??(J1=$G()),s.socket=(await J1.SocksClient.createConnection({existing_socket:u,command:"connect",destination:{host:s.host,port:s.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(C){throw f(C)}}a=FG.connect(s,()=>{a.write(i)});let{promise:E,reject:_,resolve:A}=(0,ka.promiseWithResolvers)();a.once("timeout",()=>_(l())).once("error",C=>_(f(C))).once("close",()=>_(h())).on("data",C=>{for(o.append(C);e.bytesNeeded>0&&o.length;){let x=Math.min(e.bytesNeeded,o.length);e.addResponse(o.read(x))}e.bytesNeeded<=0&&A()}),await E}finally{c()}}*requests(e){for(let r=e.nextKMSRequest();r!=null;r=e.nextKMSRequest())yield this.kmsRequest(r)}validateTlsOptions(e,r){let n=Object.keys(r);for(let s of xG)if(n.includes(s))return new Ai.MongoCryptError(`Insecure TLS options prohibited for ${e}: ${s}`)}async setTlsOptions(e,r){if(e.tlsCertificateKeyFile){let n=await o5.readFile(e.tlsCertificateKeyFile);r.cert=r.key=n}e.tlsCAFile&&(r.ca=await o5.readFile(e.tlsCAFile)),e.tlsCertificateKeyFilePassword&&(r.passphrase=e.tlsCertificateKeyFilePassword)}async fetchCollectionInfo(e,r,n){let{db:s}=ka.MongoDBCollectionNamespace.fromString(r),i=await e.db(s).listCollections(n,{promoteLongs:!1,promoteValues:!1}).toArray();return i.length>0?(0,_i.serialize)(i[0]):null}async markCommand(e,r,n){let s={promoteLongs:!1,promoteValues:!1},{db:i}=ka.MongoDBCollectionNamespace.fromString(r),o=(0,_i.deserialize)(n,s),u=await e.db(i).command(o,s);return(0,_i.serialize)(u,this.bsonOptions)}fetchKeys(e,r,n){let{db:s,collection:i}=ka.MongoDBCollectionNamespace.fromString(r);return e.db(s).collection(i,{readConcern:{level:"majority"}}).find((0,_i.deserialize)(n)).toArray()}};Gd.StateMachine=j3});var z3=y(ja=>{"use strict";var y5;Object.defineProperty(ja,"__esModule",{value:!0});ja.AutoEncrypter=ja.AutoEncryptionLoggerLevel=void 0;var qa=Ke(),vG=ds(),Hd=Y(),kG=lu(),qG=ne(),LG=$3(),jG=au(),UG=ZS(),VG=L3(),m5=U3();ja.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});var g5=Symbol.for("@@mdb.decorateDecryptionResult"),V3=Symbol.for("@@mdb.decryptedKeys"),La=class{static getMongoCrypt(){let e=(0,vG.getMongoDBClientEncryption)();if("kModuleError"in e)throw e.kModuleError;return e.MongoCrypt}constructor(e,r){this[y5]=!1,this._client=e,this._bypassEncryption=r.bypassAutoEncryption===!0,this._keyVaultNamespace=r.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=r.keyVaultClient||e,this._metaDataClient=r.metadataClient||e,this._proxyOptions=r.proxyOptions||{},this._tlsOptions=r.tlsOptions||{},this._kmsProviders=r.kmsProviders||{};let n={cryptoCallbacks:LG};r.schemaMap&&(n.schemaMap=Buffer.isBuffer(r.schemaMap)?r.schemaMap:(0,qa.serialize)(r.schemaMap)),r.encryptedFieldsMap&&(n.encryptedFieldsMap=Buffer.isBuffer(r.encryptedFieldsMap)?r.encryptedFieldsMap:(0,qa.serialize)(r.encryptedFieldsMap)),n.kmsProviders=Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,qa.serialize)(this._kmsProviders),r.options?.logger&&(n.logger=r.options.logger),r.extraOptions&&r.extraOptions.cryptSharedLibPath&&(n.cryptSharedLibPath=r.extraOptions.cryptSharedLibPath),r.bypassQueryAnalysis&&(n.bypassQueryAnalysis=r.bypassQueryAnalysis),this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!r.bypassQueryAnalysis,r.extraOptions&&r.extraOptions.cryptSharedLibSearchPaths?n.cryptSharedLibSearchPaths=r.extraOptions.cryptSharedLibSearchPaths:this._bypassMongocryptdAndCryptShared||(n.cryptSharedLibSearchPaths=["$SYSTEM"]);let s=La.getMongoCrypt();if(this._mongocrypt=new s(n),this._contextCounter=0,r.extraOptions&&r.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new jG.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new UG.MongocryptdManager(r.extraOptions);let i={serverSelectionTimeoutMS:1e4};(r.extraOptions==null||typeof r.extraOptions.mongocryptdURI!="string")&&(i.family=4),this._mongocryptdClient=new kG.MongoClient(this._mongocryptdManager.uri,i)}}async init(){if(!(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)){if(!this._mongocryptdManager)throw new Hd.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new Hd.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");this._mongocryptdManager.bypassSpawn||await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(e){let{message:r}=e;throw r&&(r.match(/timed out after/)||r.match(/ENOTFOUND/))?new Hd.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:e}):e}}}async teardown(e){await this._mongocryptdClient?.close(e)}async encrypt(e,r,n={}){if(this._bypassEncryption)return r;let s=Buffer.isBuffer(r)?r:(0,qa.serialize)(r,n),i=this._mongocrypt.makeEncryptionContext(qG.MongoDBCollectionNamespace.fromString(e).db,s);return i.id=this._contextCounter++,i.ns=e,i.document=r,new m5.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,i)}async decrypt(e,r={}){let n=Buffer.isBuffer(e)?e:(0,qa.serialize)(e,r),s=this._mongocrypt.makeDecryptionContext(n);s.id=this._contextCounter++;let i=new m5.StateMachine({...r,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),o=this[g5],u=await i.execute(this,s);return o&&E5(u,e),u}async askForKMSCredentials(){return(0,VG.refreshKMSCredentials)(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return La.getMongoCrypt().libmongocryptVersion}};ja.AutoEncrypter=La;y5=g5;function E5(t,e,r=!0){if(r&&(Buffer.isBuffer(e)&&(e=(0,qa.deserialize)(e)),Buffer.isBuffer(t)))throw new Hd.MongoRuntimeError("Expected result of decryption to be deserialized BSON object");if(!(!t||typeof t!="object"))for(let n of Object.keys(t)){let s=e[n];if(s&&s._bsontype==="Binary"&&s.sub_type===6){t[V3]||Object.defineProperty(t,V3,{value:[],configurable:!0,enumerable:!1,writable:!1}),t[V3].push(n);continue}E5(t[n],s,!1)}}});var A5=y(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.Encrypter=void 0;var zG=require("util"),WG=z3(),GG=It(),HG=ds(),_5=Y(),KG=lu(),X1=Symbol("internalClient"),W3=class{constructor(e,r,n){if(typeof n.autoEncryption!="object")throw new _5.MongoInvalidArgumentError('Option "autoEncryption" must be specified');this[X1]=null,this.bypassAutoEncryption=!!n.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,n.maxPoolSize===0&&n.autoEncryption.keyVaultClient==null?n.autoEncryption.keyVaultClient=e:n.autoEncryption.keyVaultClient==null&&(n.autoEncryption.keyVaultClient=this.getInternalClient(e,r,n)),this.bypassAutoEncryption?n.autoEncryption.metadataClient=void 0:n.maxPoolSize===0?n.autoEncryption.metadataClient=e:n.autoEncryption.metadataClient=this.getInternalClient(e,r,n),n.proxyHost&&(n.autoEncryption.proxyOptions={proxyHost:n.proxyHost,proxyPort:n.proxyPort,proxyUsername:n.proxyUsername,proxyPassword:n.proxyPassword}),this.autoEncrypter=new WG.AutoEncrypter(e,n.autoEncryption)}getInternalClient(e,r,n){let s=this[X1];if(s==null){let i={};for(let o of[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)])["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(o)||Reflect.set(i,o,Reflect.get(n,o));i.minPoolSize=0,s=new KG.MongoClient(r,i),this[X1]=s;for(let o of GG.MONGO_CLIENT_EVENTS)for(let u of e.listeners(o))s.on(o,u);e.on("newListener",(o,u)=>{s?.on(o,u)}),this.needsConnecting=!0}return s}async connectInternalClient(){let e=this[X1];this.needsConnecting&&e!=null&&(this.needsConnecting=!1,await e.connect())}closeCallback(e,r,n){(0,zG.callbackify)(this.close.bind(this))(e,r,n)}async close(e,r){let n=await this.autoEncrypter.teardown(!!r).catch(i=>i),s=this[X1];if(s!=null&&e!==s)return s.close(r);if(n)throw n}static checkForMongoCrypt(){if("kModuleError"in(0,HG.getMongoDBClientEncryption)())throw new _5.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}};Kd.Encrypter=W3});var Z3=y(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.SENSITIVE_COMMANDS=Vn.CommandFailedEvent=Vn.CommandSucceededEvent=Vn.CommandStartedEvent=void 0;var Z1=It(),gs=ne(),S5=vd(),G3=class{constructor(e,r,n){this.name=Z1.COMMAND_STARTED;let s=J3(r),i=Y3(s),{address:o,connectionId:u,serviceId:a}=X3(e);Vn.SENSITIVE_COMMANDS.has(i)&&(this.commandObj={},this.commandObj[i]=!0),this.address=o,this.connectionId=u,this.serviceId=a,this.requestId=r.requestId,this.databaseName=r.databaseName,this.commandName=i,this.command=Q3(i,s,s),this.serverConnectionId=n}get hasServiceId(){return!!this.serviceId}};Vn.CommandStartedEvent=G3;var H3=class{constructor(e,r,n,s,i){this.name=Z1.COMMAND_SUCCEEDED;let o=J3(r),u=Y3(o),{address:a,connectionId:c,serviceId:l}=X3(e);this.address=a,this.connectionId=c,this.serviceId=l,this.requestId=r.requestId,this.commandName=u,this.duration=(0,gs.calculateDurationInMs)(s),this.reply=Q3(u,o,ZG(r,n)),this.serverConnectionId=i}get hasServiceId(){return!!this.serviceId}};Vn.CommandSucceededEvent=H3;var K3=class{constructor(e,r,n,s,i){this.name=Z1.COMMAND_FAILED;let o=J3(r),u=Y3(o),{address:a,connectionId:c,serviceId:l}=X3(e);this.address=a,this.connectionId=c,this.serviceId=l,this.requestId=r.requestId,this.commandName=u,this.duration=(0,gs.calculateDurationInMs)(s),this.failure=Q3(u,o,n),this.serverConnectionId=i}get hasServiceId(){return!!this.serviceId}};Vn.CommandFailedEvent=K3;Vn.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var YG=new Set(["hello",Z1.LEGACY_HELLO_COMMAND,Z1.LEGACY_HELLO_COMMAND_CAMEL_CASE]),Y3=t=>Object.keys(t)[0],QG=t=>t.ns,JG=t=>t.ns.split(".")[1],Q3=(t,e,r)=>Vn.SENSITIVE_COMMANDS.has(t)||YG.has(t)&&e.speculativeAuthenticate?{}:r,O5={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},C5={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},XG=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"];function J3(t){if(t instanceof S5.OpMsgRequest)return(0,gs.deepCopy)(t.command);if(t.query?.$query){let n;return t.ns==="admin.$cmd"?n=Object.assign({},t.query.$query):(n={find:JG(t)},Object.keys(O5).forEach(s=>{t.query[s]!=null&&(n[O5[s]]=(0,gs.deepCopy)(t.query[s]))})),Object.keys(C5).forEach(s=>{let i=s;t[i]!=null&&(n[C5[i]]=(0,gs.deepCopy)(t[i]))}),XG.forEach(s=>{t[s]&&(n[s]=t[s])}),t.pre32Limit!=null&&(n.limit=t.pre32Limit),t.query.$explain?{explain:n}:n}let e={},r={};if(t.query){for(let n in t.query)e[n]=(0,gs.deepCopy)(t.query[n]);r.query=e}for(let n in t)n!=="query"&&(r[n]=(0,gs.deepCopy)(t[n]));return t.query?e:r}function ZG(t,e){return e&&(t instanceof S5.OpMsgRequest?(0,gs.deepCopy)(e.result?e.result:e):t.query&&t.query.$query!=null?{ok:1,cursor:{id:(0,gs.deepCopy)(e.cursorId),ns:QG(t),firstBatch:(0,gs.deepCopy)(e.documents)}}:(0,gs.deepCopy)(e.result?e.result:e))}function X3(t){let e;return"id"in t&&(e=t.id),{address:t.address,serviceId:t.serviceId,connectionId:e}}});var w5=y(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.StreamDescription=void 0;var eH=Ke(),tH=dn(),rH=O1(),nH=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"],e6=class{constructor(e,r){this.hello=null,this.address=e,this.type=tH.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=r?.logicalSessionTimeoutMinutes,this.loadBalanced=!!r?.loadBalanced,this.compressors=r&&r.compressors&&Array.isArray(r.compressors)?r.compressors:[],this.serverConnectionId=null}receiveResponse(e){if(e!=null){this.hello=e,this.type=(0,rH.parseServerType)(e),"connectionId"in e?this.serverConnectionId=this.parseServerConnectionID(e.connectionId):this.serverConnectionId=null;for(let r of nH)e[r]!=null&&(this[r]=e[r]),"__nodejs_mock_server__"in e&&(this.__nodejs_mock_server__=e.__nodejs_mock_server__);e.compression&&(this.compressor=this.compressors.filter(r=>e.compression?.includes(r))[0])}}parseServerConnectionID(e){return eH.Long.isLong(e)?e.toBigInt():BigInt(e)}};Yd.StreamDescription=e6});var b5=y(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.onData=void 0;var t6=ne();function sH(t){let e=new t6.List,r=new t6.List,n=null,s=!1,i={next(){let c=e.shift();if(c!=null)return Promise.resolve({value:c,done:!1});if(n!=null){let d=Promise.reject(n);return n=null,d}if(s)return a();let{promise:l,resolve:f,reject:h}=(0,t6.promiseWithResolvers)();return r.push({resolve:f,reject:h}),l},return(){return a()},throw(c){return u(c),Promise.resolve({value:void 0,done:!0})},[Symbol.asyncIterator](){return this}};return t.on("data",o),t.on("error",u),i;function o(c){let l=r.shift();l!=null?l.resolve({value:c,done:!1}):e.push(c)}function u(c){let l=r.shift();l!=null?l.reject(c):n=c,a()}function a(){t.off("data",o),t.off("error",u),s=!0;let c={value:void 0,done:s};for(let l of r)l.resolve(c);return Promise.resolve(c)}}Qd.onData=sH});var ep=y(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.CryptoConnection=Ws.SizedMessageTransform=Ws.Connection=Ws.hasSessionSupport=void 0;var iH=require("stream"),M5=require("timers"),fu=It(),Es=Y(),D5=Ko(),oH=gn(),uH=jt(),aH=dn(),T5=S1(),zs=ne(),Jd=Z3(),Xd=vd(),cH=w5(),lH=H1(),fH=b5(),r6=og();function hH(t){return t.description.logicalSessionTimeoutMinutes!=null}Ws.hasSessionSupport=hH;function dH(t,e){if(e.proxyHost)return e.hostAddress.toString();let{remoteAddress:r,remotePort:n}=t;return typeof r=="string"&&typeof n=="number"?zs.HostAddress.fromHostPort(r,n).toString():(0,zs.uuidV4)().toString("hex")}var xt=class extends oH.TypedEventEmitter{constructor(e,r){super(),this.lastHelloMS=-1,this.helloOk=!1,this.delayedTimeoutId=null,this.closed=!1,this.clusterTime=null,this.error=null,this.dataEvents=null,this.socket=e,this.id=r.id,this.address=dH(e,r),this.socketTimeoutMS=r.socketTimeoutMS??0,this.monitorCommands=r.monitorCommands,this.serverApi=r.serverApi,this.mongoLogger=r.mongoLogger,this.established=!1,this.description=new cH.StreamDescription(this.address,r),this.generation=r.generation,this.lastUseTime=(0,zs.now)(),this.messageStream=this.socket.on("error",this.onError.bind(this)).pipe(new Zd({connection:this})).on("error",this.onError.bind(this)),this.socket.on("close",this.onClose.bind(this)),this.socket.on("timeout",this.onTimeout.bind(this))}get hello(){return this.description.hello}set hello(e){this.description.receiveResponse(e),Object.freeze(this.description)}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get idleTime(){return(0,zs.calculateDurationInMs)(this.lastUseTime)}get hasSessionSupport(){return this.description.logicalSessionTimeoutMinutes!=null}get supportsOpMsg(){return this.description!=null&&(0,zs.maxWireVersion)(this)>=6&&!this.description.__nodejs_mock_server__}get shouldEmitAndLogCommand(){return(this.monitorCommands||this.established&&!this.authContext?.reauthenticating&&this.mongoLogger?.willLog(D5.MongoLoggableComponent.COMMAND,D5.SeverityLevel.DEBUG))??!1}markAvailable(){this.lastUseTime=(0,zs.now)()}onError(e){this.cleanup(e)}onClose(){let e=`connection ${this.id} to ${this.address} closed`;this.cleanup(new Es.MongoNetworkError(e))}onTimeout(){this.delayedTimeoutId=(0,M5.setTimeout)(()=>{let e=`connection ${this.id} to ${this.address} timed out`,r=this.hello==null;this.cleanup(new Es.MongoNetworkTimeoutError(e,{beforeHandshake:r}))},1).unref()}destroy(){if(this.closed)return;this.removeAllListeners(xt.PINNED),this.removeAllListeners(xt.UNPINNED);let e=`connection ${this.id} to ${this.address} closed`;this.cleanup(new Es.MongoNetworkError(e))}cleanup(e){this.closed||(this.socket.destroy(),this.error=e,this.dataEvents?.throw(e).then(void 0,()=>null),this.closed=!0,this.emit(xt.CLOSE))}prepareCommand(e,r,n){let s={...r},i=(0,r6.getReadPreference)(n),o=n?.session,u=this.clusterTime;if(this.serverApi){let{version:l,strict:f,deprecationErrors:h}=this.serverApi;s.apiVersion=l,f!=null&&(s.apiStrict=f),h!=null&&(s.apiDeprecationErrors=h)}if(this.hasSessionSupport&&o){o.clusterTime&&u&&o.clusterTime.clusterTime.greaterThan(u.clusterTime)&&(u=o.clusterTime);let l=(0,T5.applySession)(o,s,n);if(l)throw l}else if(o?.explicit)throw new Es.MongoCompatibilityError("Current topology does not support sessions");u&&(s.$clusterTime=u),this.description.type!==aH.ServerType.Standalone&&(!(0,r6.isSharded)(this)&&!this.description.loadBalanced&&this.supportsOpMsg&&n.directConnection===!0&&i?.mode==="primary"?s.$readPreference=uH.ReadPreference.primaryPreferred.toJSON():(0,r6.isSharded)(this)&&!this.supportsOpMsg&&i?.mode!=="primary"?s={$query:s,$readPreference:i.toJSON()}:i?.mode!=="primary"&&(s.$readPreference=i.toJSON()));let a={numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:i.secondaryOk(),...n};return this.supportsOpMsg?new Xd.OpMsgRequest(e,s,a):new Xd.OpQueryRequest(e,s,a)}async*sendWire(e,r){this.throwIfAborted(),typeof r.socketTimeoutMS=="number"?this.socket.setTimeout(r.socketTimeoutMS):this.socketTimeoutMS!==0&&this.socket.setTimeout(this.socketTimeoutMS);try{if(await this.writeCommand(e,{agreedCompressor:this.description.compressor??"none",zlibCompressionLevel:this.description.zlibCompressionLevel}),r.noResponse){yield{ok:1};return}this.throwIfAborted();for await(let n of this.readMany()){this.socket.setTimeout(0),n.parse(r);let[s]=n.documents;if(!Buffer.isBuffer(s)){let{session:i}=r;i&&(0,T5.updateSessionFromResponse)(i,s),s.$clusterTime&&(this.clusterTime=s.$clusterTime,this.emit(xt.CLUSTER_TIME_RECEIVED,s.$clusterTime))}yield s,this.throwIfAborted(),typeof r.socketTimeoutMS=="number"?this.socket.setTimeout(r.socketTimeoutMS):this.socketTimeoutMS!==0&&this.socket.setTimeout(this.socketTimeoutMS)}}finally{this.socket.setTimeout(0)}}async*sendCommand(e,r,n={}){let s=this.prepareCommand(e.db,r,n),i=0;this.shouldEmitAndLogCommand&&(i=(0,zs.now)(),this.emitAndLogCommand(this.monitorCommands,xt.COMMAND_STARTED,s.databaseName,this.established,new Jd.CommandStartedEvent(this,s,this.description.serverConnectionId)));let o;try{this.throwIfAborted();for await(o of this.sendWire(s,n)){if(!Buffer.isBuffer(o)&&o.writeConcernError)throw new Es.MongoWriteConcernError(o.writeConcernError,o);if(!Buffer.isBuffer(o)&&(o.ok===0||o.$err||o.errmsg||o.code))throw new Es.MongoServerError(o);this.shouldEmitAndLogCommand&&this.emitAndLogCommand(this.monitorCommands,xt.COMMAND_SUCCEEDED,s.databaseName,this.established,new Jd.CommandSucceededEvent(this,s,n.noResponse?void 0:o,i,this.description.serverConnectionId)),yield o,this.throwIfAborted()}}catch(u){throw this.shouldEmitAndLogCommand&&(u.name==="MongoWriteConcernError"?this.emitAndLogCommand(this.monitorCommands,xt.COMMAND_SUCCEEDED,s.databaseName,this.established,new Jd.CommandSucceededEvent(this,s,n.noResponse?void 0:o,i,this.description.serverConnectionId)):this.emitAndLogCommand(this.monitorCommands,xt.COMMAND_FAILED,s.databaseName,this.established,new Jd.CommandFailedEvent(this,s,u,i,this.description.serverConnectionId))),u}}async command(e,r,n={}){this.throwIfAborted();for await(let s of this.sendCommand(e,r,n))return s;throw new Es.MongoUnexpectedServerResponseError("Unable to get response from server")}exhaustCommand(e,r,n,s){(async()=>{this.throwIfAborted();for await(let o of this.sendCommand(e,r,n))s(void 0,o),this.throwIfAborted();throw new Es.MongoUnexpectedServerResponseError("Server ended moreToCome unexpectedly")})().catch(s)}throwIfAborted(){if(this.error)throw this.error}async writeCommand(e,r){let n=r.agreedCompressor==="none"||!Xd.OpCompressedRequest.canCompress(e)?e:new Xd.OpCompressedRequest(e,{agreedCompressor:r.agreedCompressor??"none",zlibCompressionLevel:r.zlibCompressionLevel??0}),s=Buffer.concat(await n.toBin());if(!this.socket.write(s))return(0,zs.once)(this.socket,"drain")}async*readMany(){try{this.dataEvents=(0,fH.onData)(this.messageStream);for await(let e of this.dataEvents){let r=await(0,lH.decompressResponse)(e);if(yield r,!r.moreToCome)return}}finally{this.dataEvents=null,this.throwIfAborted()}}};xt.COMMAND_STARTED=fu.COMMAND_STARTED;xt.COMMAND_SUCCEEDED=fu.COMMAND_SUCCEEDED;xt.COMMAND_FAILED=fu.COMMAND_FAILED;xt.CLUSTER_TIME_RECEIVED=fu.CLUSTER_TIME_RECEIVED;xt.CLOSE=fu.CLOSE;xt.PINNED=fu.PINNED;xt.UNPINNED=fu.UNPINNED;Ws.Connection=xt;var Zd=class extends iH.Transform{constructor({connection:e}){super({objectMode:!1}),this.bufferPool=new zs.BufferPool,this.connection=e}_transform(e,r,n){this.connection.delayedTimeoutId!=null&&((0,M5.clearTimeout)(this.connection.delayedTimeoutId),this.connection.delayedTimeoutId=null),this.bufferPool.append(e);let s=this.bufferPool.getInt32();if(s==null)return n();if(s<0)return n(new Es.MongoParseError(`Invalid message size: ${s}, too small`));if(s>this.bufferPool.length)return n();let i=this.bufferPool.read(s);return n(null,i)}};Ws.SizedMessageTransform=Zd;var n6=class extends xt{constructor(e,r){super(e,r),this.autoEncrypter=r.autoEncrypter}async command(e,r,n){let{autoEncrypter:s}=this;if(!s)throw new Es.MongoMissingDependencyError("No AutoEncrypter available for encryption");let i=(0,zs.maxWireVersion)(this);if(i===0)return super.command(e,r,n);if(i<8)throw new Es.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2");let o=r.find||r.findAndModify?r.sort:null,u=r.createIndexes?r.indexes.map(l=>l.key):null,a=await s.encrypt(e.toString(),r,n);if(o!=null&&(r.find||r.findAndModify)&&(a.sort=o),u!=null&&r.createIndexes)for(let[l,f]of u.entries())a.indexes[l].key=f;let c=await super.command(e,a,n);return s.decrypt(c,n)}};Ws.CryptoConnection=n6});var o6=y(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.makeSocket=Yt.LEGAL_TCP_SOCKET_OPTIONS=Yt.LEGAL_TLS_SOCKET_OPTIONS=Yt.prepareHandshakeDocument=Yt.performInitialHandshake=Yt.makeConnection=Yt.connect=void 0;var P5=require("net"),pH=require("tls"),F5=It(),mH=ds(),vt=Y(),s6=ne(),yH=yi(),tp=ps(),B5=ep(),Ua=qo();async function gH(t){let e=null;try{let r=await rp(t);return e=N5(t,r),await $5(e,t),e}catch(r){throw e?.destroy(),r}}Yt.connect=gH;function N5(t,e){let r=t.connectionType??B5.Connection;return t.autoEncrypter&&(r=B5.CryptoConnection),new r(e,t)}Yt.makeConnection=N5;function EH(t,e){let r=Number(t.maxWireVersion),n=Number(t.minWireVersion),s=!Number.isNaN(r)&&r>=Ua.MIN_SUPPORTED_WIRE_VERSION,i=!Number.isNaN(n)&&n<=Ua.MAX_SUPPORTED_WIRE_VERSION;if(s){if(i)return null;let u=`Server at ${e.hostAddress} reports minimum wire version ${JSON.stringify(t.minWireVersion)}, but this version of the Node.js Driver requires at most ${Ua.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${Ua.MAX_SUPPORTED_SERVER_VERSION})`;return new vt.MongoCompatibilityError(u)}let o=`Server at ${e.hostAddress} reports maximum wire version ${JSON.stringify(t.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${Ua.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${Ua.MIN_SUPPORTED_SERVER_VERSION})`;return new vt.MongoCompatibilityError(o)}async function $5(t,e){let r=e.credentials;if(r&&r.mechanism!==tp.AuthMechanism.MONGODB_DEFAULT&&!e.authProviders.getOrCreateProvider(r.mechanism))throw new vt.MongoInvalidArgumentError(`AuthMechanism '${r.mechanism}' not supported`);let n=new yH.AuthContext(t,r,e);t.authContext=n;let s=await I5(n),i={...e};typeof e.connectTimeoutMS=="number"&&(i.socketTimeoutMS=e.connectTimeoutMS);let o=new Date().getTime(),u=await t.command((0,s6.ns)("admin.$cmd"),s,i);"isWritablePrimary"in u||(u.isWritablePrimary=u[F5.LEGACY_HELLO_COMMAND]),u.helloOk&&(t.helloOk=!0);let a=EH(u,e);if(a)throw a;if(e.loadBalanced&&!u.serviceId)throw new vt.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.");if(t.hello=u,t.lastHelloMS=new Date().getTime()-o,!u.arbiterOnly&&r){n.response=u;let c=r.resolveAuthMechanism(u),l=e.authProviders.getOrCreateProvider(c.mechanism);if(!l)throw new vt.MongoInvalidArgumentError(`No AuthProvider for ${c.mechanism} defined.`);try{await l.auth(n)}catch(f){throw f instanceof vt.MongoError&&(f.addErrorLabel(vt.MongoErrorLabel.HandshakeError),(0,vt.needsRetryableWriteLabel)(f,u.maxWireVersion)&&f.addErrorLabel(vt.MongoErrorLabel.RetryableWriteError)),f}}t.established=!0}Yt.performInitialHandshake=$5;async function I5(t){let e=t.options,r=e.compressors?e.compressors:[],{serverApi:n}=t.connection,s=await e.extendedMetadata,i={[n?.version||e.loadBalanced===!0?"hello":F5.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:s,compression:r};e.loadBalanced===!0&&(i.loadBalanced=!0);let o=t.credentials;if(o){if(o.mechanism===tp.AuthMechanism.MONGODB_DEFAULT&&o.username){i.saslSupportedMechs=`${o.source}.${o.username}`;let a=t.options.authProviders.getOrCreateProvider(tp.AuthMechanism.MONGODB_SCRAM_SHA256);if(!a)throw new vt.MongoInvalidArgumentError(`No AuthProvider for ${tp.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return a.prepare(i,t)}let u=t.options.authProviders.getOrCreateProvider(o.mechanism);if(!u)throw new vt.MongoInvalidArgumentError(`No AuthProvider for ${o.mechanism} defined.`);return u.prepare(i,t)}return i}Yt.prepareHandshakeDocument=I5;Yt.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];Yt.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];function i6(t){let e=t.hostAddress;if(!e)throw new vt.MongoInvalidArgumentError('Option "hostAddress" is required');let r={};for(let n of Yt.LEGAL_TCP_SOCKET_OPTIONS)t[n]!=null&&(r[n]=t[n]);if(typeof e.socketPath=="string")return r.path=e.socketPath,r;if(typeof e.host=="string")return r.host=e.host,r.port=e.port,r;throw new vt.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(e)}`)}function _H(t){let e=i6(t);for(let r of Yt.LEGAL_TLS_SOCKET_OPTIONS)t[r]!=null&&(e[r]=t[r]);return t.existingSocket&&(e.socket=t.existingSocket),e.servername==null&&e.host&&!P5.isIP(e.host)&&(e.servername=e.host),e}async function rp(t){let e=t.tls??!1,r=t.noDelay??!0,n=t.connectTimeoutMS??3e4,s=t.existingSocket,i;if(t.proxyHost!=null)return OH({...t,connectTimeoutMS:n});if(e){let l=pH.connect(_H(t));typeof l.disableRenegotiation=="function"&&l.disableRenegotiation(),i=l}else s?i=s:i=P5.createConnection(i6(t));i.setKeepAlive(!0,3e5),i.setTimeout(n),i.setNoDelay(r);let o=null,{promise:u,resolve:a,reject:c}=(0,s6.promiseWithResolvers)();if(s)a(i);else{let l=e?"secureConnect":"connect";i.once(l,()=>a(i)).once("error",f=>c(el("error",f))).once("timeout",()=>c(el("timeout"))).once("close",()=>c(el("close"))),t.cancellationToken!=null&&(o=()=>c(el("cancel")),t.cancellationToken.once("cancel",o))}try{return i=await u,i}catch(l){throw i.destroy(),l}finally{i.setTimeout(0),i.removeAllListeners(),o!=null&&t.cancellationToken?.removeListener("cancel",o)}}Yt.makeSocket=rp;var tl=null;function AH(){if(tl==null){let t=(0,mH.getSocks)();if("kModuleError"in t)throw t.kModuleError;tl=t}return tl}async function OH(t){let e=s6.HostAddress.fromHostPort(t.proxyHost??"",t.proxyPort??1080),r=await rp({...t,hostAddress:e,tls:!1,proxyHost:void 0}),n=i6(t);if(typeof n.host!="string"||typeof n.port!="number")throw new vt.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts");tl??(tl=AH());try{let{socket:s}=await tl.SocksClient.createConnection({existing_socket:r,timeout:t.connectTimeoutMS,command:"connect",destination:{host:n.host,port:n.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:t.proxyUsername||void 0,password:t.proxyPassword||void 0}});return await rp({...t,existingSocket:s,proxyHost:void 0})}catch(s){throw el("error",s)}}function el(t,e){switch(t){case"error":return new vt.MongoNetworkError(vt.MongoError.buildErrorMessage(e),{cause:e});case"timeout":return new vt.MongoNetworkTimeoutError("connection timed out");case"close":return new vt.MongoNetworkError("connection closed");case"cancel":return new vt.MongoNetworkError("connection establishment was cancelled");default:return new vt.MongoNetworkError("unknown network error")}}});var np=y(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.ServerHeartbeatFailedEvent=kt.ServerHeartbeatSucceededEvent=kt.ServerHeartbeatStartedEvent=kt.TopologyClosedEvent=kt.TopologyOpeningEvent=kt.TopologyDescriptionChangedEvent=kt.ServerClosedEvent=kt.ServerOpeningEvent=kt.ServerDescriptionChangedEvent=void 0;var Oi=It(),u6=class{constructor(e,r,n,s){this.name=Oi.SERVER_DESCRIPTION_CHANGED,this.topologyId=e,this.address=r,this.previousDescription=n,this.newDescription=s}};kt.ServerDescriptionChangedEvent=u6;var a6=class{constructor(e,r){this.name=Oi.SERVER_OPENING,this.topologyId=e,this.address=r}};kt.ServerOpeningEvent=a6;var c6=class{constructor(e,r){this.name=Oi.SERVER_CLOSED,this.topologyId=e,this.address=r}};kt.ServerClosedEvent=c6;var l6=class{constructor(e,r,n){this.name=Oi.TOPOLOGY_DESCRIPTION_CHANGED,this.topologyId=e,this.previousDescription=r,this.newDescription=n}};kt.TopologyDescriptionChangedEvent=l6;var f6=class{constructor(e){this.name=Oi.TOPOLOGY_OPENING,this.topologyId=e}};kt.TopologyOpeningEvent=f6;var h6=class{constructor(e){this.name=Oi.TOPOLOGY_CLOSED,this.topologyId=e}};kt.TopologyClosedEvent=h6;var d6=class{constructor(e,r){this.name=Oi.SERVER_HEARTBEAT_STARTED,this.connectionId=e,this.awaited=r}};kt.ServerHeartbeatStartedEvent=d6;var p6=class{constructor(e,r,n,s){this.name=Oi.SERVER_HEARTBEAT_SUCCEEDED,this.connectionId=e,this.duration=r,this.reply=n??{},this.awaited=s}};kt.ServerHeartbeatSucceededEvent=p6;var m6=class{constructor(e,r,n,s){this.name=Oi.SERVER_HEARTBEAT_FAILED,this.connectionId=e,this.duration=r,this.failure=n,this.awaited=s}};kt.ServerHeartbeatFailedEvent=m6});var T6=y(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.ConnectionPoolClearedEvent=st.ConnectionCheckedInEvent=st.ConnectionCheckedOutEvent=st.ConnectionCheckOutFailedEvent=st.ConnectionCheckOutStartedEvent=st.ConnectionClosedEvent=st.ConnectionReadyEvent=st.ConnectionCreatedEvent=st.ConnectionPoolClosedEvent=st.ConnectionPoolReadyEvent=st.ConnectionPoolCreatedEvent=st.ConnectionPoolMonitoringEvent=void 0;var _s=It(),Yr=class{constructor(e){this.time=new Date,this.address=e.address}};st.ConnectionPoolMonitoringEvent=Yr;var y6=class extends Yr{constructor(e){super(e),this.name=_s.CONNECTION_POOL_CREATED;let{maxConnecting:r,maxPoolSize:n,minPoolSize:s,maxIdleTimeMS:i,waitQueueTimeoutMS:o}=e.options;this.options={maxConnecting:r,maxPoolSize:n,minPoolSize:s,maxIdleTimeMS:i,waitQueueTimeoutMS:o}}};st.ConnectionPoolCreatedEvent=y6;var g6=class extends Yr{constructor(e){super(e),this.name=_s.CONNECTION_POOL_READY}};st.ConnectionPoolReadyEvent=g6;var E6=class extends Yr{constructor(e){super(e),this.name=_s.CONNECTION_POOL_CLOSED}};st.ConnectionPoolClosedEvent=E6;var _6=class extends Yr{constructor(e,r){super(e),this.name=_s.CONNECTION_CREATED,this.connectionId=r.id}};st.ConnectionCreatedEvent=_6;var A6=class extends Yr{constructor(e,r){super(e),this.name=_s.CONNECTION_READY,this.connectionId=r.id}};st.ConnectionReadyEvent=A6;var O6=class extends Yr{constructor(e,r,n,s){super(e),this.name=_s.CONNECTION_CLOSED,this.connectionId=r.id,this.reason=n,this.serviceId=r.serviceId,this.error=s??null}};st.ConnectionClosedEvent=O6;var C6=class extends Yr{constructor(e){super(e),this.name=_s.CONNECTION_CHECK_OUT_STARTED}};st.ConnectionCheckOutStartedEvent=C6;var S6=class extends Yr{constructor(e,r,n){super(e),this.name=_s.CONNECTION_CHECK_OUT_FAILED,this.reason=r,this.error=n}};st.ConnectionCheckOutFailedEvent=S6;var w6=class extends Yr{constructor(e,r){super(e),this.name=_s.CONNECTION_CHECKED_OUT,this.connectionId=r.id}};st.ConnectionCheckedOutEvent=w6;var b6=class extends Yr{constructor(e,r){super(e),this.name=_s.CONNECTION_CHECKED_IN,this.connectionId=r.id}};st.ConnectionCheckedInEvent=b6;var D6=class extends Yr{constructor(e,r={}){super(e),this.name=_s.CONNECTION_POOL_CLEARED,this.serviceId=r.serviceId,this.interruptInUseConnections=r.interruptInUseConnections}};st.ConnectionPoolClearedEvent=D6});var F6=y(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.WaitQueueTimeoutError=Gs.PoolClearedOnNetworkError=Gs.PoolClearedError=Gs.PoolClosedError=void 0;var sp=Y(),M6=class extends sp.MongoDriverError{constructor(e){super("Attempted to check out a connection from closed connection pool"),this.address=e.address}get name(){return"MongoPoolClosedError"}};Gs.PoolClosedError=M6;var ip=class extends sp.MongoNetworkError{constructor(e,r){let n=r||`Connection pool for ${e.address} was cleared because another operation failed with: "${e.serverError?.message}"`;super(n,e.serverError?{cause:e.serverError}:void 0),this.address=e.address,this.addErrorLabel(sp.MongoErrorLabel.PoolRequstedRetry)}get name(){return"MongoPoolClearedError"}};Gs.PoolClearedError=ip;var B6=class extends ip{constructor(e){super(e,`Connection to ${e.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}};Gs.PoolClearedOnNetworkError=B6;var P6=class extends sp.MongoDriverError{constructor(e,r){super(e),this.address=r}get name(){return"MongoWaitQueueTimeoutError"}};Gs.WaitQueueTimeoutError=P6});var v5=y(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ConnectionPool=ir.PoolState=void 0;var Va=require("timers"),zn=It(),Ci=Y(),R5=gn(),rl=ne(),CH=o6(),op=ep(),sr=T6(),za=F6(),SH=tg(),Wa=Symbol("server"),Si=Symbol("connections"),Ga=Symbol("pending"),po=Symbol("checkedOut"),hu=Symbol("minPoolSizeTimer"),Ha=Symbol("generation"),x5=Symbol("serviceGenerations"),up=Symbol("connectionCounter"),ap=Symbol("cancellationToken"),wi=Symbol("waitQueue"),cp=Symbol("cancelled"),lp=Symbol("metrics"),fp=Symbol("processingWaitQueue"),As=Symbol("poolState");ir.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});var $e=class extends R5.TypedEventEmitter{constructor(e,r){if(super(),this.options=Object.freeze({connectionType:op.Connection,...r,maxPoolSize:r.maxPoolSize??100,minPoolSize:r.minPoolSize??0,maxConnecting:r.maxConnecting??2,maxIdleTimeMS:r.maxIdleTimeMS??0,waitQueueTimeoutMS:r.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:r.minPoolSizeCheckFrequencyMS??100,autoEncrypter:r.autoEncrypter}),this.options.minPoolSize>this.options.maxPoolSize)throw new Ci.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[As]=ir.PoolState.paused,this[Wa]=e,this[Si]=new rl.List,this[Ga]=0,this[po]=new Set,this[hu]=void 0,this[Ha]=0,this[x5]=new Map,this[up]=(0,rl.makeCounter)(1),this[ap]=new R5.CancellationToken,this[ap].setMaxListeners(1/0),this[wi]=new rl.List,this[lp]=new SH.ConnectionPoolMetrics,this[fp]=!1,this.mongoLogger=this[Wa].topology.client?.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog($e.CONNECTION_POOL_CREATED,new sr.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[As]===ir.PoolState.closed}get generation(){return this[Ha]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[Si].length}get pendingConnectionCount(){return this[Ga]}get currentCheckedOutCount(){return this[po].size}get waitQueueSize(){return this[wi].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[x5]}get serverError(){return this[Wa].description.error}get checkedOutConnections(){return this[po]}waitQueueErrorMetrics(){return this[lp].info(this.options.maxPoolSize)}ready(){this[As]===ir.PoolState.paused&&(this[As]=ir.PoolState.ready,this.emitAndLog($e.CONNECTION_POOL_READY,new sr.ConnectionPoolReadyEvent(this)),(0,Va.clearTimeout)(this[hu]),this.ensureMinPoolSize())}async checkOut(){this.emitAndLog($e.CONNECTION_CHECK_OUT_STARTED,new sr.ConnectionCheckOutStartedEvent(this));let e=this.options.waitQueueTimeoutMS,{promise:r,resolve:n,reject:s}=(0,rl.promiseWithResolvers)(),i={resolve:n,reject:s,timeoutController:new rl.TimeoutController(e)};return i.timeoutController.signal.addEventListener("abort",()=>{i[cp]=!0,i.timeoutController.clear(),this.emitAndLog($e.CONNECTION_CHECK_OUT_FAILED,new sr.ConnectionCheckOutFailedEvent(this,"timeout")),i.reject(new za.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[wi].push(i),process.nextTick(()=>this.processWaitQueue()),r}checkIn(e){if(!this[po].has(e))return;let r=this.closed,n=this.connectionIsStale(e),s=!!(r||n||e.closed);if(s||(e.markAvailable(),this[Si].unshift(e)),this[po].delete(e),this.emitAndLog($e.CONNECTION_CHECKED_IN,new sr.ConnectionCheckedInEvent(this,e)),s){let i=e.closed?"error":r?"poolClosed":"stale";this.destroyConnection(e,i)}process.nextTick(()=>this.processWaitQueue())}clear(e={}){if(this.closed)return;if(this.loadBalanced){let{serviceId:i}=e;if(!i)throw new Ci.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");let o=i.toHexString(),u=this.serviceGenerations.get(o);if(u==null)throw new Ci.MongoRuntimeError("Service generations are required in load balancer mode.");this.serviceGenerations.set(o,u+1),this.emitAndLog($e.CONNECTION_POOL_CLEARED,new sr.ConnectionPoolClearedEvent(this,{serviceId:i}));return}let r=e.interruptInUseConnections??!1,n=this[Ha];this[Ha]+=1;let s=this[As]===ir.PoolState.paused;this[As]=ir.PoolState.paused,this.clearMinPoolSizeTimer(),s||this.emitAndLog($e.CONNECTION_POOL_CLEARED,new sr.ConnectionPoolClearedEvent(this,{interruptInUseConnections:r})),r&&process.nextTick(()=>this.interruptInUseConnections(n)),this.processWaitQueue()}interruptInUseConnections(e){for(let r of this[po])r.generation<=e&&(r.onError(new za.PoolClearedOnNetworkError(this)),this.checkIn(r))}close(){if(!this.closed){this[ap].emit("cancel"),typeof this[up].return=="function"&&this[up].return(void 0),this[As]=ir.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue();for(let e of this[Si])this.emitAndLog($e.CONNECTION_CLOSED,new sr.ConnectionClosedEvent(this,e,"poolClosed")),e.destroy();this[Si].clear(),this.emitAndLog($e.CONNECTION_POOL_CLOSED,new sr.ConnectionPoolClosedEvent(this))}}async reauthenticate(e){let r=e.authContext;if(!r)throw new Ci.MongoRuntimeError("No auth context found on connection.");let n=r.credentials;if(!n)throw new Ci.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate");let s=n.resolveAuthMechanism(e.hello),i=this[Wa].topology.client.s.authProviders.getOrCreateProvider(s.mechanism);if(!i)throw new Ci.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${n.mechanism}`);await i.reauth(r)}clearMinPoolSizeTimer(){let e=this[hu];e&&(0,Va.clearTimeout)(e)}destroyConnection(e,r){this.emitAndLog($e.CONNECTION_CLOSED,new sr.ConnectionClosedEvent(this,e,r)),e.destroy()}connectionIsStale(e){let r=e.serviceId;if(this.loadBalanced&&r){let n=r.toHexString(),s=this.serviceGenerations.get(n);return e.generation!==s}return e.generation!==this[Ha]}connectionIsIdle(e){return!!(this.options.maxIdleTimeMS&&e.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(e){let r=this.connectionIsStale(e),n=this.connectionIsIdle(e);if(!r&&!n&&!e.closed)return!1;let s=e.closed?"error":r?"stale":"idle";return this.destroyConnection(e,s),!0}createConnection(e){let r={...this.options,id:this[up].next().value,generation:this[Ha],cancellationToken:this[ap],mongoLogger:this.mongoLogger,authProviders:this[Wa].topology.client.s.authProviders};this[Ga]++,this.emitAndLog($e.CONNECTION_CREATED,new sr.ConnectionCreatedEvent(this,{id:r.id})),(0,CH.connect)(r).then(n=>{if(this[As]!==ir.PoolState.ready){this[Ga]--,n.destroy(),e(this.closed?new za.PoolClosedError(this):new za.PoolClearedError(this));return}for(let s of[...zn.APM_EVENTS,op.Connection.CLUSTER_TIME_RECEIVED])n.on(s,i=>this.emit(s,i));if(this.loadBalanced){n.on(op.Connection.PINNED,i=>this[lp].markPinned(i)),n.on(op.Connection.UNPINNED,i=>this[lp].markUnpinned(i));let s=n.serviceId;if(s){let i,o=s.toHexString();(i=this.serviceGenerations.get(o))?n.generation=i:(this.serviceGenerations.set(o,0),n.generation=0)}}n.markAvailable(),this.emitAndLog($e.CONNECTION_READY,new sr.ConnectionReadyEvent(this,n)),this[Ga]--,e(void 0,n)},n=>{this[Ga]--,this.emitAndLog($e.CONNECTION_CLOSED,new sr.ConnectionClosedEvent(this,{id:r.id,serviceId:void 0},"error",n)),(n instanceof Ci.MongoNetworkError||n instanceof Ci.MongoServerError)&&(n.connectionGeneration=r.generation),e(n??new Ci.MongoRuntimeError("Connection creation failed without error"))})}ensureMinPoolSize(){let e=this.options.minPoolSize;this[As]!==ir.PoolState.ready||e===0||(this[Si].prune(r=>this.destroyConnectionIfPerished(r)),this.totalConnectionCount<e&&this.pendingConnectionCount<this.options.maxConnecting?this.createConnection((r,n)=>{r&&this[Wa].handleError(r),!r&&n&&(this[Si].push(n),process.nextTick(()=>this.processWaitQueue())),this[As]===ir.PoolState.ready&&((0,Va.clearTimeout)(this[hu]),this[hu]=(0,Va.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS))}):((0,Va.clearTimeout)(this[hu]),this[hu]=(0,Va.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)))}processWaitQueue(){if(this[fp])return;for(this[fp]=!0;this.waitQueueSize;){let n=this[wi].first();if(!n){this[wi].shift();continue}if(n[cp]){this[wi].shift();continue}if(this[As]!==ir.PoolState.ready){let i=this.closed?"poolClosed":"connectionError",o=this.closed?new za.PoolClosedError(this):new za.PoolClearedError(this);this.emitAndLog($e.CONNECTION_CHECK_OUT_FAILED,new sr.ConnectionCheckOutFailedEvent(this,i,o)),n.timeoutController.clear(),this[wi].shift(),n.reject(o);continue}if(!this.availableConnectionCount)break;let s=this[Si].shift();if(!s)break;this.destroyConnectionIfPerished(s)||(this[po].add(s),this.emitAndLog($e.CONNECTION_CHECKED_OUT,new sr.ConnectionCheckedOutEvent(this,s)),n.timeoutController.clear(),this[wi].shift(),n.resolve(s))}let{maxPoolSize:e,maxConnecting:r}=this.options;for(;this.waitQueueSize>0&&this.pendingConnectionCount<r&&(e===0||this.totalConnectionCount<e);){let n=this[wi].shift();!n||n[cp]||this.createConnection((s,i)=>{n[cp]?!s&&i&&this[Si].push(i):(s?(this.emitAndLog($e.CONNECTION_CHECK_OUT_FAILED,new sr.ConnectionCheckOutFailedEvent(this,"connectionError",s)),n.reject(s)):i&&(this[po].add(i),this.emitAndLog($e.CONNECTION_CHECKED_OUT,new sr.ConnectionCheckedOutEvent(this,i)),n.resolve(i)),n.timeoutController.clear()),process.nextTick(()=>this.processWaitQueue())})}this[fp]=!1}};$e.CONNECTION_POOL_CREATED=zn.CONNECTION_POOL_CREATED;$e.CONNECTION_POOL_CLOSED=zn.CONNECTION_POOL_CLOSED;$e.CONNECTION_POOL_CLEARED=zn.CONNECTION_POOL_CLEARED;$e.CONNECTION_POOL_READY=zn.CONNECTION_POOL_READY;$e.CONNECTION_CREATED=zn.CONNECTION_CREATED;$e.CONNECTION_READY=zn.CONNECTION_READY;$e.CONNECTION_CLOSED=zn.CONNECTION_CLOSED;$e.CONNECTION_CHECK_OUT_STARTED=zn.CONNECTION_CHECK_OUT_STARTED;$e.CONNECTION_CHECK_OUT_FAILED=zn.CONNECTION_CHECK_OUT_FAILED;$e.CONNECTION_CHECKED_OUT=zn.CONNECTION_CHECKED_OUT;$e.CONNECTION_CHECKED_IN=zn.CONNECTION_CHECKED_IN;ir.ConnectionPool=$e});var x6=y(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.Server=void 0;var wH=ep(),bH=v5(),DH=F6(),Hs=It(),lt=Y(),TH=gn(),I6=ag(),hp=ne(),Ze=dn(),MH=v6(),R6=O1(),nl=(0,hp.makeStateMachine)({[Ze.STATE_CLOSED]:[Ze.STATE_CLOSED,Ze.STATE_CONNECTING],[Ze.STATE_CONNECTING]:[Ze.STATE_CONNECTING,Ze.STATE_CLOSING,Ze.STATE_CONNECTED,Ze.STATE_CLOSED],[Ze.STATE_CONNECTED]:[Ze.STATE_CONNECTED,Ze.STATE_CLOSING,Ze.STATE_CLOSED],[Ze.STATE_CLOSING]:[Ze.STATE_CLOSING,Ze.STATE_CLOSED]}),Cr=class extends TH.TypedEventEmitter{constructor(e,r,n){super(),this.serverApi=n.serverApi;let s={hostAddress:r.hostAddress,...n};this.topology=e,this.pool=new bH.ConnectionPool(this,s),this.s={description:r,options:n,state:Ze.STATE_CLOSED,operationCount:0};for(let i of[...Hs.CMAP_EVENTS,...Hs.APM_EVENTS])this.pool.on(i,o=>this.emit(i,o));if(this.pool.on(wH.Connection.CLUSTER_TIME_RECEIVED,i=>{this.clusterTime=i}),this.loadBalanced){this.monitor=null;return}this.monitor=new MH.Monitor(this,this.s.options);for(let i of Hs.HEARTBEAT_EVENTS)this.monitor.on(i,o=>this.emit(i,o));this.monitor.on("resetServer",i=>N6(this,i)),this.monitor.on(Cr.SERVER_HEARTBEAT_SUCCEEDED,i=>{this.emit(Cr.DESCRIPTION_RECEIVED,new R6.ServerDescription(this.description.hostAddress,i.reply,{roundTripTime:BH(this.description.roundTripTime,i.duration)})),this.s.state===Ze.STATE_CONNECTING&&(nl(this,Ze.STATE_CONNECTED),this.emit(Cr.CONNECT,this))})}get clusterTime(){return this.topology.clusterTime}set clusterTime(e){this.topology.clusterTime=e}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter}get loadBalanced(){return this.topology.description.type===Ze.TopologyType.LoadBalanced}connect(){this.s.state===Ze.STATE_CLOSED&&(nl(this,Ze.STATE_CONNECTING),this.loadBalanced?(nl(this,Ze.STATE_CONNECTED),this.emit(Cr.CONNECT,this)):this.monitor?.connect())}destroy(){this.s.state!==Ze.STATE_CLOSED&&(nl(this,Ze.STATE_CLOSING),this.loadBalanced||this.monitor?.close(),this.pool.close(),nl(this,Ze.STATE_CLOSED),this.emit("closed"))}requestCheck(){this.loadBalanced||this.monitor?.requestCheck()}async command(e,r,n){if(e.db==null||typeof e=="string")throw new lt.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===Ze.STATE_CLOSING||this.s.state===Ze.STATE_CLOSED)throw new lt.MongoServerClosedError;let s=Object.assign({},n,{wireProtocolCommand:!1,directConnection:this.topology.s.options.directConnection});s.omitReadPreference&&delete s.readPreference;let i=s.session,o=i?.pinnedConnection;if(this.incrementOperationCount(),o==null)try{o=await this.pool.checkOut(),this.loadBalanced&&PH(r,i)&&i?.pin(o)}catch(u){throw this.decrementOperationCount(),u instanceof DH.PoolClearedError||this.handleError(u),u}try{try{return await o.command(e,r,s)}catch(u){throw this.decorateCommandError(o,r,s,u)}}catch(u){if(u instanceof lt.MongoError&&u.code===lt.MONGODB_ERROR_CODES.Reauthenticate){await this.pool.reauthenticate(o);try{return await o.command(e,r,s)}catch(a){throw this.decorateCommandError(o,r,s,a)}}else throw u}finally{this.decrementOperationCount(),i?.pinnedConnection!==o&&this.pool.checkIn(o)}}handleError(e,r){if(!(e instanceof lt.MongoError)||e.connectionGeneration&&e.connectionGeneration<this.pool.generation)return;let s=e instanceof lt.MongoNetworkError&&!(e instanceof lt.MongoNetworkTimeoutError),i=(0,lt.isNetworkErrorBeforeHandshake)(e),o=e.hasErrorLabel(lt.MongoErrorLabel.HandshakeError);if(s||i||o)this.loadBalanced?r&&this.pool.clear({serviceId:r.serviceId}):(e.addErrorLabel(lt.MongoErrorLabel.ResetPool),N6(this,e));else if((0,lt.isSDAMUnrecoverableError)(e)&&NH(this,e)){let u=(0,hp.maxWireVersion)(this)<=7||(0,lt.isNodeShuttingDownError)(e);this.loadBalanced&&r&&u&&this.pool.clear({serviceId:r.serviceId}),this.loadBalanced||(u&&e.addErrorLabel(lt.MongoErrorLabel.ResetPool),N6(this,e),process.nextTick(()=>this.requestCheck()))}}decorateCommandError(e,r,n,s){if(typeof s!="object"||s==null||!("name"in s))throw new lt.MongoRuntimeError("An unexpected error type: "+typeof s);if(s.name==="AbortError"&&"cause"in s&&s.cause instanceof lt.MongoError&&(s=s.cause),!(s instanceof lt.MongoError)||FH(this.pool,e))return s;let i=n?.session;return s instanceof lt.MongoNetworkError?(i&&!i.hasEnded&&i.serverSession&&(i.serverSession.isDirty=!0),$6(i,r)&&!s.hasErrorLabel(lt.MongoErrorLabel.TransientTransactionError)&&s.addErrorLabel(lt.MongoErrorLabel.TransientTransactionError),(k5(this.topology)||(0,I6.isTransactionCommand)(r))&&(0,hp.supportsRetryableWrites)(this)&&!$6(i,r)&&s.addErrorLabel(lt.MongoErrorLabel.RetryableWriteError)):(k5(this.topology)||(0,I6.isTransactionCommand)(r))&&(0,lt.needsRetryableWriteLabel)(s,(0,hp.maxWireVersion)(this))&&!$6(i,r)&&s.addErrorLabel(lt.MongoErrorLabel.RetryableWriteError),i&&i.isPinned&&s.hasErrorLabel(lt.MongoErrorLabel.TransientTransactionError)&&i.unpin({force:!0}),this.handleError(s,e),s}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}};Cr.SERVER_HEARTBEAT_STARTED=Hs.SERVER_HEARTBEAT_STARTED;Cr.SERVER_HEARTBEAT_SUCCEEDED=Hs.SERVER_HEARTBEAT_SUCCEEDED;Cr.SERVER_HEARTBEAT_FAILED=Hs.SERVER_HEARTBEAT_FAILED;Cr.CONNECT=Hs.CONNECT;Cr.DESCRIPTION_RECEIVED=Hs.DESCRIPTION_RECEIVED;Cr.CLOSED=Hs.CLOSED;Cr.ENDED=Hs.ENDED;dp.Server=Cr;function BH(t,e){if(t===-1)return e;let r=.2;return r*e+(1-r)*t}function N6(t,e){t.loadBalanced||(e instanceof lt.MongoNetworkError&&!(e instanceof lt.MongoNetworkTimeoutError)&&t.monitor?.reset(),t.emit(Cr.DESCRIPTION_RECEIVED,new R6.ServerDescription(t.description.hostAddress,void 0,{error:e})))}function PH(t,e){return e?e.inTransaction()||e.transaction.isCommitted&&"commitTransaction"in t||"aggregate"in t||"find"in t||"getMore"in t||"listCollections"in t||"listIndexes"in t:!1}function FH(t,e){return e.serviceId?e.generation!==t.serviceGenerations.get(e.serviceId.toHexString()):e.generation!==t.generation}function NH(t,e){let r=e.topologyVersion,n=t.description.topologyVersion;return(0,R6.compareTopologyVersion)(n,r)<0}function $6(t,e){return t&&t.inTransaction()&&!(0,I6.isTransactionCommand)(e)}function k5(t){return t.s.options.retryWrites!==!1}});var v6=y(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.MonitorInterval=Wn.RTTPinger=Wn.Monitor=Wn.ServerMonitoringMode=void 0;var mo=require("timers"),q5=Ke(),pp=o6(),$H=w3(),k6=It(),Ka=Y(),IH=Ko(),L5=gn(),Br=ne(),or=dn(),sl=np(),il=x6(),Ks=Symbol("server"),Ys=Symbol("monitorId"),pu=Symbol("cancellationToken"),ol=Symbol("roundTripTime"),Ya="idle",du="monitoring",Qa=(0,Br.makeStateMachine)({[or.STATE_CLOSING]:[or.STATE_CLOSING,Ya,or.STATE_CLOSED],[or.STATE_CLOSED]:[or.STATE_CLOSED,du],[Ya]:[Ya,du,or.STATE_CLOSING],[du]:[du,Ya,or.STATE_CLOSING]}),RH=new Set([or.STATE_CLOSING,or.STATE_CLOSED,du]);function ul(t){return t.s.state===or.STATE_CLOSED||t.s.state===or.STATE_CLOSING}Wn.ServerMonitoringMode=Object.freeze({auto:"auto",poll:"poll",stream:"stream"});var q6=class extends L5.TypedEventEmitter{constructor(e,r){super(),this.component=IH.MongoLoggableComponent.TOPOLOGY,this[Ks]=e,this.connection=null,this[pu]=new L5.CancellationToken,this[pu].setMaxListeners(1/0),this[Ys]=void 0,this.s={state:or.STATE_CLOSED},this.address=e.description.address,this.options=Object.freeze({connectTimeoutMS:r.connectTimeoutMS??1e4,heartbeatFrequencyMS:r.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:r.minHeartbeatFrequencyMS??500,serverMonitoringMode:r.serverMonitoringMode}),this.isRunningInFaasEnv=(0,$H.getFAASEnv)()!=null,this.mongoLogger=this[Ks].topology.client?.mongoLogger;let n=this[pu],s={id:"<monitor>",generation:e.pool.generation,cancellationToken:n,hostAddress:e.description.hostAddress,...r,raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0};delete s.credentials,s.autoEncrypter&&delete s.autoEncrypter,this.connectOptions=Object.freeze(s)}connect(){if(this.s.state!==or.STATE_CLOSED)return;let e=this.options.heartbeatFrequencyMS,r=this.options.minHeartbeatFrequencyMS;this[Ys]=new al(U5(this),{heartbeatFrequencyMS:e,minHeartbeatFrequencyMS:r,immediate:!0})}requestCheck(){RH.has(this.s.state)||this[Ys]?.wake()}reset(){let e=this[Ks].description.topologyVersion;if(ul(this)||e==null)return;Qa(this,or.STATE_CLOSING),j5(this),Qa(this,Ya);let r=this.options.heartbeatFrequencyMS,n=this.options.minHeartbeatFrequencyMS;this[Ys]=new al(U5(this),{heartbeatFrequencyMS:r,minHeartbeatFrequencyMS:n})}close(){ul(this)||(Qa(this,or.STATE_CLOSING),j5(this),this.emit("close"),Qa(this,or.STATE_CLOSED))}};Wn.Monitor=q6;function j5(t){t[Ys]?.stop(),t[Ys]=void 0,t.rttPinger?.close(),t.rttPinger=void 0,t[pu].emit("cancel"),t.connection?.destroy(),t.connection=null}function L6(t,e){if(e==null)return!1;let r=t.options.serverMonitoringMode;return r===Wn.ServerMonitoringMode.poll?!1:r===Wn.ServerMonitoringMode.stream?!0:!t.isRunningInFaasEnv}function xH(t,e){let r,n,s=t[Ks].description.topologyVersion,i=L6(t,s);t.emitAndLogHeartbeat(il.Server.SERVER_HEARTBEAT_STARTED,t[Ks].topology.s.id,void 0,new sl.ServerHeartbeatStartedEvent(t.address,i));function o(c){t.connection?.destroy(),t.connection=null,t.emitAndLogHeartbeat(il.Server.SERVER_HEARTBEAT_FAILED,t[Ks].topology.s.id,void 0,new sl.ServerHeartbeatFailedEvent(t.address,(0,Br.calculateDurationInMs)(r),c,n));let l=c instanceof Ka.MongoError?c:new Ka.MongoError(Ka.MongoError.buildErrorMessage(c),{cause:c});l.addErrorLabel(Ka.MongoErrorLabel.ResetPool),l instanceof Ka.MongoNetworkTimeoutError&&l.addErrorLabel(Ka.MongoErrorLabel.InterruptInUseConnections),t.emit("resetServer",l),e(c)}function u(c){"isWritablePrimary"in c||(c.isWritablePrimary=c[k6.LEGACY_HELLO_COMMAND]);let l=i&&t.rttPinger?t.rttPinger.roundTripTime:(0,Br.calculateDurationInMs)(r);t.emitAndLogHeartbeat(il.Server.SERVER_HEARTBEAT_SUCCEEDED,t[Ks].topology.s.id,c.connectionId,new sl.ServerHeartbeatSucceededEvent(t.address,l,c,i)),i?(t.emitAndLogHeartbeat(il.Server.SERVER_HEARTBEAT_STARTED,t[Ks].topology.s.id,void 0,new sl.ServerHeartbeatStartedEvent(t.address,!0)),r=(0,Br.now)()):(t.rttPinger?.close(),t.rttPinger=void 0,e(void 0,c))}let{connection:a}=t;if(a&&!a.closed){let{serverApi:c,helloOk:l}=a,f=t.options.connectTimeoutMS,h=t.options.heartbeatFrequencyMS,d={[c?.version||l?"hello":k6.LEGACY_HELLO_COMMAND]:1,...i&&s?{maxAwaitTimeMS:h,topologyVersion:vH(s)}:{}},p=i?{socketTimeoutMS:f?f+h:0,exhaustAllowed:!0}:{socketTimeoutMS:f};if(i&&t.rttPinger==null&&(t.rttPinger=new mp(t[pu],Object.assign({heartbeatFrequencyMS:t.options.heartbeatFrequencyMS},t.connectOptions))),r=(0,Br.now)(),i)return n=!0,a.exhaustCommand((0,Br.ns)("admin.$cmd"),d,p,(m,g)=>m?o(m):u(g));n=!1,a.command((0,Br.ns)("admin.$cmd"),d,p).then(u,o);return}(async()=>{let c=await(0,pp.makeSocket)(t.connectOptions),l=(0,pp.makeConnection)(t.connectOptions,c);r=(0,Br.now)();try{return await(0,pp.performInitialHandshake)(l,t.connectOptions),l}catch(f){throw l.destroy(),f}})().then(c=>{if(ul(t)){c.destroy();return}t.connection=c,t.emitAndLogHeartbeat(il.Server.SERVER_HEARTBEAT_SUCCEEDED,t[Ks].topology.s.id,c.hello?.connectionId,new sl.ServerHeartbeatSucceededEvent(t.address,(0,Br.calculateDurationInMs)(r),c.hello,L6(t,c.hello?.topologyVersion))),e(void 0,c.hello)},c=>{t.connection=null,n=!1,o(c)})}function U5(t){return e=>{if(t.s.state===du){process.nextTick(e);return}Qa(t,du);function r(){ul(t)||Qa(t,Ya),e()}xH(t,(n,s)=>{if(n&&t[Ks].description.type===or.ServerType.Unknown)return r();L6(t,s?.topologyVersion)&&(0,mo.setTimeout)(()=>{ul(t)||t[Ys]?.wake()},0),r()})}}function vH(t){return{processId:t.processId,counter:q5.Long.isLong(t.counter)?t.counter:q5.Long.fromNumber(t.counter)}}var mp=class{constructor(e,r){this.connection=void 0,this[pu]=e,this[ol]=0,this.closed=!1;let n=r.heartbeatFrequencyMS;this[Ys]=(0,mo.setTimeout)(()=>V5(this,r),n)}get roundTripTime(){return this[ol]}close(){this.closed=!0,(0,mo.clearTimeout)(this[Ys]),this.connection?.destroy(),this.connection=void 0}};Wn.RTTPinger=mp;function V5(t,e){let r=(0,Br.now)();e.cancellationToken=t[pu];let n=e.heartbeatFrequencyMS;if(t.closed)return;function s(u){if(t.closed){u?.destroy();return}t.connection==null&&(t.connection=u),t[ol]=(0,Br.calculateDurationInMs)(r),t[Ys]=(0,mo.setTimeout)(()=>V5(t,e),n)}let i=t.connection;if(i==null){(0,pp.connect)(e).then(u=>{s(u)},()=>{t.connection=void 0,t[ol]=0});return}let o=i.serverApi?.version||i.helloOk?"hello":k6.LEGACY_HELLO_COMMAND;i.command((0,Br.ns)("admin.$cmd"),{[o]:1},void 0).then(()=>s(),()=>{t.connection?.destroy(),t.connection=void 0,t[ol]=0})}var al=class{constructor(e,r={}){this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{this.stopped||(this.timerId&&(0,mo.clearTimeout)(this.timerId),this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,Br.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)}))},this.fn=e,this.lastExecutionEnded=-1/0,this.heartbeatFrequencyMS=r.heartbeatFrequencyMS??1e3,this.minHeartbeatFrequencyMS=r.minHeartbeatFrequencyMS??500,r.immediate?this._executeAndReschedule():this._reschedule(void 0)}wake(){let r=(0,Br.now)()-this.lastExecutionEnded;if(r<0)return this._executeAndReschedule();if(!this.isExecutionInProgress&&!this.isExpeditedCallToFnScheduled){if(r<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-r);return}this._executeAndReschedule()}}stop(){this.stopped=!0,this.timerId&&((0,mo.clearTimeout)(this.timerId),this.timerId=void 0),this.lastExecutionEnded=-1/0,this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){let e=(0,Br.now)(),r=e-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:e,timeSinceLastCall:r}}_reschedule(e){this.stopped||(this.timerId&&(0,mo.clearTimeout)(this.timerId),this.timerId=(0,mo.setTimeout)(this._executeAndReschedule,e||this.heartbeatFrequencyMS))}};Wn.MonitorInterval=al});var G6=y(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.FEATURE_FLAGS=Qt.DEFAULT_OPTIONS=Qt.OPTIONS=Qt.parseOptions=Qt.resolveSRVRecord=void 0;var z5=require("dns"),kH=O3(),qH=require("url"),Ja=wd(),Qs=ps(),W5=w3(),G5=H1(),H5=A5(),Z=Y(),yp=lu(),V6=Ko(),j6=$n(),yo=jt(),LH=v6(),Pr=ne(),bi=Vr(),U6=["authSource","replicaSet","loadBalanced"],jH="loadBalanced option only supported with a single host in the URI",UH="loadBalanced option not supported with a replicaSet option",VH="loadBalanced option not supported when directConnection is provided";async function zH(t){if(typeof t.srvHost!="string")throw new Z.MongoAPIError('Option "srvHost" must not be empty');if(t.srvHost.split(".").length<3)throw new Z.MongoAPIError("URI must include hostname, domain name, and tld");let e=t.srvHost,r=z5.promises.resolveTxt(e);r.catch(()=>{});let n=await z5.promises.resolveSrv(`_${t.srvServiceName}._tcp.${e}`);if(n.length===0)throw new Z.MongoAPIError("No addresses found at host");for(let{name:f}of n)if(!(0,Pr.matchesParentDomain)(f,e))throw new Z.MongoAPIError("Server record does not share hostname with parent URI");let s=n.map(f=>Pr.HostAddress.fromString(`${f.name}:${f.port??27017}`));z6(s,t,!0);let i;try{i=await r}catch(f){if(f.code!=="ENODATA"&&f.code!=="ENOTFOUND")throw f;return s}if(i.length>1)throw new Z.MongoParseError("Multiple text records not allowed");let o=new qH.URLSearchParams(i[0].join(""));if([...o.keys()].some(f=>!U6.includes(f)))throw new Z.MongoParseError(`Text record may only set any of: ${U6.join(", ")}`);if(U6.some(f=>o.get(f)===""))throw new Z.MongoParseError("Cannot have empty URI params in DNS TXT Record");let a=o.get("authSource")??void 0,c=o.get("replicaSet")??void 0,l=o.get("loadBalanced")??void 0;if(!t.userSpecifiedAuthSource&&a&&t.credentials&&!Qs.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(t.credentials.mechanism)&&(t.credentials=Ja.MongoCredentials.merge(t.credentials,{source:a})),!t.userSpecifiedReplicaSet&&c&&(t.replicaSet=c),l==="true"&&(t.loadBalanced=!0),t.replicaSet&&t.srvMaxHosts>0)throw new Z.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return z6(s,t,!0),s}Qt.resolveSRVRecord=zH;function WH(t){if(!t)return;let e=(r,n)=>{if(t.has(r)&&t.has(n))throw new Z.MongoAPIError(`The '${r}' option cannot be used with the '${n}' option`)};e("tlsInsecure","tlsAllowInvalidCertificates"),e("tlsInsecure","tlsAllowInvalidHostnames"),e("tlsInsecure","tlsDisableCertificateRevocationCheck"),e("tlsInsecure","tlsDisableOCSPEndpointCheck"),e("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),e("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),e("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")}function Di(t,e){if(typeof e=="boolean")return e;switch(e){case"true":return!0;case"false":return!1;default:throw new Z.MongoParseError(`${t} must be either "true" or "false"`)}}function W6(t,e){let r=(0,Pr.parseInteger)(e);if(r!=null)return r;throw new Z.MongoParseError(`Expected ${t} to be stringified int value, got: ${e}`)}function cl(t,e){let r=W6(t,e);if(r<0)throw new Z.MongoParseError(`${t} can only be a positive int value, got: ${e}`);return r}function*K5(t){if(t==="")return;let e=t.split(",");for(let r of e){let[n,s]=r.split(/:(.*)/);if(s==null)throw new Z.MongoParseError("Cannot have undefined values in key value pairs");yield[n,s]}}var Xa=class extends Map{constructor(e=[]){super(e.map(([r,n])=>[r.toLowerCase(),n]))}has(e){return super.has(e.toLowerCase())}get(e){return super.get(e.toLowerCase())}set(e,r){return super.set(e.toLowerCase(),r)}delete(e){return super.delete(e.toLowerCase())}};function GH(t,e=void 0,r={}){if(e!=null&&!(e instanceof yp.MongoClient)&&(r=e,e=void 0),r.useBigInt64&&typeof r.promoteLongs=="boolean"&&!r.promoteLongs)throw new Z.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(r.useBigInt64&&typeof r.promoteValues=="boolean"&&!r.promoteValues)throw new Z.MongoAPIError("Must request either bigint or Long for int64 deserialization");let n=new kH.default(t),{hosts:s,isSRV:i}=n,o=Object.create(null);for(let E of Object.getOwnPropertySymbols(r))Qt.FEATURE_FLAGS.has(E)&&(o[E]=r[E]);o.hosts=i?[]:s.map(Pr.HostAddress.fromString);let u=new Xa;if(n.pathname!=="/"&&n.pathname!==""){let E=decodeURIComponent(n.pathname[0]==="/"?n.pathname.slice(1):n.pathname);E&&u.set("dbName",[E])}if(n.username!==""){let E={username:decodeURIComponent(n.username)};typeof n.password=="string"&&(E.password=decodeURIComponent(n.password)),u.set("auth",[E])}for(let E of n.searchParams.keys()){let _=n.searchParams.getAll(E),A=/readPreferenceTags/i.test(E);if(!A&&_.length>1)throw new Z.MongoInvalidArgumentError(`URI option "${E}" cannot appear more than once in the connection string`);if(!A&&_.includes(""))throw new Z.MongoAPIError(`URI option "${E}" cannot be specified with no value`);u.has(E)||u.set(E,_)}let a=new Xa(Object.entries(r).filter(([,E])=>E!=null));if(u.has("serverApi"))throw new Z.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");let c=u.get("authMechanismProperties");if(c){for(let E of c)if(/(^|,)ALLOWED_HOSTS:/.test(E))throw new Z.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(a.has("loadBalanced"))throw new Z.MongoParseError("loadBalanced is only a valid option in the URI");let l=new Xa,f=new Set([...u.keys(),...a.keys()]);for(let E of f){let _=[],A=a.get(E);A!=null&&_.push(A);let C=u.get(E)??[];_.push(...C),l.set(E,_)}if(l.has("tls")||l.has("ssl")){let E=(l.get("tls")||[]).concat(l.get("ssl")||[]).map(Di.bind(null,"tls/ssl"));if(new Set(E).size!==1)throw new Z.MongoParseError("All values of tls/ssl must be the same.")}WH(l);let h=(0,Pr.setDifference)(f,Array.from(Object.keys(Qt.OPTIONS)).map(E=>E.toLowerCase()));if(h.size!==0){let E=h.size>1?"options":"option",_=h.size>1?"are":"is";throw new Z.MongoParseError(`${E} ${Array.from(h).join(", ")} ${_} not supported`)}for(let[E,_]of Object.entries(Qt.OPTIONS)){let A=l.get(E);if(!A||A.length===0)Qt.DEFAULT_OPTIONS.has(E)&&Y5(o,E,_,[Qt.DEFAULT_OPTIONS.get(E)]);else{let{deprecated:C}=_;if(C){let x=typeof C=="string"?`: ${C}`:"";(0,Pr.emitWarning)(`${E} is a deprecated option${x}`)}Y5(o,E,_,A)}}if(o.credentials){let E=o.credentials.mechanism===Qs.AuthMechanism.MONGODB_GSSAPI,_=o.credentials.mechanism===Qs.AuthMechanism.MONGODB_X509,A=o.credentials.mechanism===Qs.AuthMechanism.MONGODB_AWS,C=o.credentials.mechanism===Qs.AuthMechanism.MONGODB_OIDC;if((E||_)&&l.has("authSource")&&o.credentials.source!=="$external")throw new Z.MongoParseError(`authMechanism ${o.credentials.mechanism} requires an authSource of '$external'`);if(!(E||_||A||C)&&o.dbName&&!l.has("authSource")&&(o.credentials=Ja.MongoCredentials.merge(o.credentials,{source:o.dbName})),A&&o.credentials.username&&!o.credentials.password)throw new Z.MongoMissingCredentialsError(`When using ${o.credentials.mechanism} password must be set when a username is specified`);o.credentials.validate(),o.credentials.password===""&&o.credentials.username===""&&o.credentials.mechanism===Qs.AuthMechanism.MONGODB_DEFAULT&&Object.keys(o.credentials.mechanismProperties).length===0&&delete o.credentials}if(o.dbName||(o.dbName="test"),z6(s,o,i),e&&o.autoEncryption&&(H5.Encrypter.checkForMongoCrypt(),o.encrypter=new H5.Encrypter(e,t,r),o.autoEncrypter=o.encrypter.autoEncrypter),o.userSpecifiedAuthSource=a.has("authSource")||u.has("authSource"),o.userSpecifiedReplicaSet=a.has("replicaSet")||u.has("replicaSet"),i){if(o.srvHost=s[0],o.directConnection)throw new Z.MongoAPIError("SRV URI does not support directConnection");if(o.srvMaxHosts>0&&typeof o.replicaSet=="string")throw new Z.MongoParseError("Cannot use srvMaxHosts option with replicaSet");let E=!a.has("tls")&&!u.has("tls"),_=!a.has("ssl")&&!u.has("ssl");E&&_&&(o.tls=!0)}else if(u.has("srvMaxHosts")||a.has("srvMaxHosts")||u.has("srvServiceName")||a.has("srvServiceName"))throw new Z.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(o.directConnection&&o.hosts.length!==1)throw new Z.MongoParseError("directConnection option requires exactly one host");if(!o.proxyHost&&(o.proxyPort||o.proxyUsername||o.proxyPassword))throw new Z.MongoParseError("Must specify proxyHost if other proxy options are passed");if(o.proxyUsername&&!o.proxyPassword||!o.proxyUsername&&o.proxyPassword)throw new Z.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map(E=>u.get(E)??[]).some(E=>E.length>1))throw new Z.MongoParseError("Proxy options cannot be specified multiple times in the connection string");let p=Symbol.for("@@mdb.enableMongoLogger");o[p]=o[p]??!1;let m={},g={};return o[p]&&(m={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_CLIENT:process.env.MONGODB_LOG_CLIENT,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...o[Symbol.for("@@mdb.internalLoggerConfig")]},g={mongodbLogPath:o.mongodbLogPath,mongodbLogComponentSeverities:o.mongodbLogComponentSeverities,mongodbLogMaxDocumentLength:o.mongodbLogMaxDocumentLength}),o.mongoLoggerOptions=V6.MongoLogger.resolveOptions(m,g),o.metadata=(0,W5.makeClientMetadata)(o),o.extendedMetadata=(0,W5.addContainerMetadata)(o.metadata).catch(()=>{}),o}Qt.parseOptions=GH;function z6(t,e,r){if(e.loadBalanced){if(t.length>1)throw new Z.MongoParseError(jH);if(e.replicaSet)throw new Z.MongoParseError(UH);if(e.directConnection)throw new Z.MongoParseError(VH);if(r&&e.srvMaxHosts>0)throw new Z.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}}function Y5(t,e,r,n){let{target:s,type:i,transform:o}=r,u=s??e;switch(i){case"boolean":t[u]=Di(u,n[0]);break;case"int":t[u]=W6(u,n[0]);break;case"uint":t[u]=cl(u,n[0]);break;case"string":if(n[0]==null)break;t[u]=String(n[0]);break;case"record":if(!(0,Pr.isRecord)(n[0]))throw new Z.MongoParseError(`${u} must be an object`);t[u]=n[0];break;case"any":t[u]=n[0];break;default:{if(!o)throw new Z.MongoParseError("Descriptors missing a type must define a transform");let a=o({name:u,options:t,values:n});t[u]=a;break}}}Qt.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:t,options:e,values:[r]}){if(!(0,Pr.isRecord)(r,["username","password"]))throw new Z.MongoParseError(`${t} must be an object with 'username' and 'password' properties`);return Ja.MongoCredentials.merge(e.credentials,{username:r.username,password:r.password})}},authMechanism:{target:"credentials",transform({options:t,values:[e]}){let r=Object.values(Qs.AuthMechanism),[n]=r.filter(o=>o.match(RegExp(String.raw`\b${e}\b`,"i")));if(!n)throw new Z.MongoParseError(`authMechanism one of ${r}, got ${e}`);let s=t.credentials?.source;(n===Qs.AuthMechanism.MONGODB_PLAIN||Qs.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(n))&&(s="$external");let i=t.credentials?.password;return n===Qs.AuthMechanism.MONGODB_X509&&i===""&&(i=void 0),Ja.MongoCredentials.merge(t.credentials,{mechanism:n,source:s,password:i})}},authMechanismProperties:{target:"credentials",transform({options:t,values:e}){let r=Object.create(null);for(let n of e)if(typeof n=="string")for(let[s,i]of K5(n))try{r[s]=Di(s,i)}catch{r[s]=i}else{if(!(0,Pr.isRecord)(n))throw new Z.MongoParseError("AuthMechanismProperties must be an object");r={...n}}return Ja.MongoCredentials.merge(t.credentials,{mechanismProperties:r})}},authSource:{target:"credentials",transform({options:t,values:[e]}){let r=String(e);return Ja.MongoCredentials.merge(t.credentials,{source:r})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[t]}){let e=typeof t=="string"?{version:t}:t,r=e&&e.version;if(!r)throw new Z.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(yp.ServerApiVersion).join('", "')}"]`);if(!Object.values(yp.ServerApiVersion).some(n=>n===r))throw new Z.MongoParseError(`Invalid server API version=${r}; must be in the following enum: ["${Object.values(yp.ServerApiVersion).join('", "')}"]`);return e}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:t}){let e=new Set;for(let r of t){let n=typeof r=="string"?r.split(","):r;if(!Array.isArray(n))throw new Z.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let s of n)if(Object.keys(G5.Compressor).includes(String(s)))e.add(String(s));else throw new Z.MongoInvalidArgumentError(`${s} is not a valid compression mechanism. Must be one of: ${Object.keys(G5.Compressor)}.`)}return[...e]}},connectTimeoutMS:{default:3e4,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:t,values:[e]}){let r=W6(t,e);if(r===4||r===6)return r;throw new Z.MongoParseError(`Option 'family' must be 4 or 6 got ${r}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,fsync:Di(t,r)}});if(!n)throw new Z.MongoParseError(`Unable to make a writeConcern from fsync=${r}`);return n}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:Di(t,r)}});if(!n)throw new Z.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},journal:{target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:Di(t,r)}});if(!n)throw new Z.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:t,values:[e]}){let r=cl(t,e);if(r===0)throw new Z.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return r}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:t,options:e,values:[r]}){let n=cl(t,r);return e.readPreference?yo.ReadPreference.fromOptions({readPreference:{...e.readPreference,maxStalenessSeconds:n}}):new yo.ReadPreference("secondary",void 0,{maxStalenessSeconds:n})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[t],options:e}){return{...e.driverInfo,name:String(t)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:Pr.DEFAULT_PK_FACTORY,transform({values:[t]}){if((0,Pr.isRecord)(t,["createPk"])&&typeof t.createPk=="function")return t;throw new Z.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${t}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[t],options:e}){if(t instanceof j6.ReadConcern||(0,Pr.isRecord)(t,["level"]))return j6.ReadConcern.fromOptions({...e.readConcern,...t});throw new Z.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(t)}`)}},readConcernLevel:{target:"readConcern",transform({values:[t],options:e}){return j6.ReadConcern.fromOptions({...e.readConcern,level:t})}},readPreference:{default:yo.ReadPreference.primary,transform({values:[t],options:e}){if(t instanceof yo.ReadPreference)return yo.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if((0,Pr.isRecord)(t,["mode"])){let r=yo.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if(r)return r;throw new Z.MongoParseError(`Cannot make read preference from ${JSON.stringify(t)}`)}if(typeof t=="string"){let r={hedge:e.readPreference?.hedge,maxStalenessSeconds:e.readPreference?.maxStalenessSeconds};return new yo.ReadPreference(t,e.readPreference?.tags,r)}throw new Z.MongoParseError(`Unknown ReadPreference value: ${t}`)}},readPreferenceTags:{target:"readPreference",transform({values:t,options:e}){let r=Array.isArray(t[0])?t[0]:t,n=[];for(let s of r){let i=Object.create(null);if(typeof s=="string")for(let[o,u]of K5(s))i[o]=u;if((0,Pr.isRecord)(s))for(let[o,u]of Object.entries(s))i[o]=u;n.push(i)}return yo.ReadPreference.fromOptions({readPreference:e.readPreference,readPreferenceTags:n})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverMonitoringMode:{default:"auto",transform({values:[t]}){if(!Object.values(LH.ServerMonitoringMode).includes(t))throw new Z.MongoParseError("serverMonitoringMode must be one of `auto`, `poll`, or `stream`");return t}},serverSelectionTimeoutMS:{default:3e4,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},timeoutMS:{type:"uint"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:t,values:[e]}){return!Di(t,e)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:t,values:[e]}){return Di(t,e)?()=>{}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:t,options:e,values:[r]}){let n=Di(t,r);return n?(e.checkServerIdentity=()=>{},e.rejectUnauthorized=!1):(e.checkServerIdentity=e.tlsAllowInvalidHostnames?()=>{}:void 0,e.rejectUnauthorized=!e.tlsAllowInvalidCertificates),n}},w:{target:"writeConcern",transform({values:[t],options:e}){return bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[t],options:e}){if((0,Pr.isRecord)(t)||t instanceof bi.WriteConcern)return bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,...t}});if(t==="majority"||typeof t=="number")return bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}});throw new Z.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(t)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[t],options:e}){let r=bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeout:cl("wtimeout",t)}});if(r)return r;throw new Z.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[t],options:e}){let r=bi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeoutMS:cl("wtimeoutMS",t)}});if(r)return r;throw new Z.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{transform({values:[t]}){if(!(typeof t=="string"&&["stderr","stdout"].includes(t)||t&&typeof t=="object"&&"write"in t&&typeof t.write=="function"))throw new Z.MongoAPIError("Option 'mongodbLogPath' must be of type 'stderr' | 'stdout' | MongoDBLogWritable");return t}},mongodbLogComponentSeverities:{transform({values:[t]}){if(typeof t!="object"||!t)throw new Z.MongoAPIError("Option 'mongodbLogComponentSeverities' must be a non-null object");for(let[e,r]of Object.entries(t)){if(typeof r!="string"||typeof e!="string")throw new Z.MongoAPIError("User input for option 'mongodbLogComponentSeverities' object cannot include a non-string key or value");if(!Object.values(V6.MongoLoggableComponent).some(n=>n===e)&&e!=="default")throw new Z.MongoAPIError(`User input for option 'mongodbLogComponentSeverities' contains invalid key: ${e}`);if(!Object.values(V6.SeverityLevel).some(n=>n===r))throw new Z.MongoAPIError(`Option 'mongodbLogComponentSeverities' does not support ${r} as a value for ${e}`)}return t}},mongodbLogMaxDocumentLength:{type:"uint"}};Qt.DEFAULT_OPTIONS=new Xa(Object.entries(Qt.OPTIONS).filter(([,t])=>t.default!=null).map(([t,e])=>[t,e.default]));Qt.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var X5=y(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.MongoCR=void 0;var Q5=require("crypto"),HH=Y(),J5=ne(),KH=yi(),H6=class extends KH.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(!n)throw new HH.MongoMissingCredentialsError("AuthContext must provide credentials.");let{username:s,password:i,source:o}=n,{nonce:u}=await r.command((0,J5.ns)(`${o}.$cmd`),{getnonce:1},void 0),a=Q5.createHash("md5").update(`${s}:mongo:${i}`,"utf8").digest("hex"),c=Q5.createHash("md5").update(`${u}${s}${a}`,"utf8").digest("hex"),l={authenticate:1,user:s,nonce:u,key:c};await r.command((0,J5.ns)(`${o}.$cmd`),l,void 0)}};gp.MongoCR=H6});var ew=y(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.MongoDBAWS=void 0;var J6=require("process"),K6=Ke(),Ep=ds(),mu=Y(),Js=ne(),YH=yi(),QH=wd(),JH=ps(),XH=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),ZH=110,eK="http://169.254.170.2",Y6="http://169.254.169.254",Z5="/latest/meta-data/iam/security-credentials",Q6={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},Os=class extends YH.AuthProvider{constructor(){super(),Os.credentialProvider??(Os.credentialProvider=(0,Ep.getAwsCredentialProvider)());let{AWS_STS_REGIONAL_ENDPOINTS:e="",AWS_REGION:r=""}=J6.env;e=e.toLowerCase(),r=r.toLowerCase();let n=r.length!==0&&e.length!==0,s=e==="regional"||e==="legacy"&&!XH.has(r);"fromNodeProviderChain"in Os.credentialProvider&&(this.provider=n&&s?Os.credentialProvider.fromNodeProviderChain({clientConfig:{region:r}}):Os.credentialProvider.fromNodeProviderChain())}async auth(e){let{connection:r}=e;if(!e.credentials)throw new mu.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in Ep.aws4)throw Ep.aws4.kModuleError;let{sign:n}=Ep.aws4;if((0,Js.maxWireVersion)(r)<9)throw new mu.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");e.credentials.username||(e.credentials=await tK(e.credentials,this.provider));let{credentials:s}=e,i=s.username,o=s.password,u=s.mechanismProperties.AWS_SESSION_TOKEN,a=i&&o&&u?{accessKeyId:i,secretAccessKey:o,sessionToken:u}:i&&o?{accessKeyId:i,secretAccessKey:o}:void 0,c=s.source,l=await(0,Js.randomBytes)(32),f={saslStart:1,mechanism:"MONGODB-AWS",payload:K6.serialize({r:l,p:ZH},Q6)},h=await r.command((0,Js.ns)(`${c}.$cmd`),f,void 0),d=K6.deserialize(h.payload.buffer,Q6),p=d.h,m=d.s.buffer;if(m.length!==64)throw new mu.MongoRuntimeError(`Invalid server nonce length ${m.length}, expected 64`);if(!Js.ByteUtils.equals(m.subarray(0,l.byteLength),l))throw new mu.MongoRuntimeError("Server nonce does not begin with client nonce");if(p.length<1||p.length>255||p.indexOf("..")!==-1)throw new mu.MongoRuntimeError(`Server returned an invalid host: "${p}"`);let g="Action=GetCallerIdentity&Version=2011-06-15",E=n({method:"POST",host:p,region:rK(d.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":g.length,"X-MongoDB-Server-Nonce":Js.ByteUtils.toBase64(m),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:g},a),_={a:E.headers.Authorization,d:E.headers["X-Amz-Date"]};u&&(_.t=u);let A={saslContinue:1,conversationId:1,payload:K6.serialize(_,Q6)};await r.command((0,Js.ns)(`${c}.$cmd`),A,void 0)}};_p.MongoDBAWS=Os;async function tK(t,e){function r(n){if(!n.AccessKeyId||!n.SecretAccessKey)throw new mu.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new QH.MongoCredentials({username:n.AccessKeyId,password:n.SecretAccessKey,source:t.source,mechanism:JH.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:n.Token}})}if(e&&!("kModuleError"in Os.credentialProvider))try{let n=await e();return r({AccessKeyId:n.accessKeyId,SecretAccessKey:n.secretAccessKey,Token:n.sessionToken,Expiration:n.expiration})}catch(n){throw new mu.MongoAWSError(n.message)}else{if(J6.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return r(await(0,Js.request)(`${eK}${J6.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));let n=await(0,Js.request)(`${Y6}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),s=await(0,Js.request)(`${Y6}/${Z5}`,{json:!1,headers:{"X-aws-ec2-metadata-token":n}}),i=await(0,Js.request)(`${Y6}/${Z5}/${s}`,{headers:{"X-aws-ec2-metadata-token":n}});return r(i)}}function rK(t){let e=t.split(".");return e.length===1||e[1]==="amazonaws"?"us-east-1":e[1]}});var eE=y(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.commandDocument=Za.ServiceWorkflow=void 0;var nK=is(),sK=ne(),iK=ps(),X6=class{async execute(e,r){let n=await this.getToken(r),s=Z6(n);return e.command((0,sK.ns)(r.source),s,void 0)}async speculativeAuth(e){let r=await this.getToken(e),n=Z6(r);return n.db=e.source,{speculativeAuthenticate:n}}};Za.ServiceWorkflow=X6;function Z6(t){return{saslStart:1,mechanism:iK.AuthMechanism.MONGODB_OIDC,payload:nK.BSON.serialize({jwt:t})}}Za.commandDocument=Z6});var tw=y(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.AwsServiceWorkflow=void 0;var oK=require("fs"),uK=Y(),aK=eE(),cK="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.",tE=class extends aK.ServiceWorkflow{constructor(){super()}async getToken(){let e=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!e)throw new uK.MongoAWSError(cK);return oK.promises.readFile(e,"utf8")}};Ap.AwsServiceWorkflow=tE});var Op=y(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.Cache=ec.ExpiringCacheEntry=void 0;var lK=3e5,rE=class{constructor(e){this.expiration=this.expirationTime(e)}isValid(){return this.expiration-Date.now()>lK}expirationTime(e){return Date.now()+e*1e3}};ec.ExpiringCacheEntry=rE;var nE=class{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(e,r,n){return JSON.stringify([e,r,n])}};ec.Cache=nE});var nw=y(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.AzureTokenCache=tc.AzureTokenEntry=void 0;var rw=Op(),Cp=class extends rw.ExpiringCacheEntry{constructor(e,r){super(r),this.token=e}};tc.AzureTokenEntry=Cp;var sE=class extends rw.Cache{addEntry(e,r){let n=new Cp(r.access_token,r.expires_in);return this.entries.set(e,n),n}cacheKey(e){return e}deleteEntry(e){this.entries.delete(e)}getEntry(e){return this.entries.get(e)}};tc.AzureTokenCache=sE});var iw=y(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.AzureServiceWorkflow=void 0;var sw=Y(),fK=ne(),hK=nw(),dK=eE(),pK="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",mK=Object.freeze({Metadata:"true",Accept:"application/json"}),yK="Azure endpoint did not return a value with only access_token and expires_in properties",gK="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.",iE=class extends dK.ServiceWorkflow{constructor(){super(...arguments),this.cache=new hK.AzureTokenCache}async getToken(e){let r=e?.mechanismProperties.TOKEN_AUDIENCE;if(!r)throw new sw.MongoAzureError(gK);let n,s=this.cache.getEntry(r);if(s?.isValid())n=s.token;else{this.cache.deleteEntry(r);let i=await EK(r);if(!_K(i))throw new sw.MongoAzureError(yK);this.cache.addEntry(r,i),n=i.access_token}return n}};Sp.AzureServiceWorkflow=iE;async function EK(t){let e=`${pK}&resource=${t}`;return await(0,fK.request)(e,{json:!0,headers:mK})}function _K(t){return t==null||typeof t!="object"?!1:"access_token"in t&&"expires_in"in t}});var aw=y(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.CallbackLockCache=void 0;var AK=Y(),OK=Op(),CK="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",yu=0,uw=async()=>({accessToken:"test"}),ll=new WeakMap;ll.set(uw,yu);var oE=class extends OK.Cache{getEntry(e,r){let n=r.mechanismProperties.REQUEST_TOKEN_CALLBACK,s=r.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!n)throw new AK.MongoInvalidArgumentError(CK);let i=SK(n,s),o=this.cacheKey(e.address,r.username,i),u=this.entries.get(o);return u||this.addEntry(o,i,n,s)}addEntry(e,r,n,s){let i={requestCallback:ow(n),refreshCallback:s?ow(s):void 0,callbackHash:r};return this.entries.set(e,i),i}cacheKey(e,r,n){return this.hashedCacheKey(e,r,n)}};wp.CallbackLockCache=oE;function ow(t){let e=Promise.resolve();return async(r,n)=>(await e,e=e.then(()=>t(r,n)),e)}function SK(t,e){let r=ll.get(t),n=ll.get(e??uw);return r==null&&(yu++,r=yu,ll.set(t,yu)),n==null&&e&&(yu++,n=yu,ll.set(e,yu)),`${r}-${n}`}});var lw=y(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.TokenEntryCache=rc.TokenEntry=void 0;var cw=Op(),wK=0,bp=class extends cw.ExpiringCacheEntry{constructor(e,r,n){super(n),this.tokenResult=e,this.serverInfo=r}};rc.TokenEntry=bp;var uE=class extends cw.Cache{addEntry(e,r,n,s,i){let o=new bp(s,i,s.expiresInSeconds??wK);return this.entries.set(this.cacheKey(e,r,n),o),o}deleteEntry(e,r,n){this.entries.delete(this.cacheKey(e,r,n))}getEntry(e,r,n){return this.entries.get(this.cacheKey(e,r,n))}deleteExpiredEntries(){for(let[e,r]of this.entries)r.isValid()||this.entries.delete(e)}cacheKey(e,r,n){return this.hashedCacheKey(e,r,n)}};rc.TokenEntryCache=uE});var pw=y(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.CallbackWorkflow=void 0;var gu=is(),aE=Y(),fw=ne(),dw=ps(),bK=aw(),DK=lw(),TK=0,MK=300,BK=["accessToken","expiresInSeconds","refreshToken"],PK="User provided OIDC callbacks must return a valid object with an accessToken.",cE=class{constructor(){this.cache=new DK.TokenEntryCache,this.callbackCache=new bK.CallbackLockCache}async speculativeAuth(e){let r=hw(e);return r.db=e.source,{speculativeAuthenticate:r}}async execute(e,r,n,s){let{requestCallback:i,refreshCallback:o,callbackHash:u}=this.callbackCache.getEntry(e,r),a=this.cache.getEntry(e.address,r.username,u),c;if(a)if(a.isValid()&&!n)c=await this.finishAuthentication(e,r,a.tokenResult,s?.speculativeAuthenticate?.conversationId);else{let l=await this.fetchAccessToken(e,r,a.serverInfo,n,u,i,o);try{c=await this.finishAuthentication(e,r,l,n?void 0:s?.speculativeAuthenticate?.conversationId)}catch(f){if(n&&f instanceof aE.MongoError&&f.code===aE.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(e.address,r.username,u),c=await this.execute(e,r,n);else throw f}}else{let l=await this.startAuthentication(e,r,n,s),f=l.conversationId,h=gu.BSON.deserialize(l.payload.buffer),d=await this.fetchAccessToken(e,r,h,n,u,i,o);c=await this.finishAuthentication(e,r,d,f)}return c}async startAuthentication(e,r,n,s){let i;return!n&&s?.speculativeAuthenticate?i=s.speculativeAuthenticate:i=await e.command((0,fw.ns)(r.source),hw(r),void 0),i}async finishAuthentication(e,r,n,s){return await e.command((0,fw.ns)(r.source),FK(n.accessToken,s),void 0)}async fetchAccessToken(e,r,n,s,i,o,u){let a=this.cache.getEntry(e.address,r.username,i),c,l={timeoutSeconds:MK,version:TK};if(a){if(a.isValid()&&!s)return a.tokenResult;u?(l.refreshToken=a.tokenResult.refreshToken,c=await u(n,l)):c=await o(n,l)}else c=await o(n,l);if(NK(c))throw this.cache.deleteEntry(e.address,r.username,i),new aE.MongoMissingCredentialsError(PK);return this.cache.deleteExpiredEntries(),this.cache.addEntry(e.address,r.username||"",i,c,n),c}};Dp.CallbackWorkflow=cE;function FK(t,e){return e!=null&&typeof e=="number"?{saslContinue:1,conversationId:e,payload:new gu.Binary(gu.BSON.serialize({jwt:t}))}:{saslStart:1,mechanism:dw.AuthMechanism.MONGODB_OIDC,payload:new gu.Binary(gu.BSON.serialize({jwt:t}))}}function NK(t){return t==null||typeof t!="object"||!("accessToken"in t)?!0:!Object.getOwnPropertyNames(t).every(e=>BK.includes(e))}function hw(t){let e={};return t.username&&(e.n=t.username),{saslStart:1,autoAuthorize:1,mechanism:dw.AuthMechanism.MONGODB_OIDC,payload:new gu.Binary(gu.BSON.serialize(e))}}});var Ew=y(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.MongoDBOIDC=Xs.OIDC_WORKFLOWS=void 0;var gw=Y(),$K=yi(),IK=tw(),RK=iw(),xK=pw(),vK="AuthContext must provide credentials.";Xs.OIDC_WORKFLOWS=new Map;Xs.OIDC_WORKFLOWS.set("callback",new xK.CallbackWorkflow);Xs.OIDC_WORKFLOWS.set("aws",new IK.AwsServiceWorkflow);Xs.OIDC_WORKFLOWS.set("azure",new RK.AzureServiceWorkflow);var lE=class extends $K.AuthProvider{constructor(){super()}async auth(e){let{connection:r,reauthenticating:n,response:s}=e,i=mw(e);await yw(i).execute(r,i,n,s)}async prepare(e,r){let n=mw(r),i=await yw(n).speculativeAuth(n);return{...e,...i}}};Xs.MongoDBOIDC=lE;function mw(t){let{credentials:e}=t;if(!e)throw new gw.MongoMissingCredentialsError(vK);return e}function yw(t){let e=t.mechanismProperties.PROVIDER_NAME,r=Xs.OIDC_WORKFLOWS.get(e||"callback");if(!r)throw new gw.MongoInvalidArgumentError(`Could not load workflow for provider ${t.mechanismProperties.PROVIDER_NAME}`);return r}});var _w=y(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.Plain=void 0;var kK=Ke(),qK=Y(),LK=ne(),jK=yi(),fE=class extends jK.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(!n)throw new qK.MongoMissingCredentialsError("AuthContext must provide credentials.");let{username:s,password:i}=n,u={saslStart:1,mechanism:"PLAIN",payload:new kK.Binary(Buffer.from(`\0${s}\0${i}`)),autoAuthorize:1};await r.command((0,LK.ns)("$external.$cmd"),u,void 0)}};Tp.Plain=fE});var Sw=y((U1e,Cw)=>{"use strict";var Aw=t=>t.codePointAt(0),UK=t=>t[0],VK=t=>t[t.length-1];function Ow(t){let e=[],r=t.length;for(let n=0;n<r;n+=1){let s=t.charCodeAt(n);if(s>=55296&&s<=56319&&r>n+1){let i=t.charCodeAt(n+1);if(i>=56320&&i<=57343){e.push((s-55296)*1024+i-56320+65536),n+=1;continue}}e.push(s)}return e}function fl({unassigned_code_points:t,commonly_mapped_to_nothing:e,non_ASCII_space_characters:r,prohibited_characters:n,bidirectional_r_al:s,bidirectional_l:i},o,u={}){let a=r,c=e;if(typeof o!="string")throw new TypeError("Expected string.");if(o.length===0)return"";let l=Ow(o).map(_=>a.get(_)?32:_).filter(_=>!c.get(_)),f=String.fromCodePoint.apply(null,l).normalize("NFKC"),h=Ow(f);if(h.some(_=>n.get(_)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(u.allowUnassigned!==!0&&h.some(A=>t.get(A)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5");let p=h.some(_=>s.get(_)),m=h.some(_=>i.get(_));if(p&&m)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");let g=s.get(Aw(UK(f))),E=s.get(Aw(VK(f)));if(p&&!(g&&E))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return f}fl.saslprep=fl;fl.default=fl;Cw.exports=fl});var Dw=y((V1e,bw)=>{bw.exports=Ti;function Ti(t,e){if(!(this instanceof Ti))return new Ti(t,e);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=t||1024,this.deduplicate=e?e.deduplicate:null,this.zeros=this.deduplicate?Mp(this.deduplicate.length):null}Ti.prototype.updated=function(t){for(;this.deduplicate&&t.buffer[t.deduplicate]===this.deduplicate[t.deduplicate];)if(t.deduplicate++,t.deduplicate===this.deduplicate.length){t.deduplicate=0,t.buffer.equals&&t.buffer.equals(this.deduplicate)&&(t.buffer=this.deduplicate);break}t.updated||!this.updates||(t.updated=!0,this.updates.push(t))};Ti.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t};Ti.prototype._array=function(t,e){if(t>=this.maxPages){if(e)return;zK(this,t)}HK(t,this.path);for(var r=this.pages,n=this.level;n>0;n--){var s=this.path[n],i=r[s];if(!i){if(e)return;i=r[s]=new Array(32768)}r=i}return r};Ti.prototype.get=function(t,e){var r=this._array(t,e),n=this.path[0],s=r&&r[n];return!s&&!e&&(s=r[n]=new ww(t,Mp(this.pageSize)),t>=this.length&&(this.length=t+1)),s&&s.buffer===this.deduplicate&&this.deduplicate&&!e&&(s.buffer=GK(s.buffer),s.deduplicate=0),s};Ti.prototype.set=function(t,e){var r=this._array(t,!1),n=this.path[0];if(t>=this.length&&(this.length=t+1),!e||this.zeros&&e.equals&&e.equals(this.zeros)){r[n]=void 0;return}this.deduplicate&&e.equals&&e.equals(this.deduplicate)&&(e=this.deduplicate);var s=r[n],i=WK(e,this.pageSize);s?s.buffer=i:r[n]=new ww(t,i)};Ti.prototype.toBuffer=function(){for(var t=new Array(this.length),e=Mp(this.pageSize),r=0;r<t.length;)for(var n=this._array(r,!0),s=0;s<32768&&r<t.length;s++)t[r++]=n&&n[s]?n[s].buffer:e;return Buffer.concat(t)};function zK(t,e){for(;t.maxPages<e;){var r=t.pages;t.pages=new Array(32768),t.pages[0]=r,t.level++,t.maxPages*=32768}}function WK(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var r=Mp(e);return t.copy(r),r}function Mp(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function GK(t){var e=Buffer.allocUnsafe?Buffer.allocUnsafe(t.length):new Buffer(t.length);return t.copy(e),e}function ww(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1,this.deduplicate=0}function HK(t,e){t=(t-(e[0]=t&32767))/32768,t=(t-(e[1]=t&32767))/32768,e[3]=(t-(e[2]=t&32767))/32768&32767}});var Mw=y((z1e,Tw)=>{var KK=Dw();Tw.exports=go;function go(t){if(!(this instanceof go))return new go(t);if(t||(t={}),Buffer.isBuffer(t)&&(t={buffer:t}),this.pageOffset=t.pageOffset||0,this.pageSize=t.pageSize||1024,this.pages=t.pages||KK(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!QK(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!t.trackUpdates,this._pageMask=this.pageSize-1,t.buffer){for(var e=0;e<t.buffer.length;e+=this.pageSize)this.pages.set(e/this.pageSize,t.buffer.slice(e,e+this.pageSize));this.byteLength=t.buffer.length,this.length=8*this.byteLength}}go.prototype.get=function(t){var e=t&7,r=(t-e)/8;return!!(this.getByte(r)&128>>e)};go.prototype.getByte=function(t){var e=t&this._pageMask,r=(t-e)/this.pageSize,n=this.pages.get(r,!0);return n?n.buffer[e+this.pageOffset]:0};go.prototype.set=function(t,e){var r=t&7,n=(t-r)/8,s=this.getByte(n);return this.setByte(n,e?s|128>>r:s&(255^128>>r))};go.prototype.toBuffer=function(){for(var t=YK(this.pages.length*this.pageSize),e=0;e<this.pages.length;e++){var r=this.pages.get(e,!0),n=e*this.pageSize;r&&r.buffer.copy(t,n,this.pageOffset,this.pageOffset+this.pageSize)}return t};go.prototype.setByte=function(t,e){var r=t&this._pageMask,n=(t-r)/this.pageSize,s=this.pages.get(n,!1);return r+=this.pageOffset,s.buffer[r]===e?!1:(s.buffer[r]=e,t>=this.byteLength&&(this.byteLength=t+1,this.length=this.byteLength*8),this._trackUpdates&&this.pages.updated(s),!0)};function YK(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function QK(t){return!(t&t-1)}});var Bw=y(nc=>{"use strict";var JK=nc&&nc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nc,"__esModule",{value:!0});nc.createMemoryCodePoints=void 0;var XK=JK(Mw());function ZK(t){let e=0;function r(){let c=t.readUInt32BE(e);e+=4;let l=t.slice(e,e+c);return e+=c,(0,XK.default)({buffer:l})}let n=r(),s=r(),i=r(),o=r(),u=r(),a=r();return{unassigned_code_points:n,commonly_mapped_to_nothing:s,non_ASCII_space_characters:i,prohibited_characters:o,bidirectional_r_al:u,bidirectional_l:a}}nc.createMemoryCodePoints=ZK});var Pw=y(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});var eY=require("zlib");hE.default=(0,eY.gunzipSync)(Buffer.from("H4sIAAAAAAACA+3dTYgcaRkA4LemO9Mhxm0FITnE9Cwr4jHgwgZ22B6YywqCJ0HQg5CL4sGTuOjCtGSF4CkHEW856MlTQHD3EJnWkU0Owh5VxE3LHlYQdNxd2U6mU59UV/d09fw4M2EySSXPAzNdP1/9fX/99bzVNZEN4jisRDulVFnQmLxm1aXF9Id/2/xMxNJ4XZlg576yuYlGt9gupV6xoFf8jhu9YvulVrFlp5XSx+lfvYhORGPXvqIRWSxERKtIm8bKFd10WNfKDS5Fo9jJWrq2+M2IlW+8uHgl/+BsROfPF4v5L7148Ur68Sha6dqZpYiVVy8tvLCWXo80Sf/lS89dGX2wHGvpzoXVn75/YWH5wmqe8uika82ViJXTy83Ve2k5Urozm38wm4/ls6t5uT6yfsTSJ7J3T0VKt8c5ExEXI8aFkH729c3eT+7EC6ca8cVULZUiYacX0R5PNWNxlh9L1y90q5kyzrpyy+9WcvOV6URntqw7La9sNVstXyczWVaWYbaaTYqzOHpr7pyiNT3/YzKuT63Z/FqKZlFTiuXtFM2vVOtIq7jiyKJbWZaOWD0euz0yoV2Z7kY0xq2x0YhfzVpmM5px9nTEH7JZ0ot5u39p0ma75Z472/s/H+2yr2inYyuq7fMvJivH2rM72N/Z3lyL31F2b1ya1P0zn816k2KP6JU9UzseucdQH5YqVeH/lFajSN2udg+TLJ9rksNxlvV2lki19rXKI43TPLejFu4ov7k3nMbhyhfY3Xb37f8BAGCf0eMTOH5szf154KmnNgKcnLb+Fzi2AfXktbN7fJelwTAiO/W5uQ2KINXRYu+znqo/WTAdLadURHmy3qciazd3bra4T3w16/f7t7Ms9U5gfJu10955sx1r3vmhBAAAAAAAgId20J1iZbDowNvIjuH427Gr5l/eiC+8OplZON8sVjx/qr9y+Pj+YRItT+NqAM+kkZs3AAAAAID6yfx1FwCAI97/dCh1/ub6SA0AAAAAAAAAgNoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hutp5SiQpYAAAAAAAAAQO2MIpZiT804flnAE2fhwjOeAZXr76kOAAAAAAAA8FjNf4N/l0NE3U/vuVQskLpSd4/Yh2xu9xTu0tFeeNYsLI2f/VMdNxTzj6Je9E/+6pp6Nn3awW3A54goe4Bss6v+PGsjQGMAAAAAAOBp5XEgwH6e7J7rwEQHRb/XvAMAAAAAAAA8yzoDeQDwVGjIAgAAAAAAAACoPfF/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqL/GSkSkClkCAAAAAAAAALXTSAAAAAAAAABA3Y1kAQAAAAAAAADUX8RSXZ9dsHC9+M8Fg2Ex/em1lAZpEBGttcrVjZqLEa+k0XpKw9mG4zWx4ukPUMhkAQAAAAAAABzBqbSe3//rXOS9HxGdo4TqR2XkutCdBu+LaPZw/lBbO7cbHnh2C7N7AIo4evEznllqLqWUp/LnYOtpM2bnOH66wI1+9GO4sOuISwv/TOlumu56FDv3NZhc4mR9v7zYIrafr40j/Cccvj9Xns3t3mu99E7qxUv3bqS0/ouNH/08++RGemfQ+nsx/5uNXsQPGulynPvv3ZTW37zd+1ovrqaYpP/122X6Xpx779Z3zr/3YOPKW1lkaRDf31pPaf3j/msRsVGkL+d/f+/m4sJsPm1cfSsr16e8m9Ldj/KsnyIuR3nXw83Is3EhxLd/2V773ks3m/cj/THKUummdP9qKhIOImuOU0Xjwb3y+oqt735rpTetVbF9n8R4x9crRfO77TKqVOZpDclv5bfK18lMnk+q0K18UpxF/RrGXE0Zxtqx3tWSj+vxbL4XaasfKb0dRbtLW73JsfPGg177H+OmGKlfvS1msllt7JEJm9XOJqXR+Fkfo1H66uy5H1v3Xx5+uJmGLw9jro2u7Loj4PnuR6+f+e3d261+eazNhzrL7X83MohoHpS4PddV8ki1it61//pw1g7z6p1U/26Nm2llST57B5rUvuG0XqSU/rPd7jYrqWcbd+beJQ77BgPMDwn37/8BAGCf0eMTOH4cPlufv9VGgJOzqf8Fjm1APXkd7B7f5dF57GPMaWy/MTvjvNvtXj6h8W2+GXvnzXaseeeHEgAAAAAAAB7aQXeKlcGiadBoEOeLb2dtpGOL2MyOtf391a3P/zD96c3JzIP3t4oV797vrh8+vn+YRL5bBuj/AQAAAABqJvfHXQAAHkX82zfXAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACeAgkAAAAAAAAAqLuRLAAAAAAAAACA2hv9D1iu/VAYaAYA","base64"))});var $w=y((dE,Nw)=>{"use strict";var Fw=dE&&dE.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},tY=Fw(Sw()),rY=Bw(),nY=Fw(Pw()),sY=(0,rY.createMemoryCodePoints)(nY.default);function hl(t,e){return(0,tY.default)(sY,t,e)}hl.saslprep=hl;hl.default=hl;Nw.exports=hl});var Lw=y(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.ScramSHA256=sc.ScramSHA1=void 0;var iY=$w(),Eu=require("crypto"),pE=Ke(),Cs=Y(),Fp=ne(),oY=yi(),Iw=ps(),Np=class extends oY.AuthProvider{constructor(e){super(),this.cryptoMethod=e||"sha1"}async prepare(e,r){let n=this.cryptoMethod,s=r.credentials;if(!s)throw new Cs.MongoMissingCredentialsError("AuthContext must provide credentials.");let i=await(0,Fp.randomBytes)(24);return r.nonce=i,{...e,speculativeAuthenticate:{...kw(n,s,i),db:s.source}}}async auth(e){let{reauthenticating:r,response:n}=e;return n?.speculativeAuthenticate&&!r?qw(this.cryptoMethod,n.speculativeAuthenticate,e):uY(this.cryptoMethod,e)}};function xw(t){return t.replace("=","=3D").replace(",","=2C")}function vw(t,e){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(t,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(e.toString("base64"),"utf8")])}function kw(t,e,r){let n=xw(e.username);return{saslStart:1,mechanism:t==="sha1"?Iw.AuthMechanism.MONGODB_SCRAM_SHA1:Iw.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new pE.Binary(Buffer.concat([Buffer.from("n,,","utf8"),vw(n,r)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}}async function uY(t,e){let{connection:r,credentials:n}=e;if(!n)throw new Cs.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!e.nonce)throw new Cs.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");let s=e.nonce,i=n.source,o=kw(t,n,s),u=await r.command((0,Fp.ns)(`${i}.$cmd`),o,void 0);await qw(t,u,e)}async function qw(t,e,r){let n=r.connection,s=r.credentials;if(!s)throw new Cs.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!r.nonce)throw new Cs.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");let i=r.nonce,o=s.source,u=xw(s.username),a=s.password,c=t==="sha256"?(0,iY.saslprep)(a):aY(u,a),l=Buffer.isBuffer(e.payload)?new pE.Binary(e.payload):e.payload,f=Rw(l),h=parseInt(f.i,10);if(h&&h<4096)throw new Cs.MongoRuntimeError(`Server returned an invalid iteration count ${h}`);let d=f.s,p=f.r;if(p.startsWith("nonce"))throw new Cs.MongoRuntimeError(`Server returned an invalid nonce: ${p}`);let m=`c=biws,r=${p}`,g=dY(c,Buffer.from(d,"base64"),h,t),E=Bp(t,g,"Client Key"),_=Bp(t,g,"Server Key"),A=lY(t,E),C=[vw(u,i),l.toString("utf8"),m].join(","),x=Bp(t,A,C),F=`p=${cY(E,x)}`,T=[m,F].join(","),V=Bp(t,_,C),z={saslContinue:1,conversationId:e.conversationId,payload:new pE.Binary(Buffer.from(T))},R=await n.command((0,Fp.ns)(`${o}.$cmd`),z,void 0),M=Rw(R.payload);if(!pY(Buffer.from(M.v,"base64"),V))throw new Cs.MongoRuntimeError("Server returned an invalid signature");if(R.done!==!1)return;let N={saslContinue:1,conversationId:R.conversationId,payload:Buffer.alloc(0)};await n.command((0,Fp.ns)(`${o}.$cmd`),N,void 0)}function Rw(t){let e=t.toString("utf8"),r={},n=e.split(",");for(let s=0;s<n.length;s++){let i=(n[s].match(/^([^=]*)=(.*)$/)??[]).slice(1);r[i[0]]=i[1]}return r}function aY(t,e){if(typeof t!="string")throw new Cs.MongoInvalidArgumentError("Username must be a string");if(typeof e!="string")throw new Cs.MongoInvalidArgumentError("Password must be a string");if(e.length===0)throw new Cs.MongoInvalidArgumentError("Password cannot be empty");let r;try{r=Eu.createHash("md5")}catch(n){throw Eu.getFips()?new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode"):n}return r.update(`${t}:mongo:${e}`,"utf8"),r.digest("hex")}function cY(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t)),Buffer.isBuffer(e)||(e=Buffer.from(e));let r=Math.max(t.length,e.length),n=[];for(let s=0;s<r;s+=1)n.push(t[s]^e[s]);return Buffer.from(n).toString("base64")}function lY(t,e){return Eu.createHash(t).update(e).digest()}function Bp(t,e,r){return Eu.createHmac(t,e).update(r).digest()}var Pp={},mE=0;function fY(){Pp={},mE=0}var hY={sha256:32,sha1:20};function dY(t,e,r,n){let s=[t,e.toString("base64"),r].join("_");if(Pp[s]!=null)return Pp[s];let i=Eu.pbkdf2Sync(t,e,r,hY[n],n);return mE>=200&&fY(),Pp[s]=i,mE+=1,i}function pY(t,e){if(t.length!==e.length)return!1;if(typeof Eu.timingSafeEqual=="function")return Eu.timingSafeEqual(t,e);let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}var yE=class extends Np{constructor(){super("sha1")}};sc.ScramSHA1=yE;var gE=class extends Np{constructor(){super("sha256")}};sc.ScramSHA256=gE});var Vw=y($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.X509=void 0;var jw=Y(),mY=ne(),yY=yi(),EE=class extends yY.AuthProvider{async prepare(e,r){let{credentials:n}=r;if(!n)throw new jw.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...e,speculativeAuthenticate:Uw(n)}}async auth(e){let r=e.connection,n=e.credentials;if(!n)throw new jw.MongoMissingCredentialsError("AuthContext must provide credentials.");e.response?.speculativeAuthenticate||await r.command((0,mY.ns)("$external.$cmd"),Uw(n),void 0)}};$p.X509=EE;function Uw(t){let e={authenticate:1,mechanism:"MONGODB-X509"};return t.username&&(e.user=t.username),e}});var AE=y(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.MongoClientAuthProviders=void 0;var gY=Sd(),EY=X5(),_Y=ew(),AY=Ew(),OY=_w(),Eo=ps(),zw=Lw(),CY=Vw(),SY=Y(),wY=new Map([[Eo.AuthMechanism.MONGODB_AWS,()=>new _Y.MongoDBAWS],[Eo.AuthMechanism.MONGODB_CR,()=>new EY.MongoCR],[Eo.AuthMechanism.MONGODB_GSSAPI,()=>new gY.GSSAPI],[Eo.AuthMechanism.MONGODB_OIDC,()=>new AY.MongoDBOIDC],[Eo.AuthMechanism.MONGODB_PLAIN,()=>new OY.Plain],[Eo.AuthMechanism.MONGODB_SCRAM_SHA1,()=>new zw.ScramSHA1],[Eo.AuthMechanism.MONGODB_SCRAM_SHA256,()=>new zw.ScramSHA256],[Eo.AuthMechanism.MONGODB_X509,()=>new CY.X509]]),_E=class{constructor(){this.existingProviders=new Map}getOrCreateProvider(e){let r=this.existingProviders.get(e);if(r)return r;let n=wY.get(e)?.();if(!n)throw new SY.MongoInvalidArgumentError(`authMechanism ${e} not supported`);return this.existingProviders.set(e,n),n}};Ip.MongoClientAuthProviders=_E});var bE=y(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.WaitingForSuitableServerEvent=Gn.ServerSelectionSucceededEvent=Gn.ServerSelectionFailedEvent=Gn.ServerSelectionStartedEvent=Gn.ServerSelectionEvent=void 0;var bY=ne(),Rp=It(),_u=class{constructor(e,r,n){this.selector=e,this.operation=n,this.topologyDescription=r}};Gn.ServerSelectionEvent=_u;var OE=class extends _u{constructor(e,r,n){super(e,r,n),this.name=Rp.SERVER_SELECTION_STARTED,this.message="Server selection started"}};Gn.ServerSelectionStartedEvent=OE;var CE=class extends _u{constructor(e,r,n,s){super(e,r,s),this.name=Rp.SERVER_SELECTION_FAILED,this.message="Server selection failed",this.failure=n}};Gn.ServerSelectionFailedEvent=CE;var SE=class extends _u{constructor(e,r,n,s){super(e,r,s),this.name=Rp.SERVER_SELECTION_SUCCEEDED,this.message="Server selection succeeded";let{host:i,port:o}=bY.HostAddress.fromString(n).toHostPort();this.serverHost=i,this.serverPort=o}};Gn.ServerSelectionSucceededEvent=SE;var wE=class extends _u{constructor(e,r,n,s){super(e,r,s),this.name=Rp.WAITING_FOR_SUITABLE_SERVER,this.message="Waiting for suitable server to become available",this.remainingTimeMS=n}};Gn.WaitingForSuitableServerEvent=wE});var TE=y(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.SrvPoller=oc.SrvPollingEvent=void 0;var DY=require("dns"),DE=require("timers"),TY=Y(),MY=gn(),Ww=ne(),xp=class{constructor(e){this.srvRecords=e}hostnames(){return new Set(this.srvRecords.map(e=>Ww.HostAddress.fromSrvRecord(e).toString()))}};oc.SrvPollingEvent=xp;var ic=class extends MY.TypedEventEmitter{constructor(e){if(super(),!e||!e.srvHost)throw new TY.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=e.srvHost,this.srvMaxHosts=e.srvMaxHosts??0,this.srvServiceName=e.srvServiceName??"mongodb",this.rescanSrvIntervalMS=6e4,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){this._timeout||this.schedule()}stop(){this._timeout&&((0,DE.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0)}schedule(){this._timeout&&(0,DE.clearTimeout)(this._timeout),this._timeout=(0,DE.setTimeout)(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(e){this.haMode=!1,this.schedule(),this.emit(ic.SRV_RECORD_DISCOVERY,new xp(e))}failure(){this.haMode=!0,this.schedule()}async _poll(){let e=this.generation,r;try{r=await DY.promises.resolveSrv(this.srvAddress)}catch{this.failure();return}if(e!==this.generation)return;let n=[];for(let s of r)(0,Ww.matchesParentDomain)(s.name,this.srvHost)&&n.push(s);if(!n.length){this.failure();return}this.success(n)}};ic.SRV_RECORD_DISCOVERY="srvRecordDiscovery";oc.SrvPoller=ic});var eb=y(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.ServerCapabilities=uc.Topology=void 0;var BY=require("util"),Gw=G6(),Qr=It(),Bi=Y(),dt=Ko(),PY=gn(),dl=jt(),Hn=ne(),me=dn(),_o=np(),Hw=x6(),BE=O1(),ME=l1(),Ao=bE(),vp=TE(),Kw=sg(),FY=0,pl=(0,Hn.makeStateMachine)({[me.STATE_CLOSED]:[me.STATE_CLOSED,me.STATE_CONNECTING],[me.STATE_CONNECTING]:[me.STATE_CONNECTING,me.STATE_CLOSING,me.STATE_CONNECTED,me.STATE_CLOSED],[me.STATE_CONNECTED]:[me.STATE_CONNECTED,me.STATE_CLOSING,me.STATE_CLOSED],[me.STATE_CLOSING]:[me.STATE_CLOSING,me.STATE_CLOSED]}),PE=Symbol("cancelled"),Mi=Symbol("waitQueue"),ke=class extends PY.TypedEventEmitter{constructor(e,r,n){super(),this.client=e,this.selectServerAsync=(0,BY.promisify)((c,l,f)=>this.selectServer(c,l,f)),n=n??{hosts:[Hn.HostAddress.fromString("localhost:27017")],...Object.fromEntries(Gw.DEFAULT_OPTIONS.entries()),...Object.fromEntries(Gw.FEATURE_FLAGS.entries())},typeof r=="string"?r=[Hn.HostAddress.fromString(r)]:Array.isArray(r)||(r=[r]);let s=[];for(let c of r)if(typeof c=="string")s.push(Hn.HostAddress.fromString(c));else if(c instanceof Hn.HostAddress)s.push(c);else throw new Bi.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(c)}`);let i=NY(n),o=FY++,u=n.srvMaxHosts==null||n.srvMaxHosts===0||n.srvMaxHosts>=s.length?s:(0,Hn.shuffle)(s,n.srvMaxHosts),a=new Map;for(let c of u)a.set(c.toString(),new BE.ServerDescription(c));this[Mi]=new Hn.List,this.s={id:o,options:n,seedlist:s,state:me.STATE_CLOSED,description:new Kw.TopologyDescription(i,a,n.replicaSet,void 0,void 0,void 0,n),serverSelectionTimeoutMS:n.serverSelectionTimeoutMS,heartbeatFrequencyMS:n.heartbeatFrequencyMS,minHeartbeatFrequencyMS:n.minHeartbeatFrequencyMS,servers:new Map,credentials:n?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:c=>this.detectShardedTopology(c),detectSrvRecords:c=>this.detectSrvRecords(c)},this.mongoLogger=e.mongoLogger,this.component="topology",n.srvHost&&!n.loadBalanced&&(this.s.srvPoller=n.srvPoller??new vp.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:n.srvHost,srvMaxHosts:n.srvMaxHosts,srvServiceName:n.srvServiceName}),this.on(ke.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology))}detectShardedTopology(e){let r=e.previousDescription.type,n=e.newDescription.type,s=r!==me.TopologyType.Sharded&&n===me.TopologyType.Sharded,o=!!this.s.srvPoller?.listeners(vp.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);s&&!o&&(this.s.srvPoller?.on(vp.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start())}detectSrvRecords(e){let r=this.s.description;this.s.description=this.s.description.updateFromSrvPollingEvent(e,this.s.options.srvMaxHosts),this.s.description!==r&&(Yw(this),this.emitAndLog(ke.TOPOLOGY_DESCRIPTION_CHANGED,new _o.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description)))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get serverApi(){return this.s.options.serverApi}get capabilities(){return new kp(this.lastHello())}connect(e,r){if(typeof e=="function"&&(r=e,e={}),e=e??{},this.s.state===me.STATE_CONNECTED){typeof r=="function"&&r();return}pl(this,me.STATE_CONNECTING),this.emitAndLog(ke.TOPOLOGY_OPENING,new _o.TopologyOpeningEvent(this.s.id)),this.emitAndLog(ke.TOPOLOGY_DESCRIPTION_CHANGED,new _o.TopologyDescriptionChangedEvent(this.s.id,new Kw.TopologyDescription(me.TopologyType.Unknown),this.s.description));let n=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(n.map(u=>[u.address,Xw(this,u)])),this.s.options.loadBalanced)for(let u of n){let a=new BE.ServerDescription(u.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(a)}let s=u=>r?r(u):this.emit(ke.ERROR,u),i=e.readPreference??dl.ReadPreference.primary,o={operationName:"ping",...e};this.selectServer((0,ME.readPreferenceServerSelector)(i),o,(u,a)=>{if(u)return this.close(),s(u);if(!(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]===!0)&&a&&this.s.credentials){a.command((0,Hn.ns)("admin.$cmd"),{ping:1},{}).then(()=>{pl(this,me.STATE_CONNECTED),this.emit(ke.OPEN,this),this.emit(ke.CONNECT,this),r?.(void 0,this)},s);return}pl(this,me.STATE_CONNECTED),this.emit(ke.OPEN,this),this.emit(ke.CONNECT,this),r?.(void 0,this)})}close(){if(!(this.s.state===me.STATE_CLOSED||this.s.state===me.STATE_CLOSING)){for(let e of this.s.servers.values())Jw(e,this);this.s.servers.clear(),pl(this,me.STATE_CLOSING),Zw(this[Mi],new Bi.MongoTopologyClosedError),(0,me.drainTimerQueue)(this.s.connectionTimers),this.s.srvPoller&&(this.s.srvPoller.stop(),this.s.srvPoller.removeListener(vp.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords)),this.removeListener(ke.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),pl(this,me.STATE_CLOSED),this.emitAndLog(ke.TOPOLOGY_CLOSED,new _o.TopologyClosedEvent(this.s.id))}}selectServer(e,r,n){let s;if(typeof e!="function")if(typeof e=="string")s=(0,ME.readPreferenceServerSelector)(dl.ReadPreference.fromString(e));else{let c;e instanceof dl.ReadPreference?c=e:(dl.ReadPreference.translate(r),c=r.readPreference||dl.ReadPreference.primary),s=(0,ME.readPreferenceServerSelector)(c)}else s=e;r={serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS,...r},this.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionStartedEvent(e,this.description,r.operationName));let i=this.description.type===me.TopologyType.Sharded,o=r.session,u=o&&o.transaction;if(i&&u&&u.server){this.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionSucceededEvent(e,this.description,u.server.pool.address,r.operationName)),n(void 0,u.server);return}let a={serverSelector:s,topologyDescription:this.description,mongoLogger:this.client.mongoLogger,transaction:u,callback:n,timeoutController:new Hn.TimeoutController(r.serverSelectionTimeoutMS),startTime:(0,Hn.now)(),operationName:r.operationName,waitingLogged:!1,previousServer:r.previousServer};a.timeoutController.signal.addEventListener("abort",()=>{a[PE]=!0,a.timeoutController.clear();let c=new Bi.MongoServerSelectionError(`Server selection timed out after ${r.serverSelectionTimeoutMS} ms`,this.description);this.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionFailedEvent(e,this.description,c,r.operationName)),a.callback(c)}),this[Mi].push(a),Qw(this)}serverUpdateHandler(e){if(!this.s.description.hasServer(e.address)||$Y(this.s.description,e))return;let r=this.s.description,n=this.s.description.servers.get(e.address);if(!n)return;let s=e.$clusterTime;s&&(0,me._advanceClusterTime)(this,s);let i=n&&n.equals(e);if(this.s.description=this.s.description.update(e),this.s.description.compatibilityError){this.emit(ke.ERROR,new Bi.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!i){let o=this.s.description.servers.get(e.address);o&&this.emit(ke.SERVER_DESCRIPTION_CHANGED,new _o.ServerDescriptionChangedEvent(this.s.id,e.address,n,o))}Yw(this,e),this[Mi].length>0&&Qw(this),i||this.emitAndLog(ke.TOPOLOGY_DESCRIPTION_CHANGED,new _o.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description))}auth(e,r){typeof e=="function"&&(r=e,e=void 0),typeof r=="function"&&r(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===me.STATE_CONNECTED}isDestroyed(){return this.s.state===me.STATE_CLOSED}lastHello(){let e=Array.from(this.description.servers.values());return e.length===0?{}:e.filter(s=>s.type!==me.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(e){this.s.clusterTime=e}};ke.SERVER_OPENING=Qr.SERVER_OPENING;ke.SERVER_CLOSED=Qr.SERVER_CLOSED;ke.SERVER_DESCRIPTION_CHANGED=Qr.SERVER_DESCRIPTION_CHANGED;ke.TOPOLOGY_OPENING=Qr.TOPOLOGY_OPENING;ke.TOPOLOGY_CLOSED=Qr.TOPOLOGY_CLOSED;ke.TOPOLOGY_DESCRIPTION_CHANGED=Qr.TOPOLOGY_DESCRIPTION_CHANGED;ke.ERROR=Qr.ERROR;ke.OPEN=Qr.OPEN;ke.CONNECT=Qr.CONNECT;ke.CLOSE=Qr.CLOSE;ke.TIMEOUT=Qr.TIMEOUT;uc.Topology=ke;function Jw(t,e){for(let r of Qr.LOCAL_SERVER_EVENTS)t.removeAllListeners(r);t.destroy(),e.emitAndLog(ke.SERVER_CLOSED,new _o.ServerClosedEvent(e.s.id,t.description.address));for(let r of Qr.SERVER_RELAY_EVENTS)t.removeAllListeners(r)}function NY(t){return t?.directConnection?me.TopologyType.Single:t?.replicaSet?me.TopologyType.ReplicaSetNoPrimary:t?.loadBalanced?me.TopologyType.LoadBalanced:me.TopologyType.Unknown}function Xw(t,e){t.emitAndLog(ke.SERVER_OPENING,new _o.ServerOpeningEvent(t.s.id,e.address));let r=new Hw.Server(t,e,t.s.options);for(let n of Qr.SERVER_RELAY_EVENTS)r.on(n,s=>t.emit(n,s));return r.on(Hw.Server.DESCRIPTION_RECEIVED,n=>t.serverUpdateHandler(n)),r.connect(),r}function Yw(t,e){if(e&&t.s.servers.has(e.address)){let r=t.s.servers.get(e.address);if(r){if(r.s.description=e,e.error instanceof Bi.MongoError&&e.error.hasErrorLabel(Bi.MongoErrorLabel.ResetPool)){let n=e.error.hasErrorLabel(Bi.MongoErrorLabel.InterruptInUseConnections);r.pool.clear({interruptInUseConnections:n})}else if(e.error==null){let n=t.s.description.type;(e.isDataBearing||e.type!==me.ServerType.Unknown&&n===me.TopologyType.Single)&&r.pool.ready()}}}for(let r of t.description.servers.values())if(!t.s.servers.has(r.address)){let n=Xw(t,r);t.s.servers.set(r.address,n)}for(let r of t.s.servers){let n=r[0];if(t.description.hasServer(n)||!t.s.servers.has(n))continue;let s=t.s.servers.get(n);t.s.servers.delete(n),s&&Jw(s,t)}}function Zw(t,e){for(;t.length;){let r=t.shift();r&&(r.timeoutController.clear(),r[PE]||(e&&r.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&r.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionFailedEvent(r.serverSelector,r.topologyDescription,e,r.operationName)),r.callback(e)))}}function Qw(t){if(t.s.state===me.STATE_CLOSED){Zw(t[Mi],new Bi.MongoTopologyClosedError);return}let e=t.description.type===me.TopologyType.Sharded,r=Array.from(t.description.servers.values()),n=t[Mi].length;for(let s=0;s<n;++s){let i=t[Mi].shift();if(!i||i[PE])continue;let o;try{let c=i.serverSelector,l=i.previousServer;o=c?c(t.description,r,l?[l]:[]):r}catch(c){i.timeoutController.clear(),t.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&t.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionFailedEvent(i.serverSelector,t.description,c,i.operationName)),i.callback(c);continue}let u;if(o.length===0){i.waitingLogged||(t.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.INFORMATIONAL)&&t.client.mongoLogger?.info(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.WaitingForSuitableServerEvent(i.serverSelector,t.description,t.s.serverSelectionTimeoutMS!==0?t.s.serverSelectionTimeoutMS-((0,Hn.now)()-i.startTime):-1,i.operationName)),i.waitingLogged=!0),t[Mi].push(i);continue}else if(o.length===1)u=t.s.servers.get(o[0].address);else{let c=(0,Hn.shuffle)(o,2),l=t.s.servers.get(c[0].address),f=t.s.servers.get(c[1].address);u=l&&f&&l.s.operationCount<f.s.operationCount?l:f}if(!u){let c=new Bi.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",t.description);t.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&t.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionFailedEvent(i.serverSelector,t.description,c,i.operationName)),i.callback(c);return}let a=i.transaction;e&&a&&a.isActive&&u&&a.pinServer(u),i.timeoutController.clear(),t.client.mongoLogger?.willLog(dt.MongoLoggableComponent.SERVER_SELECTION,dt.SeverityLevel.DEBUG)&&t.client.mongoLogger?.debug(dt.MongoLoggableComponent.SERVER_SELECTION,new Ao.ServerSelectionSucceededEvent(i.serverSelector,i.topologyDescription,u.pool.address,i.operationName)),i.callback(void 0,u)}if(t[Mi].length>0)for(let[,s]of t.s.servers)process.nextTick(function(){return s.requestCheck()})}function $Y(t,e){let n=t.servers.get(e.address)?.topologyVersion;return(0,BE.compareTopologyVersion)(n,e.topologyVersion)>0}var kp=class{constructor(e){this.minWireVersion=e.minWireVersion||0,this.maxWireVersion=e.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}};uc.ServerCapabilities=kp});var lu=y(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.MongoClient=ac.ServerApiVersion=void 0;var FE=require("fs"),IY=require("util"),RY=Ke(),xY=Aa(),vY=wd(),kY=ps(),tb=G6(),qY=It(),LY=Cd(),rb=Y(),jY=AE(),nb=Ko(),UY=gn(),VY=zr(),zY=ra(),sb=jt(),WY=l1(),ib=eb(),ob=S1(),Sn=ne();ac.ServerApiVersion=Object.freeze({v1:"1"});var Ct=Symbol("options"),NE=class extends UY.TypedEventEmitter{constructor(e,r){super(),this[Ct]=(0,tb.parseOptions)(e,this,r);let n=Object.values(this[Ct].mongoLoggerOptions.componentSeverities).some(i=>i!==nb.SeverityLevel.OFF);this.mongoLogger=n?new nb.MongoLogger(this[Ct].mongoLoggerOptions):void 0;let s=this;this.s={url:e,bsonOptions:(0,RY.resolveBSONOptions)(this[Ct]),namespace:(0,Sn.ns)("admin"),hasBeenClosed:!1,sessionPool:new ob.ServerSessionPool(this),activeSessions:new Set,authProviders:new jY.MongoClientAuthProviders,get options(){return s[Ct]},get readConcern(){return s[Ct].readConcern},get writeConcern(){return s[Ct].writeConcern},get readPreference(){return s[Ct].readPreference},get isMongoClient(){return!0}},this.checkForNonGenuineHosts()}checkForNonGenuineHosts(){let e=this[Ct].hosts.filter(i=>(0,Sn.isHostMatch)(Sn.DOCUMENT_DB_CHECK,i.host)),r=(0,Sn.isHostMatch)(Sn.DOCUMENT_DB_CHECK,this[Ct].srvHost),n=this[Ct].hosts.filter(i=>(0,Sn.isHostMatch)(Sn.COSMOS_DB_CHECK,i.host)),s=(0,Sn.isHostMatch)(Sn.COSMOS_DB_CHECK,this[Ct].srvHost);e.length!==0||r?this.mongoLogger?.info("client",Sn.DOCUMENT_DB_MSG):(n.length!==0||s)&&this.mongoLogger?.info("client",Sn.COSMOS_DB_MSG)}get options(){return Object.freeze({...this[Ct]})}get serverApi(){return this[Ct].serverApi&&Object.freeze({...this[Ct].serverApi})}get monitorCommands(){return this[Ct].monitorCommands}set monitorCommands(e){this[Ct].monitorCommands=e}get autoEncrypter(){return this[Ct].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;let e=this[Ct];if(e.tls&&(typeof e.tlsCAFile=="string"&&(e.ca??(e.ca=await FE.promises.readFile(e.tlsCAFile))),typeof e.tlsCRLFile=="string"&&(e.crl??(e.crl=await FE.promises.readFile(e.tlsCRLFile))),typeof e.tlsCertificateKeyFile=="string"&&(!e.key||!e.cert))){let n=await FE.promises.readFile(e.tlsCertificateKeyFile);e.key??(e.key=n),e.cert??(e.cert=n)}if(typeof e.srvHost=="string"){let n=await(0,tb.resolveSRVRecord)(e);for(let[s,i]of n.entries())e.hosts[s]=i}if(e.credentials?.mechanism===kY.AuthMechanism.MONGODB_OIDC){let n=e.credentials?.mechanismProperties?.ALLOWED_HOSTS||vY.DEFAULT_ALLOWED_HOSTS;if(!!!e.credentials?.mechanismProperties?.PROVIDER_NAME){for(let i of e.hosts)if(!(0,Sn.hostMatchesWildcards)(i.toHostPort().host,n))throw new rb.MongoInvalidArgumentError(`Host '${i}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${n.join(",")}'`)}}this.topology=new ib.Topology(this,e.hosts,e),this.topology.once(ib.Topology.OPEN,()=>this.emit("open",this));for(let n of qY.MONGO_CLIENT_EVENTS)this.topology.on(n,(...s)=>this.emit(n,...s));let r=async()=>{try{await(0,IY.promisify)(n=>this.topology?.connect(e,n))()}catch(n){throw this.topology?.close(),n}};return this.autoEncrypter?(await this.autoEncrypter?.init(),await r(),await e.encrypter.connectInternalClient()):await r(),this}async close(e=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});let r=Array.from(this.s.activeSessions,c=>c.endSession());if(this.s.activeSessions.clear(),await Promise.all(r),this.topology==null)return;let n=(0,WY.readPreferenceServerSelector)(sb.ReadPreference.primaryPreferred),s=this.topology.description,i=Array.from(s.servers.values());if(n(s,i).length!==0){let c=Array.from(this.s.sessionPool.sessions,({id:l})=>l);c.length!==0&&await(0,VY.executeOperation)(this,new zY.RunAdminCommandOperation({endSessions:c},{readPreference:sb.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}let u=this.topology;this.topology=void 0,u.close();let{encrypter:a}=this[Ct];a&&await a.close(this,e)}db(e,r){r=r??{},e||(e=this.options.dbName);let n=Object.assign({},this[Ct],r);return new LY.Db(this,e,n)}static async connect(e,r){return new this(e,r).connect()}startSession(e){let r=new ob.ClientSession(this,this.s.sessionPool,{explicit:!0,...e},this[Ct]);return this.s.activeSessions.add(r),r.once("ended",()=>{this.s.activeSessions.delete(r)}),r}async withSession(e,r){let n={owner:Symbol(),...typeof e=="object"?e:{}},s=typeof e=="function"?e:r;if(s==null)throw new rb.MongoInvalidArgumentError("Missing required callback parameter");let i=this.startSession(n);try{return await s(i)}finally{try{await i.endSession()}catch{}}}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new xY.ChangeStream(this,e,(0,Sn.resolveOptions)(this,r))}};ac.MongoClient=NE});var Aa=y(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ChangeStream=void 0;var GY=nu(),ws=It(),HY=zg(),KY=Cd(),Ss=Y(),YY=lu(),QY=gn(),$E=ne(),cc=Symbol("cursorStream"),lc=Symbol("closed"),ml=Symbol("mode"),JY=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],Au={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},XY=[ws.RESUME_TOKEN_CHANGED,ws.END,ws.CLOSE],ZY="A change stream document has been received that lacks a resume token (_id).",qp="ChangeStream is closed",Sr=class extends QY.TypedEventEmitter{constructor(e,r=[],n={}){if(super(),this.pipeline=r,this.options={...n},delete this.options.writeConcern,e instanceof GY.Collection)this.type=Au.COLLECTION;else if(e instanceof KY.Db)this.type=Au.DATABASE;else if(e instanceof YY.MongoClient)this.type=Au.CLUSTER;else throw new Ss.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");this.parent=e,this.namespace=e.s.namespace,!this.options.readPreference&&e.readPreference&&(this.options.readPreference=e.readPreference),this.cursor=this._createChangeStreamCursor(n),this[lc]=!1,this[ml]=!1,this.on("newListener",s=>{s==="change"&&this.cursor&&this.listenerCount("change")===0&&this._streamEvents(this.cursor)}),this.on("removeListener",s=>{s==="change"&&this.listenerCount("change")===0&&this.cursor&&this[cc]?.removeAllListeners("data")})}get cursorStream(){return this[cc]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){for(this._setIsIterator();;)try{return await this.cursor.hasNext()}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async next(){for(this._setIsIterator();;)try{let e=await this.cursor.next();return this._processChange(e??null)}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async tryNext(){for(this._setIsIterator();;)try{return await this.cursor.tryNext()??null}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[lc]||this.cursor.closed}async close(){this[lc]=!0;let e=this.cursor;try{await e.close()}finally{this._endStream()}}stream(e){if(this.closed)throw new Ss.MongoChangeStreamError(qp);return this.streamOptions=e,this.cursor.stream(e)}_setIsEmitter(){if(this[ml]==="iterator")throw new Ss.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[ml]="emitter"}_setIsIterator(){if(this[ml]==="emitter")throw new Ss.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[ml]="iterator"}_createChangeStreamCursor(e){let r=(0,$E.filterOptions)(e,JY);this.type===Au.CLUSTER&&(r.allChangesForCluster=!0);let n=[{$changeStream:r},...this.pipeline],s=this.type===Au.CLUSTER?this.parent:this.type===Au.DATABASE?this.parent.client:this.type===Au.COLLECTION?this.parent.client:null;if(s==null)throw new Ss.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);let i=new HY.ChangeStreamCursor(s,this.namespace,n,e);for(let o of XY)i.on(o,u=>this.emit(o,u));return this.listenerCount(Sr.CHANGE)>0&&this._streamEvents(i),i}_closeEmitterModeWithError(e){this.emit(Sr.ERROR,e),this.close().catch(()=>null)}_streamEvents(e){this._setIsEmitter();let r=this[cc]??e.stream();this[cc]=r,r.on("data",n=>{try{let s=this._processChange(n);this.emit(Sr.CHANGE,s)}catch(s){this.emit(Sr.ERROR,s)}}),r.on("error",n=>this._processErrorStreamMode(n))}_endStream(){let e=this[cc];e&&(["data","close","end","error"].forEach(r=>e.removeAllListeners(r)),e.destroy()),this[cc]=void 0}_processChange(e){if(this[lc])throw new Ss.MongoAPIError(qp);if(e==null)throw new Ss.MongoRuntimeError(qp);if(e&&!e._id)throw new Ss.MongoChangeStreamError(ZY);return this.cursor.cacheResumeToken(e._id),this.options.startAtOperationTime=void 0,e}_processErrorStreamMode(e){this[lc]||((0,Ss.isResumableError)(e,this.cursor.maxWireVersion)?(this._endStream(),this.cursor.close().catch(()=>null),(0,$E.getTopology)(this.parent).selectServer(this.cursor.readPreference,{operationName:"reconnect topology in change stream"},n=>{if(n)return this._closeEmitterModeWithError(e);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)})):this._closeEmitterModeWithError(e))}async _processErrorIteratorMode(e){if(this[lc])throw new Ss.MongoAPIError(qp);if(!(0,Ss.isResumableError)(e,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw e}await this.cursor.close().catch(()=>null);let r=(0,$E.getTopology)(this.parent);try{await r.selectServerAsync(this.cursor.readPreference,{operationName:"reconnect topology in change stream"}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),e}}};Sr.RESPONSE=ws.RESPONSE;Sr.MORE=ws.MORE;Sr.INIT=ws.INIT;Sr.CLOSE=ws.CLOSE;Sr.CHANGE=ws.CHANGE;Sr.END=ws.END;Sr.ERROR=ws.ERROR;Sr.RESUME_TOKEN_CHANGED=ws.RESUME_TOKEN_CHANGED;Lp.ChangeStream=Sr});var IE=y(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.GridFSBucketReadStream=void 0;var eQ=require("stream"),wn=Y(),yl=class extends eQ.Readable{constructor(e,r,n,s,i){super({emitClose:!0}),this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:e,expected:0,files:r,filter:s,init:!1,expectedEnd:0,options:{start:0,end:0,...i},readPreference:n}}_read(){this.destroyed||nQ(this,()=>tQ(this))}start(e=0){return ub(this),this.s.options.start=e,this}end(e=0){return ub(this),this.s.options.end=e,this}async abort(){this.push(null),this.destroy(),await this.s.cursor?.close()}};yl.FILE="file";jp.GridFSBucketReadStream=yl;function ub(t){if(t.s.init)throw new wn.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")}function tQ(t){if(t.destroyed||!t.s.cursor||!t.s.file)return;let e=({error:r,doc:n})=>{if(t.destroyed)return;if(r){t.destroy(r);return}if(!n){t.push(null),t.s.cursor?.close().then(()=>null,h=>t.destroy(h));return}if(!t.s.file)return;let s=t.s.file.length-t.s.bytesRead,i=t.s.expected++,o=Math.min(t.s.file.chunkSize,s);if(n.n>i)return t.destroy(new wn.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${n.n}, expected: ${i}`));if(n.n<i)return t.destroy(new wn.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${n.n}, expected: ${i}`));let u=Buffer.isBuffer(n.data)?n.data:n.data.buffer;if(u.byteLength!==o)return s<=0?t.destroy(new wn.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${n.n}, expected file length ${t.s.file.length} bytes but already read ${t.s.bytesRead} bytes`)):t.destroy(new wn.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${u.byteLength}, expected: ${o}`));if(t.s.bytesRead+=u.byteLength,u.byteLength===0)return t.push(null);let a=null,c=null;t.s.bytesToSkip!=null&&(a=t.s.bytesToSkip,t.s.bytesToSkip=0);let l=i===t.s.expectedEnd-1,f=t.s.options.end-t.s.bytesToSkip;l&&t.s.bytesToTrim!=null?c=t.s.file.chunkSize-t.s.bytesToTrim:t.s.options.end&&f<n.data.byteLength&&(c=f),(a!=null||c!=null)&&(u=u.slice(a||0,c||u.byteLength)),t.push(u)};t.s.cursor.next().then(r=>e({error:null,doc:r}),r=>e({error:r,doc:null}))}function rQ(t){let e={};t.s.readPreference&&(e.readPreference=t.s.readPreference),t.s.options&&t.s.options.sort&&(e.sort=t.s.options.sort),t.s.options&&t.s.options.skip&&(e.skip=t.s.options.skip);let r=({error:n,doc:s})=>{if(n)return t.destroy(n);if(!s){let u=`FileNotFound: file ${t.s.filter._id?t.s.filter._id.toString():t.s.filter.filename} was not found`,a=new wn.MongoRuntimeError(u);return a.code="ENOENT",t.destroy(a)}if(s.length<=0){t.push(null);return}if(t.destroyed){t.destroy();return}try{t.s.bytesToSkip=sQ(t,s,t.s.options)}catch(o){return t.destroy(o)}let i={files_id:s._id};if(t.s.options&&t.s.options.start!=null){let o=Math.floor(t.s.options.start/s.chunkSize);o>0&&(i.n={$gte:o})}t.s.cursor=t.s.chunks.find(i).sort({n:1}),t.s.readPreference&&t.s.cursor.withReadPreference(t.s.readPreference),t.s.expectedEnd=Math.ceil(s.length/s.chunkSize),t.s.file=s;try{t.s.bytesToTrim=iQ(t,s,t.s.cursor,t.s.options)}catch(o){return t.destroy(o)}t.emit(yl.FILE,s)};t.s.files.findOne(t.s.filter,e).then(n=>r({error:null,doc:n}),n=>r({error:n,doc:null}))}function nQ(t,e){if(t.s.file)return e();t.s.init||(rQ(t),t.s.init=!0),t.once("file",()=>{e()})}function sQ(t,e,r){if(r&&r.start!=null){if(r.start>e.length)throw new wn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be more than the length of the file (${e.length})`);if(r.start<0)throw new wn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be negative`);if(r.end!=null&&r.end<r.start)throw new wn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be greater than stream end (${r.end})`);return t.s.bytesRead=Math.floor(r.start/e.chunkSize)*e.chunkSize,t.s.expected=Math.floor(r.start/e.chunkSize),r.start-t.s.bytesRead}throw new wn.MongoInvalidArgumentError("Start option must be defined")}function iQ(t,e,r,n){if(n&&n.end!=null){if(n.end>e.length)throw new wn.MongoInvalidArgumentError(`Stream end (${n.end}) must not be more than the length of the file (${e.length})`);if(n.start==null||n.start<0)throw new wn.MongoInvalidArgumentError(`Stream end (${n.end}) must not be negative`);let s=n.start!=null?Math.floor(n.start/e.chunkSize):0;return r.limit(Math.ceil(n.end/e.chunkSize)-s),t.s.expectedEnd=Math.ceil(n.end/e.chunkSize),Math.ceil(n.end/e.chunkSize)*e.chunkSize-n.end}throw new wn.MongoInvalidArgumentError("End option must be defined")}});var kE=y(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.GridFSBucketWriteStream=void 0;var oQ=require("stream"),ab=Ke(),Ou=Y(),uQ=Vr(),RE=class extends oQ.Writable{constructor(e,r,n){super(),this.gridFSFile=null,n=n??{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=r,this.files=e.s._filesCollection,this.options=n,this.writeConcern=uQ.WriteConcern.fromOptions(n)||e.s.options.writeConcern,this.done=!1,this.id=n.id?n.id:new ab.ObjectId,this.chunkSizeBytes=n.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},this.bucket.s.calledOpenUploadStream||(this.bucket.s.calledOpenUploadStream=!0,cQ(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null))}_construct(e){if(this.bucket.s.checkedIndexes)return process.nextTick(e);this.bucket.once("index",e)}_write(e,r,n){fQ(this,e,r,n)}_final(e){if(this.state.streamEnd)return process.nextTick(e);this.state.streamEnd=!0,hQ(this,e)}async abort(){if(this.state.streamEnd)throw new Ou.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new Ou.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}};Vp.GridFSBucketWriteStream=RE;function vE(t,e,r){if(t.state.errored){process.nextTick(r);return}t.state.errored=!0,process.nextTick(r,e)}function cb(t,e,r){return{_id:new ab.ObjectId,files_id:t,n:e,data:r}}async function aQ(t){let e={files_id:1,n:1},r;try{r=await t.chunks.listIndexes().toArray()}catch(s){if(s instanceof Ou.MongoError&&s.code===Ou.MONGODB_ERROR_CODES.NamespaceNotFound)r=[];else throw s}!!r.find(s=>Object.keys(s.key).length===2&&s.key.files_id===1&&s.key.n===1)||await t.chunks.createIndex(e,{...t.writeConcern,background:!0,unique:!0})}function xE(t,e){if(t.done)return process.nextTick(e);if(t.state.streamEnd&&t.state.outstandingRequests===0&&!t.state.errored){t.done=!0;let r=lQ(t.id,t.length,t.chunkSizeBytes,t.filename,t.options.contentType,t.options.aliases,t.options.metadata);if(Up(t,e))return;t.files.insertOne(r,{writeConcern:t.writeConcern}).then(()=>{t.gridFSFile=r,e()},n=>vE(t,n,e));return}process.nextTick(e)}async function cQ(t){if(await t.files.findOne({},{projection:{_id:1}})!=null)return;let r={filename:1,uploadDate:1},n;try{n=await t.files.listIndexes().toArray()}catch(i){if(i instanceof Ou.MongoError&&i.code===Ou.MONGODB_ERROR_CODES.NamespaceNotFound)n=[];else throw i}!!n.find(i=>Object.keys(i.key).length===2&&i.key.filename===1&&i.key.uploadDate===1)||await t.files.createIndex(r,{background:!1}),await aQ(t)}function lQ(t,e,r,n,s,i,o){let u={_id:t,length:e,chunkSize:r,uploadDate:new Date,filename:n};return s&&(u.contentType=s),i&&(u.aliases=i),o&&(u.metadata=o),u}function fQ(t,e,r,n){if(Up(t,n))return;let s=Buffer.isBuffer(e)?e:Buffer.from(e,r);if(t.length+=s.length,t.pos+s.length<t.chunkSizeBytes){s.copy(t.bufToStore,t.pos),t.pos+=s.length,process.nextTick(n);return}let i=s.length,o=t.chunkSizeBytes-t.pos,u=Math.min(o,s.length),a=0;for(;i>0;){let c=s.length-i;s.copy(t.bufToStore,t.pos,c,c+u),t.pos+=u,o-=u;let l;if(o===0){if(l=cb(t.id,t.n,Buffer.from(t.bufToStore)),++t.state.outstandingRequests,++a,Up(t,n))return;t.chunks.insertOne(l,{writeConcern:t.writeConcern}).then(()=>{--t.state.outstandingRequests,--a,a||xE(t,n)},f=>vE(t,f,n)),o=t.chunkSizeBytes,t.pos=0,++t.n}i-=u,u=Math.min(o,i)}}function hQ(t,e){if(t.pos===0)return xE(t,e);++t.state.outstandingRequests;let r=Buffer.alloc(t.pos);t.bufToStore.copy(r,0,0,t.pos);let n=cb(t.id,t.n,r);Up(t,e)||t.chunks.insertOne(n,{writeConcern:t.writeConcern}).then(()=>{--t.state.outstandingRequests,xE(t,e)},s=>vE(t,s,e))}function Up(t,e){return t.state.aborted?(process.nextTick(e,new Ou.MongoAPIError("Stream has been aborted")),!0):!1}});var db=y(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.GridFSBucket=void 0;var lb=Y(),dQ=gn(),pQ=Vr(),fb=IE(),hb=kE(),mQ={bucketName:"fs",chunkSizeBytes:255*1024},zp=class extends dQ.TypedEventEmitter{constructor(e,r){super(),this.setMaxListeners(0);let n={...mQ,...r,writeConcern:pQ.WriteConcern.fromOptions(r)};this.s={db:e,options:n,_chunksCollection:e.collection(n.bucketName+".chunks"),_filesCollection:e.collection(n.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(e,r){return new hb.GridFSBucketWriteStream(this,e,r)}openUploadStreamWithId(e,r,n){return new hb.GridFSBucketWriteStream(this,r,{...n,id:e})}openDownloadStream(e,r){return new fb.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:e},r)}async delete(e){let{deletedCount:r}=await this.s._filesCollection.deleteOne({_id:e});if(await this.s._chunksCollection.deleteMany({files_id:e}),r===0)throw new lb.MongoRuntimeError(`File not found for id ${e}`)}find(e={},r={}){return this.s._filesCollection.find(e,r)}openDownloadStreamByName(e,r){let n={uploadDate:-1},s;return r&&r.revision!=null&&(r.revision>=0?(n={uploadDate:1},s=r.revision):s=-r.revision-1),new fb.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:e},{...r,sort:n,skip:s})}async rename(e,r){let n={_id:e},s={$set:{filename:r}},{matchedCount:i}=await this.s._filesCollection.updateOne(n,s);if(i===0)throw new lb.MongoRuntimeError(`File with id ${e} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}};zp.INDEX="index";Wp.GridFSBucket=zp});var pb=y(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.ClientEncryption=void 0;var Zs=Ke(),yQ=ds(),Oo=ne(),gQ=$3(),Cu=au(),EQ=L3(),Gp=U3(),fc=class{static getMongoCrypt(){let e=(0,yQ.getMongoDBClientEncryption)();if("kModuleError"in e)throw e.kModuleError;return e.MongoCrypt}constructor(e,r){if(this._client=e,this._proxyOptions=r.proxyOptions??{},this._tlsOptions=r.tlsOptions??{},this._kmsProviders=r.kmsProviders||{},r.keyVaultNamespace==null)throw new Cu.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");let n={...r,cryptoCallbacks:gQ,kmsProviders:Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,Zs.serialize)(this._kmsProviders)};this._keyVaultNamespace=r.keyVaultNamespace,this._keyVaultClient=r.keyVaultClient||e;let s=fc.getMongoCrypt();this._mongoCrypt=new s(n)}async createDataKey(e,r={}){if(r.keyAltNames&&!Array.isArray(r.keyAltNames))throw new Cu.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof r.keyAltNames}.`);let n;r.keyAltNames&&r.keyAltNames.length>0&&(n=r.keyAltNames.map((h,d)=>{if(typeof h!="string")throw new Cu.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${d} was of type ${typeof h}`);return(0,Zs.serialize)({keyAltName:h})}));let s;r.keyMaterial&&(s=(0,Zs.serialize)({keyMaterial:r.keyMaterial}));let i=(0,Zs.serialize)({provider:e,...r.masterKey}),o=this._mongoCrypt.makeDataKeyContext(i,{keyAltNames:n,keyMaterial:s}),a=await new Gp.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,o),{db:c,collection:l}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:f}=await this._keyVaultClient.db(c).collection(l).insertOne(a,{writeConcern:{w:"majority"}});return f}async rewrapManyDataKey(e,r){let n;if(r){let h=Object.assign({provider:r.provider},r.masterKey);n=(0,Zs.serialize)(h)}let s=(0,Zs.serialize)(e),i=this._mongoCrypt.makeRewrapManyDataKeyContext(s,n),o=new Gp.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:u}=await o.execute(this,i);if(u.length===0)return{};let{db:a,collection:c}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),l=u.map(h=>({updateOne:{filter:{_id:h._id},update:{$set:{masterKey:h.masterKey,keyMaterial:h.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(a).collection(c).bulkWrite(l,{writeConcern:{w:"majority"}})}}async deleteKey(e){let{db:r,collection:n}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(r).collection(n).deleteOne({_id:e},{writeConcern:{w:"majority"}})}getKeys(){let{db:e,collection:r}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(e).collection(r).find({},{readConcern:{level:"majority"}})}async getKey(e){let{db:r,collection:n}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(r).collection(n).findOne({_id:e},{readConcern:{level:"majority"}})}async getKeyByAltName(e){let{db:r,collection:n}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(r).collection(n).findOne({keyAltNames:e},{readConcern:{level:"majority"}})}async addKeyAltName(e,r){let{db:n,collection:s}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(n).collection(s).findOneAndUpdate({_id:e},{$addToSet:{keyAltNames:r}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(e,r){let{db:n,collection:s}=Oo.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),i=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[r]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",r]}}}]}}}];return await this._keyVaultClient.db(n).collection(s).findOneAndUpdate({_id:e},i,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(e,r,n){let{provider:s,masterKey:i,createCollectionOptions:{encryptedFields:{...o},...u}}=n;if(Array.isArray(o.fields)){let a=o.fields.map(async f=>f==null||typeof f!="object"||f.keyId!=null?f:{...f,keyId:await this.createDataKey(s,{masterKey:i})}),c=await Promise.allSettled(a);o.fields=c.map((f,h)=>f.status==="fulfilled"?f.value:o.fields[h]);let l=c.find(f=>f.status==="rejected");if(l!=null)throw new Cu.MongoCryptCreateDataKeyError(o,{cause:l.reason})}try{return{collection:await e.createCollection(r,{...u,encryptedFields:o}),encryptedFields:o}}catch(a){throw new Cu.MongoCryptCreateEncryptedCollectionError(o,{cause:a})}}async encrypt(e,r){return this._encrypt(e,!1,r)}async encryptExpression(e,r){return this._encrypt(e,!0,r)}async decrypt(e){let r=(0,Zs.serialize)({v:e}),n=this._mongoCrypt.makeExplicitDecryptionContext(r),s=new Gp.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:i}=await s.execute(this,n);return i}async askForKMSCredentials(){return(0,EQ.refreshKMSCredentials)(this._kmsProviders)}static get libmongocryptVersion(){return fc.getMongoCrypt().libmongocryptVersion}async _encrypt(e,r,n){let{algorithm:s,keyId:i,keyAltName:o,contentionFactor:u,queryType:a,rangeOptions:c}=n,l={expressionMode:r,algorithm:s};if(i&&(l.keyId=i.buffer),o){if(i)throw new Cu.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof o!="string")throw new Cu.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof o}`);l.keyAltName=(0,Zs.serialize)({keyAltName:o})}(typeof u=="number"||typeof u=="bigint")&&(l.contentionFactor=u),typeof a=="string"&&(l.queryType=a),typeof c=="object"&&(l.rangeOptions=(0,Zs.serialize)(c));let f=(0,Zs.serialize)({v:e}),h=new Gp.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),d=this._mongoCrypt.makeExplicitEncryptionContext(f,l);return(await h.execute(this,d)).v}};Hp.ClientEncryption=fc});var Kp=y(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.MongoUnexpectedServerResponseError=O.MongoTransactionError=O.MongoTopologyClosedError=O.MongoTailableCursorError=O.MongoSystemError=O.MongoServerSelectionError=O.MongoServerError=O.MongoServerClosedError=O.MongoRuntimeError=O.MongoParseError=O.MongoNotConnectedError=O.MongoNetworkTimeoutError=O.MongoNetworkError=O.MongoMissingDependencyError=O.MongoMissingCredentialsError=O.MongoKerberosError=O.MongoInvalidArgumentError=O.MongoGridFSStreamError=O.MongoGridFSChunkError=O.MongoExpiredSessionError=O.MongoError=O.MongoDriverError=O.MongoDecompressionError=O.MongoCursorInUseError=O.MongoCursorExhaustedError=O.MongoCompatibilityError=O.MongoChangeStreamError=O.MongoBatchReExecutionError=O.MongoAzureError=O.MongoAWSError=O.MongoAPIError=O.ChangeStreamCursor=O.ClientEncryption=O.MongoBulkWriteError=O.UUID=O.Timestamp=O.ObjectId=O.MinKey=O.MaxKey=O.Long=O.Int32=O.Double=O.Decimal128=O.DBRef=O.Code=O.BSONType=O.BSONSymbol=O.BSONRegExp=O.Binary=O.BSON=void 0;O.ConnectionPoolReadyEvent=O.ConnectionPoolMonitoringEvent=O.ConnectionPoolCreatedEvent=O.ConnectionPoolClosedEvent=O.ConnectionPoolClearedEvent=O.ConnectionCreatedEvent=O.ConnectionClosedEvent=O.ConnectionCheckOutStartedEvent=O.ConnectionCheckOutFailedEvent=O.ConnectionCheckedOutEvent=O.ConnectionCheckedInEvent=O.CommandSucceededEvent=O.CommandStartedEvent=O.CommandFailedEvent=O.WriteConcern=O.ReadPreference=O.ReadConcern=O.TopologyType=O.ServerType=O.ReadPreferenceMode=O.ReadConcernLevel=O.ProfilingLevel=O.ReturnDocument=O.ServerApiVersion=O.ExplainVerbosity=O.MongoErrorLabel=O.CURSOR_FLAGS=O.Compressor=O.AuthMechanism=O.GSSAPICanonicalizationValue=O.AutoEncryptionLoggerLevel=O.BatchType=O.UnorderedBulkOperation=O.OrderedBulkOperation=O.MongoClient=O.ListIndexesCursor=O.ListCollectionsCursor=O.GridFSBucketWriteStream=O.GridFSBucketReadStream=O.GridFSBucket=O.FindCursor=O.Db=O.Collection=O.ClientSession=O.ChangeStream=O.CancellationToken=O.AggregationCursor=O.Admin=O.AbstractCursor=O.MongoWriteConcernError=void 0;O.MongoClientAuthProviders=O.MongoCryptKMSRequestNetworkTimeoutError=O.MongoCryptInvalidArgumentError=O.MongoCryptError=O.MongoCryptCreateEncryptedCollectionError=O.MongoCryptCreateDataKeyError=O.MongoCryptAzureKMSRequestError=O.SrvPollingEvent=O.WaitingForSuitableServerEvent=O.ServerSelectionSucceededEvent=O.ServerSelectionStartedEvent=O.ServerSelectionFailedEvent=O.ServerSelectionEvent=O.TopologyOpeningEvent=O.TopologyDescriptionChangedEvent=O.TopologyClosedEvent=O.ServerOpeningEvent=O.ServerHeartbeatSucceededEvent=O.ServerHeartbeatStartedEvent=O.ServerHeartbeatFailedEvent=O.ServerDescriptionChangedEvent=O.ServerClosedEvent=O.ConnectionReadyEvent=void 0;var _Q=Fy();Object.defineProperty(O,"Admin",{enumerable:!0,get:function(){return _Q.Admin}});var AQ=Vy();Object.defineProperty(O,"OrderedBulkOperation",{enumerable:!0,get:function(){return AQ.OrderedBulkOperation}});var OQ=Wy();Object.defineProperty(O,"UnorderedBulkOperation",{enumerable:!0,get:function(){return OQ.UnorderedBulkOperation}});var CQ=Aa();Object.defineProperty(O,"ChangeStream",{enumerable:!0,get:function(){return CQ.ChangeStream}});var SQ=nu();Object.defineProperty(O,"Collection",{enumerable:!0,get:function(){return SQ.Collection}});var wQ=pi();Object.defineProperty(O,"AbstractCursor",{enumerable:!0,get:function(){return wQ.AbstractCursor}});var bQ=M1();Object.defineProperty(O,"AggregationCursor",{enumerable:!0,get:function(){return bQ.AggregationCursor}});var DQ=yg();Object.defineProperty(O,"FindCursor",{enumerable:!0,get:function(){return DQ.FindCursor}});var TQ=Wg();Object.defineProperty(O,"ListCollectionsCursor",{enumerable:!0,get:function(){return TQ.ListCollectionsCursor}});var MQ=wg();Object.defineProperty(O,"ListIndexesCursor",{enumerable:!0,get:function(){return MQ.ListIndexesCursor}});var BQ=Cd();Object.defineProperty(O,"Db",{enumerable:!0,get:function(){return BQ.Db}});var PQ=db();Object.defineProperty(O,"GridFSBucket",{enumerable:!0,get:function(){return PQ.GridFSBucket}});var FQ=IE();Object.defineProperty(O,"GridFSBucketReadStream",{enumerable:!0,get:function(){return FQ.GridFSBucketReadStream}});var NQ=kE();Object.defineProperty(O,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return NQ.GridFSBucketWriteStream}});var $Q=lu();Object.defineProperty(O,"MongoClient",{enumerable:!0,get:function(){return $Q.MongoClient}});var IQ=gn();Object.defineProperty(O,"CancellationToken",{enumerable:!0,get:function(){return IQ.CancellationToken}});var RQ=S1();Object.defineProperty(O,"ClientSession",{enumerable:!0,get:function(){return RQ.ClientSession}});var xQ=Ke();Object.defineProperty(O,"BSON",{enumerable:!0,get:function(){return xQ.BSON}});var Fr=Ke();Object.defineProperty(O,"Binary",{enumerable:!0,get:function(){return Fr.Binary}});Object.defineProperty(O,"BSONRegExp",{enumerable:!0,get:function(){return Fr.BSONRegExp}});Object.defineProperty(O,"BSONSymbol",{enumerable:!0,get:function(){return Fr.BSONSymbol}});Object.defineProperty(O,"BSONType",{enumerable:!0,get:function(){return Fr.BSONType}});Object.defineProperty(O,"Code",{enumerable:!0,get:function(){return Fr.Code}});Object.defineProperty(O,"DBRef",{enumerable:!0,get:function(){return Fr.DBRef}});Object.defineProperty(O,"Decimal128",{enumerable:!0,get:function(){return Fr.Decimal128}});Object.defineProperty(O,"Double",{enumerable:!0,get:function(){return Fr.Double}});Object.defineProperty(O,"Int32",{enumerable:!0,get:function(){return Fr.Int32}});Object.defineProperty(O,"Long",{enumerable:!0,get:function(){return Fr.Long}});Object.defineProperty(O,"MaxKey",{enumerable:!0,get:function(){return Fr.MaxKey}});Object.defineProperty(O,"MinKey",{enumerable:!0,get:function(){return Fr.MinKey}});Object.defineProperty(O,"ObjectId",{enumerable:!0,get:function(){return Fr.ObjectId}});Object.defineProperty(O,"Timestamp",{enumerable:!0,get:function(){return Fr.Timestamp}});Object.defineProperty(O,"UUID",{enumerable:!0,get:function(){return Fr.UUID}});var vQ=_1();Object.defineProperty(O,"MongoBulkWriteError",{enumerable:!0,get:function(){return vQ.MongoBulkWriteError}});var kQ=pb();Object.defineProperty(O,"ClientEncryption",{enumerable:!0,get:function(){return kQ.ClientEncryption}});var qQ=zg();Object.defineProperty(O,"ChangeStreamCursor",{enumerable:!0,get:function(){return qQ.ChangeStreamCursor}});var Ie=Y();Object.defineProperty(O,"MongoAPIError",{enumerable:!0,get:function(){return Ie.MongoAPIError}});Object.defineProperty(O,"MongoAWSError",{enumerable:!0,get:function(){return Ie.MongoAWSError}});Object.defineProperty(O,"MongoAzureError",{enumerable:!0,get:function(){return Ie.MongoAzureError}});Object.defineProperty(O,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return Ie.MongoBatchReExecutionError}});Object.defineProperty(O,"MongoChangeStreamError",{enumerable:!0,get:function(){return Ie.MongoChangeStreamError}});Object.defineProperty(O,"MongoCompatibilityError",{enumerable:!0,get:function(){return Ie.MongoCompatibilityError}});Object.defineProperty(O,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return Ie.MongoCursorExhaustedError}});Object.defineProperty(O,"MongoCursorInUseError",{enumerable:!0,get:function(){return Ie.MongoCursorInUseError}});Object.defineProperty(O,"MongoDecompressionError",{enumerable:!0,get:function(){return Ie.MongoDecompressionError}});Object.defineProperty(O,"MongoDriverError",{enumerable:!0,get:function(){return Ie.MongoDriverError}});Object.defineProperty(O,"MongoError",{enumerable:!0,get:function(){return Ie.MongoError}});Object.defineProperty(O,"MongoExpiredSessionError",{enumerable:!0,get:function(){return Ie.MongoExpiredSessionError}});Object.defineProperty(O,"MongoGridFSChunkError",{enumerable:!0,get:function(){return Ie.MongoGridFSChunkError}});Object.defineProperty(O,"MongoGridFSStreamError",{enumerable:!0,get:function(){return Ie.MongoGridFSStreamError}});Object.defineProperty(O,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return Ie.MongoInvalidArgumentError}});Object.defineProperty(O,"MongoKerberosError",{enumerable:!0,get:function(){return Ie.MongoKerberosError}});Object.defineProperty(O,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return Ie.MongoMissingCredentialsError}});Object.defineProperty(O,"MongoMissingDependencyError",{enumerable:!0,get:function(){return Ie.MongoMissingDependencyError}});Object.defineProperty(O,"MongoNetworkError",{enumerable:!0,get:function(){return Ie.MongoNetworkError}});Object.defineProperty(O,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return Ie.MongoNetworkTimeoutError}});Object.defineProperty(O,"MongoNotConnectedError",{enumerable:!0,get:function(){return Ie.MongoNotConnectedError}});Object.defineProperty(O,"MongoParseError",{enumerable:!0,get:function(){return Ie.MongoParseError}});Object.defineProperty(O,"MongoRuntimeError",{enumerable:!0,get:function(){return Ie.MongoRuntimeError}});Object.defineProperty(O,"MongoServerClosedError",{enumerable:!0,get:function(){return Ie.MongoServerClosedError}});Object.defineProperty(O,"MongoServerError",{enumerable:!0,get:function(){return Ie.MongoServerError}});Object.defineProperty(O,"MongoServerSelectionError",{enumerable:!0,get:function(){return Ie.MongoServerSelectionError}});Object.defineProperty(O,"MongoSystemError",{enumerable:!0,get:function(){return Ie.MongoSystemError}});Object.defineProperty(O,"MongoTailableCursorError",{enumerable:!0,get:function(){return Ie.MongoTailableCursorError}});Object.defineProperty(O,"MongoTopologyClosedError",{enumerable:!0,get:function(){return Ie.MongoTopologyClosedError}});Object.defineProperty(O,"MongoTransactionError",{enumerable:!0,get:function(){return Ie.MongoTransactionError}});Object.defineProperty(O,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return Ie.MongoUnexpectedServerResponseError}});Object.defineProperty(O,"MongoWriteConcernError",{enumerable:!0,get:function(){return Ie.MongoWriteConcernError}});var LQ=_1();Object.defineProperty(O,"BatchType",{enumerable:!0,get:function(){return LQ.BatchType}});var jQ=z3();Object.defineProperty(O,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return jQ.AutoEncryptionLoggerLevel}});var UQ=Sd();Object.defineProperty(O,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return UQ.GSSAPICanonicalizationValue}});var VQ=ps();Object.defineProperty(O,"AuthMechanism",{enumerable:!0,get:function(){return VQ.AuthMechanism}});var zQ=H1();Object.defineProperty(O,"Compressor",{enumerable:!0,get:function(){return zQ.Compressor}});var WQ=pi();Object.defineProperty(O,"CURSOR_FLAGS",{enumerable:!0,get:function(){return WQ.CURSOR_FLAGS}});var GQ=Y();Object.defineProperty(O,"MongoErrorLabel",{enumerable:!0,get:function(){return GQ.MongoErrorLabel}});var HQ=Cy();Object.defineProperty(O,"ExplainVerbosity",{enumerable:!0,get:function(){return HQ.ExplainVerbosity}});var KQ=lu();Object.defineProperty(O,"ServerApiVersion",{enumerable:!0,get:function(){return KQ.ServerApiVersion}});var YQ=Fg();Object.defineProperty(O,"ReturnDocument",{enumerable:!0,get:function(){return YQ.ReturnDocument}});var QQ=Qg();Object.defineProperty(O,"ProfilingLevel",{enumerable:!0,get:function(){return QQ.ProfilingLevel}});var JQ=$n();Object.defineProperty(O,"ReadConcernLevel",{enumerable:!0,get:function(){return JQ.ReadConcernLevel}});var XQ=jt();Object.defineProperty(O,"ReadPreferenceMode",{enumerable:!0,get:function(){return XQ.ReadPreferenceMode}});var mb=dn();Object.defineProperty(O,"ServerType",{enumerable:!0,get:function(){return mb.ServerType}});Object.defineProperty(O,"TopologyType",{enumerable:!0,get:function(){return mb.TopologyType}});var ZQ=$n();Object.defineProperty(O,"ReadConcern",{enumerable:!0,get:function(){return ZQ.ReadConcern}});var eJ=jt();Object.defineProperty(O,"ReadPreference",{enumerable:!0,get:function(){return eJ.ReadPreference}});var tJ=Vr();Object.defineProperty(O,"WriteConcern",{enumerable:!0,get:function(){return tJ.WriteConcern}});var qE=Z3();Object.defineProperty(O,"CommandFailedEvent",{enumerable:!0,get:function(){return qE.CommandFailedEvent}});Object.defineProperty(O,"CommandStartedEvent",{enumerable:!0,get:function(){return qE.CommandStartedEvent}});Object.defineProperty(O,"CommandSucceededEvent",{enumerable:!0,get:function(){return qE.CommandSucceededEvent}});var Kn=T6();Object.defineProperty(O,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return Kn.ConnectionCheckedInEvent}});Object.defineProperty(O,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return Kn.ConnectionCheckedOutEvent}});Object.defineProperty(O,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return Kn.ConnectionCheckOutFailedEvent}});Object.defineProperty(O,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return Kn.ConnectionCheckOutStartedEvent}});Object.defineProperty(O,"ConnectionClosedEvent",{enumerable:!0,get:function(){return Kn.ConnectionClosedEvent}});Object.defineProperty(O,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return Kn.ConnectionCreatedEvent}});Object.defineProperty(O,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return Kn.ConnectionPoolClearedEvent}});Object.defineProperty(O,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return Kn.ConnectionPoolClosedEvent}});Object.defineProperty(O,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return Kn.ConnectionPoolCreatedEvent}});Object.defineProperty(O,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return Kn.ConnectionPoolMonitoringEvent}});Object.defineProperty(O,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return Kn.ConnectionPoolReadyEvent}});Object.defineProperty(O,"ConnectionReadyEvent",{enumerable:!0,get:function(){return Kn.ConnectionReadyEvent}});var Pi=np();Object.defineProperty(O,"ServerClosedEvent",{enumerable:!0,get:function(){return Pi.ServerClosedEvent}});Object.defineProperty(O,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return Pi.ServerDescriptionChangedEvent}});Object.defineProperty(O,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return Pi.ServerHeartbeatFailedEvent}});Object.defineProperty(O,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return Pi.ServerHeartbeatStartedEvent}});Object.defineProperty(O,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return Pi.ServerHeartbeatSucceededEvent}});Object.defineProperty(O,"ServerOpeningEvent",{enumerable:!0,get:function(){return Pi.ServerOpeningEvent}});Object.defineProperty(O,"TopologyClosedEvent",{enumerable:!0,get:function(){return Pi.TopologyClosedEvent}});Object.defineProperty(O,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return Pi.TopologyDescriptionChangedEvent}});Object.defineProperty(O,"TopologyOpeningEvent",{enumerable:!0,get:function(){return Pi.TopologyOpeningEvent}});var gl=bE();Object.defineProperty(O,"ServerSelectionEvent",{enumerable:!0,get:function(){return gl.ServerSelectionEvent}});Object.defineProperty(O,"ServerSelectionFailedEvent",{enumerable:!0,get:function(){return gl.ServerSelectionFailedEvent}});Object.defineProperty(O,"ServerSelectionStartedEvent",{enumerable:!0,get:function(){return gl.ServerSelectionStartedEvent}});Object.defineProperty(O,"ServerSelectionSucceededEvent",{enumerable:!0,get:function(){return gl.ServerSelectionSucceededEvent}});Object.defineProperty(O,"WaitingForSuitableServerEvent",{enumerable:!0,get:function(){return gl.WaitingForSuitableServerEvent}});var rJ=TE();Object.defineProperty(O,"SrvPollingEvent",{enumerable:!0,get:function(){return rJ.SrvPollingEvent}});var hc=au();Object.defineProperty(O,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return hc.MongoCryptAzureKMSRequestError}});Object.defineProperty(O,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return hc.MongoCryptCreateDataKeyError}});Object.defineProperty(O,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return hc.MongoCryptCreateEncryptedCollectionError}});Object.defineProperty(O,"MongoCryptError",{enumerable:!0,get:function(){return hc.MongoCryptError}});Object.defineProperty(O,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return hc.MongoCryptInvalidArgumentError}});Object.defineProperty(O,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return hc.MongoCryptKMSRequestNetworkTimeoutError}});var nJ=AE();Object.defineProperty(O,"MongoClientAuthProviders",{enumerable:!0,get:function(){return nJ.MongoClientAuthProviders}})});var ee=y(Vt=>{"use strict";Vt.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");Vt.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");Vt.arrayParentSymbol=Symbol("mongoose#Array#_parent");Vt.arrayPathSymbol=Symbol("mongoose#Array#_path");Vt.arraySchemaSymbol=Symbol("mongoose#Array#_schema");Vt.documentArrayParent=Symbol("mongoose#documentArrayParent");Vt.documentIsSelected=Symbol("mongoose#Document#isSelected");Vt.documentIsModified=Symbol("mongoose#Document#isModified");Vt.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");Vt.documentSchemaSymbol=Symbol("mongoose#Document#schema");Vt.getSymbol=Symbol("mongoose#Document#get");Vt.modelSymbol=Symbol("mongoose#Model");Vt.objectIdSymbol=Symbol("mongoose#ObjectId");Vt.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model");Vt.schemaTypeSymbol=Symbol("mongoose#schemaType");Vt.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments");Vt.scopeSymbol=Symbol("mongoose#Document#scope");Vt.validatorErrorSymbol=Symbol("mongoose#validatorError")});var Fi=y((ule,yb)=>{"use strict";var El=is().ObjectId,sJ=ee().objectIdSymbol;Object.defineProperty(El.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});El.prototype.hasOwnProperty("valueOf")||(El.prototype.valueOf=function(){return this.toString()});El.prototype[sJ]=!0;yb.exports=El});var Jr=y((ale,gb)=>{"use strict";gb.exports=function(e){if(e!=null&&typeof e.constructor=="function")return e.constructor.name}});var bs=y(Eb=>{"use strict";Eb.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1,versionKey:!0}});var Yp=y((lle,_b)=>{"use strict";_b.exports=is().Decimal128});var Su=y((fle,Ab)=>{"use strict";Ab.exports=new Set(["__proto__","constructor","prototype"])});var Qp=y(Ob=>{"use strict";Ob.isMongooseArray=function(t){return Array.isArray(t)&&t.isMongooseArray}});var _l=y((dle,Cb)=>{"use strict";var iJ=Qp().isMongooseArray;Cb.exports=function(t){return t!=null&&(iJ(t)||t.$__!=null||t.isMongooseBuffer||t.$isMongooseMap)}});var LE=y((ple,Sb)=>{"use strict";var oJ=/^function\s*([^\s(]+)/;Sb.exports=function(t){return t.name||(t.toString().trim().match(oJ)||[])[1]}});var Xr=y((mle,wb)=>{"use strict";function uJ(t,e){return typeof t=="object"&&t!==null&&t._bsontype===e}wb.exports=uJ});var Co=y((yle,bb)=>{"use strict";bb.exports=function(t){return Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object Object]"}});var jE=y((gle,Db)=>{"use strict";Db.exports=function(e){if(e==null||typeof e!="object")return!1;let r=Object.getPrototypeOf(e);return!r||r.constructor.name==="Object"}});var dc=y(UE=>{"use strict";var Tb=Symbol("mongoose#trustedSymbol");UE.trustedSymbol=Tb;UE.trusted=function(e){return e==null||typeof e!="object"||(e[Tb]=!0),e}});var _t=y((_le,Bb)=>{"use strict";var aJ=Yp(),cJ=Fi(),lJ=Su(),fJ=_l(),hJ=LE(),Mb=Xr(),dJ=Qp().isMongooseArray,pJ=Co(),mJ=jE(),yJ=ee(),VE=dc().trustedSymbol;function WE(t,e,r){if(t==null)return t;if(Array.isArray(t))return gJ(dJ(t)?t.__array:t,e);if(fJ(t)){if(e&&(e._skipSingleNestedGetters&&t.$isSingleNested&&(e=Object.assign({},e,{getters:!1})),e.retainDocuments&&t.$__!=null)){let o=t.$clone();return t.__index!=null&&(o.__index=t.__index),t.__parentArray!=null&&(o.__parentArray=t.__parentArray),o.$__parent=t.$__parent,o}let s=t.$isSingleNested;if(mJ(t)&&t.$__!=null&&t._doc!=null)return t._doc;let i;return e&&e.json&&typeof t.toJSON=="function"?i=t.toJSON(e):i=t.toObject(e),e&&e.minimize&&!t.constructor.$__required&&s&&Object.keys(i).length===0?void 0:i}let n=t.constructor;if(n)switch(hJ(n)){case"Object":return zE(t,e,r);case"Date":return new n(+t);case"RegExp":return EJ(t);default:break}return Mb(t,"ObjectId")?e&&e.flattenObjectIds?t.toJSON():new cJ(t.id):Mb(t,"Decimal128")?e&&e.flattenDecimals?t.toJSON():aJ.fromString(t.toString()):!n&&pJ(t)?zE(t,e,r):typeof t=="object"&&t[yJ.schemaTypeSymbol]?t.clone():e&&e.bson&&typeof t.toBSON=="function"?t:typeof t.valueOf=="function"?t.valueOf():zE(t,e,r)}Bb.exports=WE;function zE(t,e,r){let n=e&&e.minimize,s=e&&e.omitUndefined,i=e&&e._seen,o={},u;if(i&&i.has(t))return i.get(t);i&&i.set(t,o),VE in t&&(o[VE]=t[VE]);let a=0,c="",l=Object.keys(t),f=l.length;for(a=0;a<f;++a){if(lJ.has(c=l[a]))continue;let h=WE(t[c],e,!1);(n===!1||s)&&typeof h>"u"?delete o[c]:(n!==!0||typeof h<"u")&&(u||(u=!0),o[c]=h)}return n&&!r?u&&o:o}function gJ(t,e){let r=0,n=t.length,s=new Array(n);for(r=0;r<n;++r)s[r]=WE(t[r],e,!0);return s}function EJ(t){let e=new RegExp(t.source,t.flags);return e.lastIndex!==t.lastIndex&&(e.lastIndex=t.lastIndex),e}});var Nb=y((Ale,Fb)=>{"use strict";var Jp=d7(),GE=ut(),HE=Kp().Collection,_J=Fi(),Pb=Jr(),AJ=bs().internalToObjectOptions,OJ=require("stream"),KE=require("util");function Ds(t,e,r){this.collection=null,this.Promise=r.Promise||Promise,this.modelName=r.modelName,delete r.modelName,this._closed=!1,Jp.apply(this,arguments)}Object.setPrototypeOf(Ds.prototype,Jp.prototype);Ds.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),Jp.prototype.onOpen.call(this),this.collection};Ds.prototype.onClose=function(t){Jp.prototype.onClose.call(this,t)};Ds.prototype._getCollection=function(){return this.collection?this.collection:this.conn.db!=null?(this.collection=this.conn.db.collection(this.name),this.collection):null};var Al={watch:!0,find:!0,aggregate:!0};function CJ(t){Ds.prototype[t]=function(){let e=this._getCollection(),r=Array.from(arguments),n=this,s=n&&n.conn&&n.conn.base&&n.conn.base.options&&n.conn.base.options.debug,i=n&&n.conn&&n.conn.options&&n.conn.options.debug,o=i??s,u=arguments[arguments.length-1],a=new _J;if(this.conn.$wasForceClosed){let f=new GE("Connection was force closed");if(r.length>0&&typeof r[r.length-1]=="function"){r[r.length-1](f);return}else throw f}let c=r,l=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,args:r});let f,h=r,d=null,p=null;Al[t]&&typeof u=="function"?(this.addQueue(t,h),f=u):Al[t]?d=new this.Promise((g,E)=>{f=function(A,C){if(p!=null&&clearTimeout(p),A!=null)return E(A);g(C)},h=r.concat([f]),this.addQueue(t,h)}):typeof u=="function"?(f=function(){return p!=null&&clearTimeout(p),u.apply(this,arguments)},h=r.slice(0,r.length-1).concat([f])):d=new Promise((g,E)=>{f=function(A,C){if(p!=null&&clearTimeout(p),A!=null)return E(A);g(C)},h=r.concat([f]),this.addQueue(t,h)});let m=this._getBufferTimeoutMS();if(p=setTimeout(()=>{if(this.removeQueue(t,h)){let E="Operation `"+this.name+"."+t+"()` buffering timed out after "+m+"ms",_=new GE(E);this.conn.emit("buffer-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:_}),f(_)}},m),!Al[t]&&typeof u=="function"){this.addQueue(t,h);return}return d}else!Al[t]&&typeof u=="function"&&(l=function(h,d){return h!=null?n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:h}):n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,result:d}),u.apply(this,arguments)},c=r.slice(0,r.length-1).concat([l]));if(o)if(typeof o=="function"){let f=null;typeof r[r.length-1]=="function"?f=r.slice(0,r.length-1):f=r,o.apply(n,[n.name,t].concat(f))}else if(o instanceof OJ.Writable)this.$printToStream(n.name,t,r,o);else{let f=o.color==null?!0:o.color,h=o.shell==null?!1:o.shell;this.$print(n.name,t,r,f,h)}this.conn.emit("operation-start",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,params:c});try{if(e==null){let h="Cannot call `"+this.name+"."+t+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new GE(h)}if(Al[t]&&typeof u=="function"){let h=e[t].apply(e,c.slice(0,c.length-1));return u.call(this,null,h)}let f=e[t].apply(e,c);return f!=null&&typeof f.then=="function"?f.then(h=>(typeof u=="function"&&u(null,h),h),h=>{if(typeof u=="function"){u(h);return}throw h}):f}catch(f){if(typeof u=="function")return u(f);throw this.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,error:f}),f}}}for(let t of Object.getOwnPropertyNames(HE.prototype))Object.getOwnPropertyDescriptor(HE.prototype,t).get===void 0&&typeof HE.prototype[t]=="function"&&CJ(t);Ds.prototype.$print=function(t,e,r,n,s){let i=n?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",o=[t,e].join("."),u=[];for(let c=r.length-1;c>=0;--c)(this.$format(r[c])||u.length)&&u.unshift(this.$format(r[c],n,s));let a="("+u.join(", ")+")";console.info(i+o+a)};Ds.prototype.$printToStream=function(t,e,r,n){let s=[t,e].join("."),i=[];for(let u=r.length-1;u>=0;--u)(this.$format(r[u])||i.length)&&i.unshift(this.$format(r[u]));let o="("+i.join(", ")+")";n.write(s+o,"utf8")};Ds.prototype.$format=function(t,e,r){let n=typeof t;return n==="function"||n==="undefined"?"":YE(t,!1,e,r)};function pc(t){let e={inspect:function(){return t}};return KE.inspect.custom&&(e[KE.inspect.custom]=e.inspect),e}function SJ(t){return YE(t,!0)}function wJ(t,e){t[e]=pc('ObjectId("'+t[e].toHexString()+'")')}function bJ(t,e,r){r?t[e]=pc('ISODate("'+t[e].toUTCString()+'")'):t[e]=pc('new Date("'+t[e].toUTCString()+'")')}function YE(t,e,r,n){if(t&&typeof t.toBSON=="function"&&(t=t.toBSON()),t==null)return t;let i=_t()(t,AJ),o=Pb(i);if(o==="Binary")i="BinData("+i.sub_type+', "'+i.toString("base64")+'")';else if(o==="ObjectId")i=pc('ObjectId("'+i.toHexString()+'")');else if(o==="Date")i=pc('new Date("'+i.toUTCString()+'")');else if(o==="Object"){let u=Object.keys(i),a=u.length,c;for(let l=0;l<a;++l)if(c=u[l],i[c]){let f;if(typeof i[c].toBSON=="function")try{i[c]=i[c].toBSON()}catch(d){f=d}let h=Pb(i[c]);if(h==="Binary")i[c]="BinData("+i[c].sub_type+', "'+i[c].buffer.toString("base64")+'")';else if(h==="Object")i[c]=YE(i[c],!0);else if(h==="ObjectId")wJ(i,c);else if(h==="Date")bJ(i,c,n);else if(h==="ClientSession")i[c]=pc('ClientSession("'+(i[c]&&i[c].id&&i[c].id.id&&i[c].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(i[c]))i[c]=i[c].map(SJ);else if(f!=null)throw f}}return e?i:KE.inspect(i,!1,10,r).replace(/\n/g,"").replace(/\s{2,}/g," ")}Ds.prototype.getIndexes=Ds.prototype.indexInformation;Fb.exports=Ds});var JE=y((Ole,Ib)=>{"use strict";var DJ=require("events").EventEmitter;var $b=["close","change","end","error","resumeTokenChanged"];var QE=class extends DJ{constructor(e,r,n){if(super(),this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=r,this.options=n,n&&n.hydrate&&!n.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");e((s,i)=>{if(s!=null){this.emit("error",s);return}this.driverChangeStream=i,this.emit("ready")})}_bindEvents(){if(!this.bindedEvents){if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),$b.forEach(e=>{this.driverChangeStream.on(e,r=>{r!=null&&r.fullDocument!=null&&this.options&&this.options.hydrate&&(r.fullDocument=this.options.model.hydrate(r.fullDocument)),this.emit(e,r)})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),$b.forEach(e=>{this.driverChangeStream.on(e,r=>{r!=null&&r.fullDocument!=null&&this.options&&this.options.hydrate&&(r.fullDocument=this.options.model.hydrate(r.fullDocument)),this.emit(e,r)})})}}hasNext(e){return this.driverChangeStream.hasNext(e)}next(e){if(this.options&&this.options.hydrate){if(e!=null){let n=e;e=(s,i)=>s!=null?n(s):(i.fullDocument!=null&&(i.fullDocument=this.options.model.hydrate(i.fullDocument)),n(null,i))}let r=this.driverChangeStream.next(e);return r&&typeof r.then=="function"&&(r=r.then(n=>(n.fullDocument!=null&&(n.fullDocument=this.options.model.hydrate(n.fullDocument)),n))),r}return this.driverChangeStream.next(e)}addListener(e,r){return this._bindEvents(),super.addListener(e,r)}on(e,r){return this._bindEvents(),super.on(e,r)}once(e,r){return this._bindEvents(),super.once(e,r)}_queue(e){this.once("ready",()=>e())}close(){this.closed=!0,this.driverChangeStream&&this.driverChangeStream.close()}};Ib.exports=QE});var mc=y((Cle,vb)=>{"use strict";function je(){this._pres=new Map,this._posts=new Map}je.skipWrappedFunction=function(){if(!(this instanceof je.skipWrappedFunction))return new je.skipWrappedFunction(...arguments);this.args=[...arguments]};je.overwriteResult=function(){if(!(this instanceof je.overwriteResult))return new je.overwriteResult(...arguments);this.args=[...arguments]};je.prototype.execPre=function(t,e,r,n){arguments.length===3&&(n=r,r=[]);let s=this._pres.get(t)||[],i=s.length,o=s.numAsync||0,u=0,a=o,c=!1,l=r,f=null;if(!i)return Cl(function(){n(null)});function h(){if(u>=i)return;let p=s[u];if(p.isAsync){let m=[Ol(d),Ol(function(g){if(g){if(c)return;if(g instanceof je.skipWrappedFunction)f=g;else return c=!0,n(g)}if(--a===0&&u>=i)return n(f)})];Xp(p.fn,e,m,m[0])}else if(p.fn.length>0){let m=[Ol(d)],g=arguments.length>=2?arguments:[null].concat(l);for(let E=1;E<g.length;++E)E===g.length-1&&typeof g[E]=="function"||m.push(g[E]);Xp(p.fn,e,m,m[0])}else{let m=null;try{m=p.fn.call(e)}catch(g){if(g!=null)return n(g)}if(Zp(m))m.then(()=>d(),g=>d(g));else{if(++u>=i)return a>0?void 0:Cl(function(){n(f)});h()}}}h.apply(null,[null].concat(r));function d(p){if(p){if(c)return;if(p instanceof je.skipWrappedFunction)f=p;else return c=!0,n(p)}if(++u>=i)return a>0?void 0:n(f);h.apply(e,arguments)}};je.prototype.execPreSync=function(t,e,r){let n=this._pres.get(t)||[],s=n.length;for(let i=0;i<s;++i)n[i].fn.apply(e,r||[])};je.prototype.execPost=function(t,e,r,n,s){arguments.length<5&&(s=n,n=null);let i=this._posts.get(t)||[],o=i.length,u=0,a=null;if(n&&n.error&&(a=n.error),!o)return Cl(function(){s.apply(null,[a].concat(r))});function c(){let l=i[u].fn,f=0,h=r.length,d=[];for(let p=0;p<h;++p)f+=r[p]&&r[p]._kareemIgnore?0:1,(!r[p]||!r[p]._kareemIgnore)&&d.push(r[p]);if(a)if(xb(i[u],f)){let p=Ol(function(m){if(m){if(m instanceof je.overwriteResult)return r=m.args,++u>=o?s.call(null,a):c();a=m}if(++u>=o)return s.call(null,a);c()});Xp(l,e,[a].concat(d).concat([p]),p)}else{if(++u>=o)return s.call(null,a);c()}else{let p=Ol(function(m){if(m)return m instanceof je.overwriteResult?(r=m.args,++u>=o?s.apply(null,[null].concat(r)):c()):(a=m,c());if(++u>=o)return s.apply(null,[null].concat(r));c()});if(xb(i[u],f))return++u>=o?s.apply(null,[null].concat(r)):c();if(l.length===f+1)Xp(l,e,d.concat([p]),p);else{let m,g;try{g=l.apply(e,d)}catch(E){m=E,a=E}if(Zp(g))return g.then(E=>{p(E instanceof je.overwriteResult?E:null)},E=>p(E));if(g instanceof je.overwriteResult&&(r=g.args),++u>=o)return s.apply(null,[m].concat(r));c()}}}c()};je.prototype.execPostSync=function(t,e,r){let n=this._posts.get(t)||[],s=n.length;for(let i=0;i<s;++i){let o=n[i].fn.apply(e,r||[]);o instanceof je.overwriteResult&&(r=o.args)}return r};je.prototype.createWrapperSync=function(t,e){let r=this;return function(){r.execPreSync(t,this,arguments);let s=e.apply(this,arguments);return r.execPostSync(t,this,[s])[0]}};function Rb(t,e,r,n,s,i,o){return i.useErrorHandlers?t.execPost(r,n,s,{error:e},function(u){return typeof o=="function"&&o(u)}):typeof o=="function"&&o(e)}je.prototype.wrap=function(t,e,r,n,s){let i=n.length>0?n[n.length-1]:null,o=Array.from(n);typeof i=="function"&&o.pop();let u=this;s=s||{};let a=s.checkForPromise;this.execPre(t,r,n,function(c){if(c&&!(c instanceof je.skipWrappedFunction)){let d=s.numCallbackParams||0,p=s.contextParameter?[r]:[];for(let m=p.length;m<d;++m)p.push(null);return Rb(u,c,t,r,p,s,i)}let l=e.length,f;if(c instanceof je.skipWrappedFunction)return f=c.args[0],h(null,...c.args);try{f=e.apply(r,o.concat(h))}catch(d){return h(d)}if(a){if(Zp(f))return f.then(d=>h(null,d),d=>h(d));if(l<o.length+1)return h(null,f)}function h(){let d=Array.from(arguments);if(d.shift(),s.nullResultByDefault&&d.length===0&&d.push(null),arguments[0])return Rb(u,arguments[0],t,r,d,s,i);u.execPost(t,r,d,function(){i!==null&&(arguments[0]?i(arguments[0]):i.apply(r,arguments))})}})};je.prototype.filter=function(t){let e=this.clone(),r=Array.from(e._pres.keys());for(let s of r){let i=this._pres.get(s).map(o=>Object.assign({},o,{name:s})).filter(t);if(i.length===0){e._pres.delete(s);continue}i.numAsync=i.filter(o=>o.isAsync).length,e._pres.set(s,i)}let n=Array.from(e._posts.keys());for(let s of n){let i=this._posts.get(s).map(o=>Object.assign({},o,{name:s})).filter(t);if(i.length===0){e._posts.delete(s);continue}e._posts.set(s,i)}return e};je.prototype.hasHooks=function(t){return this._pres.has(t)||this._posts.has(t)};je.prototype.createWrapper=function(t,e,r,n){let s=this;return this.hasHooks(t)?function(){let i=r||this;s.wrap(t,e,i,Array.from(arguments),n)}:function(){Cl(()=>e.apply(this,arguments))}};je.prototype.pre=function(t,e,r,n,s){let i={};typeof e=="object"&&e!==null?(i=e,e=i.isAsync):typeof arguments[1]!="boolean"&&(r=e,e=!1);let o=this._pres.get(t)||[];if(this._pres.set(t,o),e&&(o.numAsync=o.numAsync||0,++o.numAsync),typeof r!="function")throw new Error('pre() requires a function, got "'+typeof r+'"');return s?o.unshift(Object.assign({},i,{fn:r,isAsync:e})):o.push(Object.assign({},i,{fn:r,isAsync:e})),this};je.prototype.post=function(t,e,r,n){let s=this._posts.get(t)||[];if(typeof e=="function"&&(n=!!r,r=e,e={}),typeof r!="function")throw new Error('post() requires a function, got "'+typeof r+'"');return n?s.unshift(Object.assign({},e,{fn:r})):s.push(Object.assign({},e,{fn:r})),this._posts.set(t,s),this};je.prototype.clone=function(){let t=new je;for(let e of this._pres.keys()){let r=this._pres.get(e).slice();r.numAsync=this._pres.get(e).numAsync,t._pres.set(e,r)}for(let e of this._posts.keys())t._posts.set(e,this._posts.get(e).slice());return t};je.prototype.merge=function(t,e){e=arguments.length===1?!0:e;let r=e?this.clone():this;for(let n of t._pres.keys()){let s=r._pres.get(n)||[],i=t._pres.get(n).filter(u=>s.map(a=>a.fn).indexOf(u.fn)===-1),o=s.concat(i);o.numAsync=s.numAsync||0,o.numAsync+=i.filter(u=>u.isAsync).length,r._pres.set(n,o)}for(let n of t._posts.keys()){let s=r._posts.get(n)||[],i=t._posts.get(n).filter(o=>s.indexOf(o)===-1);r._posts.set(n,s.concat(i))}return r};function Xp(t,e,r,n){let s;try{s=t.apply(e,r)}catch(i){return n(i)}Zp(s)&&s.then(()=>n(),i=>n(i))}function Zp(t){return typeof t=="object"&&t!==null&&typeof t.then=="function"}function Ol(t){let e=!1,r=this;return function(){if(!e)return e=!0,Cl(()=>t.apply(r,arguments))}}var Cl=typeof process=="object"&&process!==null&&process.nextTick||function(e){setTimeout(e,0)};function xb(t,e){return t.errorHandler?!0:t.fn.length===e+2}vb.exports=je});var Lb=y((kb,qb)=>{"use strict";var wr=qb.exports=kb={};wr.DocumentNotFoundError=null;wr.general={};wr.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";wr.general.required="Path `{PATH}` is required.";wr.Number={};wr.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";wr.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";wr.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";wr.Date={};wr.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";wr.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";wr.String={};wr.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";wr.String.match="Path `{PATH}` is invalid ({VALUE}).";wr.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";wr.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var t0=y((Sle,Ub)=>{"use strict";var jb=Je(),TJ=require("util"),e0=class extends jb{constructor(e,r,n,s){let i,o=jb.messages;o.DocumentNotFoundError!=null?i=typeof o.DocumentNotFoundError=="function"?o.DocumentNotFoundError(e,r):o.DocumentNotFoundError:i='No document found for query "'+TJ.inspect(e)+'" on model "'+r+'"',super(i),this.result=s,this.numAffected=n,this.filter=e,this.query=e}};Object.defineProperty(e0.prototype,"name",{value:"DocumentNotFoundError"});Ub.exports=e0});var Nr=y((wle,Wb)=>{"use strict";var MJ=ut(),BJ=require("util"),r0=class extends MJ{constructor(e,r,n,s,i){if(arguments.length>0){let o=Vb(r),u=zb(i),a=XE(null,e,r,n,u,o,s);super(a),this.init(e,r,n,s,i)}else super(XE())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(e,r,n,s,i){this.stringValue=ZE(r),this.messageFormat=zb(i),this.kind=e,this.value=r,this.path=n,this.reason=s,this.valueType=Vb(r)}copy(e){this.messageFormat=e.messageFormat,this.stringValue=e.stringValue,this.kind=e.kind,this.value=e.value,this.path=e.path,this.reason=e.reason,this.message=e.message,this.valueType=e.valueType}setModel(e){this.model=e,this.message=XE(e,this.kind,this.value,this.path,this.messageFormat,this.valueType)}};Object.defineProperty(r0.prototype,"name",{value:"CastError"});function ZE(t){let e=BJ.inspect(t);return e=e.replace(/^'|'$/g,'"'),e.startsWith('"')||(e='"'+e+'"'),e}function Vb(t){if(t==null)return""+t;let e=typeof t;return e!=="object"||typeof t.constructor!="function"?e:t.constructor.name}function zb(t){let e=t&&t._castErrorMessage||null;if(typeof e=="string"||typeof e=="function")return e}function XE(t,e,r,n,s,i,o){if(typeof s=="string"){let u=ZE(r),a=s.replace("{KIND}",e).replace("{VALUE}",u).replace("{PATH}",n);return t!=null&&(a=a.replace("{MODEL}",t.modelName)),a}else{if(typeof s=="function")return s(r,n,t,e);{let u=ZE(r),a=i?" (type "+i+")":"",c="Cast to "+e+" failed for value "+u+a+' at path "'+n+'"';return t!=null&&(c+=' for model "'+t.modelName+'"'),o!=null&&typeof o.constructor=="function"&&o.constructor.name!=="AssertionError"&&o.constructor.name!=="Error"&&(c+=' because of "'+o.constructor.name+'"'),c}}}Wb.exports=r0});var e4=y((ble,Gb)=>{"use strict";Gb.exports=function(e){let r=Object.keys(e.errors||{}),n=r.length,s=[],i;for(let o=0;o<n;++o)i=r[o],e!==e.errors[i]&&s.push(i+": "+e.errors[i].message);return s.join(", ")}});var wu=y((Dle,Yb)=>{"use strict";var PJ=ut(),FJ=Jr(),Hb=require("util"),Kb=e4(),Ni=class extends PJ{constructor(e){let r;FJ(e)==="model"?r=e.constructor.modelName+" validation failed":r="Validation failed",super(r),this.errors={},this._message=r,e&&(e.$errors=this.errors)}toString(){return this.name+": "+Kb(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof Ni){let{errors:n}=r;for(let s of Object.keys(n))this.addError(`${e}.${s}`,n[s]);return}this.errors[e]=r,this.message=this._message+": "+Kb(this)}};Hb.inspect.custom&&(Ni.prototype[Hb.inspect.custom]=Ni.prototype.inspect);Object.defineProperty(Ni.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(Ni.prototype,"name",{value:"ValidationError"});Yb.exports=Ni});var t4=y((Tle,Xb)=>{"use strict";var Qb=Je(),yc=class extends Qb{constructor(e,r){let n=e.message;n||(n=Qb.messages.general.default);let s=Jb(n,e,r);super(s),e=Object.assign({},e,{message:s}),this.properties=e,this.kind=e.type,this.path=e.path,this.value=e.value,this.reason=e.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}};Object.defineProperty(yc.prototype,"name",{value:"ValidatorError"});Object.defineProperty(yc.prototype,"properties",{enumerable:!1,writable:!0,value:null});yc.prototype.formatMessage=Jb;function Jb(t,e,r){if(typeof t=="function")return t(e,r);let n=Object.keys(e);for(let s of n)s!=="message"&&(t=t.replace("{"+s.toUpperCase()+"}",e[s]));return t}Xb.exports=yc});var r4=y((Mle,Zb)=>{"use strict";var NJ=Je(),n0=class extends NJ{constructor(e,r,n){let s=n.join(", ");super('No matching document found for id "'+e._id+'" version '+r+' modifiedPaths "'+s+'"'),this.version=r,this.modifiedPaths=n}};Object.defineProperty(n0.prototype,"name",{value:"VersionError"});Zb.exports=n0});var n4=y((Ble,eD)=>{"use strict";var $J=Je(),s0=class extends $J{constructor(e){let r="Can't save() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(s0.prototype,"name",{value:"ParallelSaveError"});eD.exports=s0});var s4=y((Ple,tD)=>{"use strict";var IJ=Je(),i0=class extends IJ{constructor(e){super("Cannot overwrite `"+e+"` model once compiled.")}};Object.defineProperty(i0.prototype,"name",{value:"OverwriteModelError"});tD.exports=i0});var nD=y((Fle,rD)=>{"use strict";var RJ=Je(),o0=class extends RJ{constructor(e){let r=`Schema hasn't been registered for model "`+e+`".
Use mongoose.model(name, schema)`;super(r)}};Object.defineProperty(o0.prototype,"name",{value:"MissingSchemaError"});rD.exports=o0});var iD=y((Nle,sD)=>{"use strict";var xJ=Jr();sD.exports=function(e){if(xJ(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.type==="Unknown")}});var uD=y(($le,oD)=>{"use strict";var vJ=Jr();oD.exports=function(e){if(vJ(e)!=="TopologyDescription"||e.servers.size===0)return!1;for(let r of e.servers.values())if(r.host.endsWith(".mongodb.net")===!1||r.port!==27017)return!1;return!0}});var cD=y((Ile,aD)=>{"use strict";var kJ=Jr(),qJ="Client network socket disconnected before secure TLS connection was established";aD.exports=function(e){if(kJ(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.error&&n.error.message.indexOf(qJ)!==-1)}});var i4=y((Rle,lD)=>{"use strict";var LJ=ut(),jJ=iD(),UJ=uD(),VJ=cD();var zJ="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",WJ="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html",u0=class extends LJ{assimilateError(e){let r=e.reason;UJ(r)&&jJ(r)&&e.message.indexOf("bad auth")===-1&&e.message.indexOf("Authentication failed")===-1?this.message=zJ:VJ(r)?this.message=WJ:this.message=e.message;for(let s in e)s!=="name"&&(this[s]=e[s]);return this}};Object.defineProperty(u0.prototype,"name",{value:"MongooseServerSelectionError"});lD.exports=u0});var o4=y((xle,fD)=>{"use strict";var GJ=Je(),a0=class extends GJ{constructor(e){let r="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+e.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`;super(r)}};Object.defineProperty(a0.prototype,"name",{value:"DivergentArrayError"});fD.exports=a0});var So=y((vle,hD)=>{"use strict";var HJ=Je(),c0=class extends HJ{constructor(e,r,n){r=r||"Field `"+e+"` is not in schema and strict mode is set to throw.",super(r),this.isImmutableError=!!n,this.path=e}};Object.defineProperty(c0.prototype,"name",{value:"StrictModeError"});hD.exports=c0});var u4=y((kle,dD)=>{"use strict";var KJ=Je(),l0=class extends KJ{constructor(e,r){r=r||"Cannot populate path `"+e+"` because it is not in your schema. Set the `strictPopulate` option to false to override.",super(r),this.path=e}};Object.defineProperty(l0.prototype,"name",{value:"StrictPopulateError"});dD.exports=l0});var Je=y((pD,mD)=>{"use strict";var br=ut();mD.exports=pD=br;br.messages=Lb();br.Messages=br.messages;br.DocumentNotFoundError=t0();br.CastError=Nr();br.ValidationError=wu();br.ValidatorError=t4();br.VersionError=r4();br.ParallelSaveError=n4();br.OverwriteModelError=s4();br.MissingSchemaError=nD();br.MongooseServerSelectionError=i4();br.DivergentArrayError=o4();br.StrictModeError=So();br.StrictPopulateError=u4()});var Yn=y((qle,yD)=>{"use strict";yD.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var bn=y((Lle,gD)=>{"use strict";var YJ=_t(),ur=class{constructor(e){if(e==null)return this;Object.assign(this,YJ(e))}},Zr=Yn();Object.defineProperty(ur.prototype,"type",Zr);Object.defineProperty(ur.prototype,"validate",Zr);Object.defineProperty(ur.prototype,"cast",Zr);Object.defineProperty(ur.prototype,"required",Zr);Object.defineProperty(ur.prototype,"default",Zr);Object.defineProperty(ur.prototype,"ref",Zr);Object.defineProperty(ur.prototype,"refPath",Zr);Object.defineProperty(ur.prototype,"select",Zr);Object.defineProperty(ur.prototype,"index",Zr);Object.defineProperty(ur.prototype,"unique",Zr);Object.defineProperty(ur.prototype,"immutable",Zr);Object.defineProperty(ur.prototype,"sparse",Zr);Object.defineProperty(ur.prototype,"text",Zr);Object.defineProperty(ur.prototype,"transform",Zr);gD.exports=ur});var f0=y((jle,gc)=>{"use strict";var QJ=Nr();gc.exports=function(e,r){if(gc.exports.convertToTrue.has(e))return!0;if(gc.exports.convertToFalse.has(e))return!1;if(e==null)return e;throw new QJ("boolean",e,r)};gc.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);gc.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var h0=y((Ule,ED)=>{"use strict";var JJ=f0();ED.exports=function(t){let e=this!=null?this.path:null;return JJ(t,e)}});var a4=y((Vle,_D)=>{"use strict";_D.exports=function(t){if(Array.isArray(t)){if(!t.every(e=>typeof e=="number"||typeof e=="string"))throw new Error("$type array values must be strings or numbers");return t}if(typeof t!="number"&&typeof t!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return t}});var OD=y((zle,AD)=>{"use strict";var XJ=So();AD.exports=function(t){t.$immutable?(t.$immutableSetter=ZJ(t.path,t.options.immutable),t.set(t.$immutableSetter)):t.$immutableSetter&&(t.setters=t.setters.filter(e=>e!==t.$immutableSetter),delete t.$immutableSetter)};function ZJ(t,e){return function(n,s,i,o){if(this==null||this.$__==null||this.isNew||o&&o.overwriteImmutable||!(typeof e=="function"?e.call(this,this):e))return n;let a=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(t):this.$__getValue(t);if(this.$__.strictMode==="throw"&&n!==a)throw new XJ(t,"Path `"+t+"` is immutable and strict mode is set to throw.",!0);return a}}});var SD=y((Wle,CD)=>{"use strict";CD.exports=function(e){return typeof e=="function"&&e.constructor&&e.constructor.name==="AsyncFunction"}});var bD=y((Gle,wD)=>{"use strict";wD.exports=function(e){let r=Object.keys(e),n=!0;for(let s=0,i=r.length;s<i;++s)if(typeof e[r[s]]=="object"&&e[r[s]]!==null){n=!1;break}return n}});var TD=y((Hle,DD)=>{var Ec=1e3,_c=Ec*60,Ac=_c*60,bu=Ac*24,eX=bu*7,tX=bu*365.25;DD.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return rX(t);if(r==="number"&&isFinite(t))return e.long?sX(t):nX(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function rX(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*tX;case"weeks":case"week":case"w":return r*eX;case"days":case"day":case"d":return r*bu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ac;case"minutes":case"minute":case"mins":case"min":case"m":return r*_c;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ec;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function nX(t){var e=Math.abs(t);return e>=bu?Math.round(t/bu)+"d":e>=Ac?Math.round(t/Ac)+"h":e>=_c?Math.round(t/_c)+"m":e>=Ec?Math.round(t/Ec)+"s":t+"ms"}function sX(t){var e=Math.abs(t);return e>=bu?d0(t,e,bu,"day"):e>=Ac?d0(t,e,Ac,"hour"):e>=_c?d0(t,e,_c,"minute"):e>=Ec?d0(t,e,Ec,"second"):t+" ms"}function d0(t,e,r,n){var s=e>=r*1.5;return Math.round(t/r)+" "+n+(s?"s":"")}});var BD=y((Kle,MD)=>{"use strict";MD.exports=function(e){let r=[],n="",s="DEFAULT";for(let i=0;i<e.length;++i)s==="IN_SQUARE_BRACKETS"&&!/\d/.test(e[i])&&e[i]!=="]"&&(s="DEFAULT",n=r[r.length-1]+"["+n,r.splice(r.length-1,1)),e[i]==="["?(s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),s="IN_SQUARE_BRACKETS"):e[i]==="]"?s==="IN_SQUARE_BRACKETS"?(s="IMMEDIATELY_AFTER_SQUARE_BRACKETS",r.push(n),n=""):(s="DEFAULT",n+=e[i]):e[i]==="."?(s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),s="DEFAULT"):n+=e[i];return s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&r.push(n),r}});var $D=y($i=>{var Sl=BD(),PD=["__proto__","constructor","prototype"];$i.get=function(t,e,r,n){var s;typeof r=="function"&&(r.length<2?(n=r,r=void 0):(s=r,r=void 0)),n||(n=ND);var i=typeof t=="string"?Sl(t):t;if(!Array.isArray(i))throw new TypeError("Invalid `path`. Must be either string or array");for(var o=e,u,a=0;a<i.length;++a){if(u=i[a],typeof i[a]!="string"&&typeof i[a]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof i[a]);if(Array.isArray(o)&&!/^\d+$/.test(u)){var c=i.slice(a);return[].concat(o).map(function(f){return f?$i.get(c,f,r||s,n):n(void 0)})}if(s)o=s(o,u);else{var l=r&&o[r]?o[r]:o;o=l instanceof Map?l.get(u):l[u]}if(!o)return n(o)}return n(o)};$i.has=function(t,e){var r=typeof t=="string"?Sl(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,s=e,i=0;i<n;++i){if(typeof r[i]!="string"&&typeof r[i]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof r[i]);if(s==null||typeof s!="object"||!(r[i]in s))return!1;s=s[r[i]]}return!0};$i.unset=function(t,e){var r=typeof t=="string"?Sl(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,s=e,i=0;i<n;++i){if(s==null||typeof s!="object"||!(r[i]in s))return!1;if(typeof r[i]!="string"&&typeof r[i]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof r[i]);if(PD.indexOf(r[i])!==-1)return!1;if(i===n-1)return delete s[r[i]],!0;s=s instanceof Map?s.get(r[i]):s[r[i]]}return!0};$i.set=function(t,e,r,n,s,i){var o;typeof n=="function"&&(n.length<2?(s=n,n=void 0):(o=n,n=void 0)),s||(s=ND);var u=typeof t=="string"?Sl(t):t;if(!Array.isArray(u))throw new TypeError("Invalid `path`. Must be either string or array");if(r!=null){for(var a=0;a<u.length;++a){if(typeof u[a]!="string"&&typeof u[a]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof u[a]);if(PD.indexOf(u[a])!==-1)return}for(var c=i||/\$/.test(t)&&i!==!1,l=r,f,a=0,h=u.length-1;a<h;++a){if(f=u[a],f=="$"){if(a==h-1)break;continue}if(Array.isArray(l)&&!/^\d+$/.test(f)){var d=u.slice(a);if(!c&&Array.isArray(e))for(var p=0;p<l.length&&p<e.length;++p)$i.set(d,e[p],l[p],n||o,s,c);else for(var p=0;p<l.length;++p)$i.set(d,e,l[p],n||o,s,c);return}if(o)l=o(l,f);else{var m=n&&l[n]?l[n]:l;l=m instanceof Map?m.get(f):m[f]}if(!l)return}if(f=u[h],n&&l[n]&&(l=l[n]),Array.isArray(l)&&!/^\d+$/.test(f))if(!c&&Array.isArray(e))FD(l,e,f,o,n,s);else for(var p=0;p<l.length;++p){var g=l[p];g&&(o?o(g,f,s(e)):(g[n]&&(g=g[n]),g[f]=s(e)))}else o?o(l,f,s(e)):l instanceof Map?l.set(f,s(e)):l[f]=s(e)}};$i.stringToParts=Sl;function FD(t,e,r,n,s,i){for(var o,u=0;u<t.length&&u<e.length;++u)o=t[u],Array.isArray(o)&&Array.isArray(e[u])?FD(o,e[u],r,n,s,i):o&&(n?n(o,r,i(e[u])):(o[s]&&(o=o[s]),o[r]=i(e[u])))}function ND(t){return t}});var Ts=y((ID,RD)=>{"use strict";RD.exports=ID=$D()});var vD=y((Qle,xD)=>{"use strict";var iX=_t(),c4=class{constructor(e){if(this._docs={},this._childDocs=[],e!=null&&(e=iX(e),Object.assign(this,e),typeof e.subPopulate=="object"&&(this.populate=e.subPopulate),e.perDocumentLimit!=null&&e.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+e.path+"`.")}};xD.exports=c4});var qD=y(kD=>{"use strict";kD.isMongooseDocumentArray=function(t){return Array.isArray(t)&&t.isMongooseDocumentArray}});var p0=y((Xle,LD)=>{"use strict";var oX=fn(),Oc=Symbol("mongoose#emitted");LD.exports=function(e,r,n,s){if(typeof e=="function")try{return r(function(i){if(i!=null){n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!i[Oc]&&(i[Oc]=!0,n.emit("error",i));try{e(i)}catch(o){return oX(()=>{throw o})}return}e.apply(this,arguments)})}catch(i){return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!i[Oc]&&(i[Oc]=!0,n.emit("error",i)),e(i)}return s=s||global.Promise,new s((i,o)=>{r(function(u,a){if(u!=null)return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!u[Oc]&&(u[Oc]=!0,n.emit("error",u)),o(u);if(arguments.length>2)return i(Array.prototype.slice.call(arguments,1));i(a)})})}});var m0=y((Zle,jD)=>{"use strict";jD.exports=function(e,r,n){let s=Object.keys(r.tree),i={};for(let o of s)n&&(e.paths[o]||e.nested[o]||e.singleNestedPaths[o])||(i[o]=r.tree[o]);e.options._isMerging=!0,e.add(i,null),delete e.options._isMerging,e.callQueue=e.callQueue.concat(r.callQueue),e.method(r.methods),e.static(r.statics);for(let[o,u]of Object.entries(r._userProvidedOptions))o in e._userProvidedOptions||e.set(o,u);for(let o in r.query)e.query[o]=r.query[o];for(let o in r.virtuals)e.virtuals[o]=r.virtuals[o].clone();e._indexes=e._indexes.concat(r._indexes||[]),e.s.hooks.merge(r.s.hooks,!1)}});var zD=y((UD,VD)=>{"use strict";var efe=ae(),Ms=VD.exports=UD=function(){};Ms.ctor=function(){let t=[...arguments],e=function(){Ms.apply(this,arguments),this.paths={},this.states={}};return e.prototype=new Ms,e.prototype.stateNames=t,t.forEach(function(r){e.prototype[r]=function(n){this._changeState(n,r)}}),e};Ms.prototype._changeState=function(e,r){let n=this.paths[e];if(n===r)return;let s=this.states[n];s&&delete s[e],this.paths[e]=r,this.states[r]=this.states[r]||{},this.states[r][e]=!0};Ms.prototype.clear=function(e){if(this.states[e]==null)return;let r=Object.keys(this.states[e]),n=r.length,s;for(;n--;)s=r[n],delete this.states[e][s],delete this.paths[s]};Ms.prototype.clearPath=function(e){let r=this.paths[e];r&&(delete this.paths[e],delete this.states[r][e])};Ms.prototype.getStatePaths=function(e){return this.states[e]!=null?this.states[e]:{}};Ms.prototype.some=function(){let e=this,r=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(r,function(n){return e.states[n]==null?!1:Object.keys(e.states[n]).length})};Ms.prototype._iter=function(e){return function(){let r=[...arguments],n=r.pop();r.length||(r=this.stateNames);let s=this;return r.reduce(function(o,u){return s.states[u]==null?o:o.concat(Object.keys(s.states[u]))},[])[e](function(o,u,a){return n(o,u,a)})}};Ms.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};Ms.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var HD=y((WD,GD)=>{"use strict";var uX=zD(),aX=uX.ctor("require","modify","init","default","ignore");GD.exports=WD=St;function St(){this.activePaths=new aX}St.prototype.strictMode=!0;St.prototype.fullPath=void 0;St.prototype.selected=void 0;St.prototype.shardval=void 0;St.prototype.saveError=void 0;St.prototype.validationError=void 0;St.prototype.adhocPaths=void 0;St.prototype.removing=void 0;St.prototype.inserting=void 0;St.prototype.saving=void 0;St.prototype.version=void 0;St.prototype._id=void 0;St.prototype.ownerDocument=void 0;St.prototype.populate=void 0;St.prototype.populated=void 0;St.prototype.primitiveAtomics=void 0;St.prototype.wasPopulated=!1;St.prototype.scope=void 0;St.prototype.session=null;St.prototype.pathsToScopes=null;St.prototype.cachedRequired=null});var Du=y(l4=>{"use strict";l4.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");l4.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var Tu=y((rfe,KD)=>{"use strict";var y0=Jt(),cX=Du(),lX=Co(),fX=ae();function Bs(t,e){if(e&&e.default){let r=e.default;Array.isArray(r)&&r.length===0?e.default=Array:!e.shared&&lX(r)&&Object.keys(r).length===0&&(e.default=function(){return{}})}y0.call(this,t,e,"Mixed"),this[cX.schemaMixedSymbol]=!0}Bs.schemaName="Mixed";Bs.defaultOptions={};Bs.prototype=Object.create(y0.prototype);Bs.prototype.constructor=Bs;Bs.get=y0.get;Bs.set=y0.set;Bs.setters=[];Bs.prototype.cast=function(t){return t instanceof Error?fX.errorToPOJO(t):t};Bs.prototype.castForQuery=function(t,e){return e};KD.exports=Bs});var f4=y((nfe,YD)=>{"use strict";var hX=Je(),g0=class extends hX{constructor(e,r){let n=Array.isArray(r)?"array":"primitive value";super("Tried to set nested object field `"+e+`\` to ${n} \``+r+"`"),this.path=e}};Object.defineProperty(g0.prototype,"name",{value:"ObjectExpectedError"});YD.exports=g0});var _0=y((sfe,QD)=>{"use strict";var dX=Je(),E0=class extends dX{constructor(e,r,n){super('Parameter "'+r+'" to '+n+'() must be an object, got "'+e.toString()+'" (type '+typeof e+")")}};Object.defineProperty(E0.prototype,"name",{value:"ObjectParameterError"});QD.exports=E0});var XD=y((ife,JD)=>{"use strict";var pX=ut(),A0=class extends pX{constructor(e){let r="Can't validate() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(A0.prototype,"name",{value:"ParallelValidateError"});JD.exports=A0});var h4=y((ofe,ZD)=>{"use strict";ZD.exports=function(e){let r={},n=Object.keys(e);for(let s of n){if(s.indexOf(".")===-1){r[s]=1;continue}let i=s.split("."),o=i[0];for(let u=0;u<i.length;++u)r[o]=1,u+1<i.length&&(o=o+"."+i[u+1])}return r}});var tT=y((ufe,eT)=>{"use strict";eT.exports=function(e){return e==null||typeof e!="object"?!1:e.$slice==null&&e.$elemMatch==null&&e.$meta==null&&e.$==null}});var O0=y((afe,rT)=>{"use strict";var mX=tT();rT.exports=function(e,r,n,s,i,o){let u=Object.keys(e.$__schema.paths),a=u.length;for(let c=0;c<a;++c){let l,f="",h=u[c];if(h==="_id"&&e.$__.skipId)continue;let d=e.$__schema.paths[h],p=d.splitPath(),m=p.length,g=!1,E=e._doc;for(let _=0;_<m&&E!=null;++_){let A=p[_];if(f+=(f.length?".":"")+A,n===!0){if(f in r)break}else if(n===!1&&r&&!g){let C=d.$isSingleNested||d.$isMongooseDocumentArray;if(f in r&&!mX(r[f])||_===m-1&&C&&s!=null&&s[f])g=!0;else if(s!=null&&!s[f])break}if(_===m-1){if(E[A]!==void 0)break;if(i!=null){if(typeof d.defaultValue=="function"){if(!d.defaultValue.$runBeforeSetters&&i||d.defaultValue.$runBeforeSetters&&!i)break}else if(!i)continue}if(o&&o[f])break;if(r&&n!==null){if(n===!0){if(h in r)continue;try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(E[A]=l,d4(e,h))}else if(g){try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(E[A]=l,d4(e,h))}}else{try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(E[A]=l,d4(e,h))}}else E=E[A]}}};function d4(t,e){t.$__.activePaths.default(e),t.$isSubdocument&&t.$isSingleNested&&t.$parent()!=null&&t.$parent().$__.activePaths.default(t.$__pathRelativeToParent(e))}});var p4=y((cfe,nT)=>{"use strict";nT.exports=function(e,r,n){n=n||{};let s=n.skipDocArrays,i=0;if(!e)return i;for(let o of Object.keys(e.$__.activePaths.getStatePaths("modify"))){if(s){let u=e.$__schema.path(o);if(u&&u.$isMongooseDocumentArray)continue}if(o.startsWith(r+".")&&(e.$__.activePaths.clearPath(o),++i,e.$isSubdocument)){let u=e.ownerDocument(),a=e.$__fullPath(o);u.$__.activePaths.clearPath(a)}}return i}});var S0=y(m4=>{"use strict";var yX=_t(),gX=ee().documentSchemaSymbol,EX=bs().internalToObjectOptions,_X=ae(),Cc,AX=ee().getSymbol,C0=ee().scopeSymbol,sT=_X.isPOJO;m4.compile=iT;m4.defineKey=oT;var OX=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),CX=Object.freeze({noDottedPath:!0});function iT(t,e,r,n){Cc=Cc||en();let s=n.typeKey;for(let i of Object.keys(t)){let o=t[i],a=sT(o)&&Object.keys(o).length>0&&(!o[s]||s==="type"&&sT(o.type)&&o.type.type)?o:null;oT({prop:i,subprops:a,prototype:e,prefix:r,options:n})}}function oT({prop:t,subprops:e,prototype:r,prefix:n,options:s}){Cc=Cc||en();let i=(n?n+".":"")+t;n=n||"";let o=n?Object.freeze({}):CX;e?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){let u=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[i]){let a=Object.create(Cc.prototype,SX(this));n||(a.$__[C0]=this),a.$__.nestedPath=i,Object.defineProperty(a,"schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,gX,{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return yX(u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(a,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(a,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(a,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(a,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(i,null,OX)||{}).length===0}}),Object.defineProperty(a,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),iT(e,a,i,s),this.$__.getters[i]=a}return this.$__.getters[i]},set:function(u){u!=null&&u.$__isNested?u=u.$__get():u instanceof Cc&&!u.$__isNested&&(u=u.$toObject(EX)),(this.$__[C0]||this).$set(i,u)}}):Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){return this[AX].call(this.$__[C0]||this,i,null,o)},set:function(u){this.$set.call(this.$__[C0]||this,i,u)}})}function SX(t){let e={};return Object.getOwnPropertyNames(t).forEach(function(r){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(r)!==-1&&(e[r]=Object.getOwnPropertyDescriptor(t,r),e[r].enumerable=!1)}),e}});var Sc=y(y4=>{"use strict";var wX=is().Binary,uT=Xr(),aT=_l(),bX=Je(),DX=require("util");y4.flatten=cT;y4.modifiedPaths=lT;function cT(t,e,r,n){let s;t&&aT(t)&&!Buffer.isBuffer(t)?s=Object.keys(t.toObject({transform:!1,virtuals:!1})||{}):s=Object.keys(t||{});let i=s.length,o={};e=e?e+".":"";for(let u=0;u<i;++u){let a=s[u],c=t[a];o[e+a]=c;let l=n&&n.path&&n.path(e+a),f=n&&n.nested&&n.nested[e+a];if(!(l&&l.instance==="Mixed")){if(fT(c)){if(r&&r.skipArrays&&Array.isArray(c))continue;let h=cT(c,e+a,r,n);for(let d in h)o[d]=h[d];Array.isArray(c)&&(o[e+a]=c)}if(f){let h=Object.keys(n.paths);for(let d of h)d.startsWith(e+a+".")&&!o.hasOwnProperty(d)&&(o[d]=void 0)}}}return o}function lT(t,e,r,n=null){if(t==null||typeof t!="object")return;if(n==null&&(n={raw:{update:t,path:e},trace:new WeakSet}),n.trace.has(t))throw new bX(`a circular reference in the update value, updateValue:
${DX.inspect(n.raw.update,{showHidden:!1,depth:1})}
updatePath: '${n.raw.path}'`);n.trace.add(t);let s=Object.keys(t||{}),i=s.length;r=r||{},e=e?e+".":"";for(let o=0;o<i;++o){let u=s[o],a=t[u],c=e+u;r[c]=!0,!Buffer.isBuffer(a)&&aT(a)&&(a=a.toObject({transform:!1,virtuals:!1})),fT(a)&&lT(a,e+u,r,n)}return n.trace.delete(t),r}function fT(t){return t&&typeof t=="object"&&!(t instanceof Date)&&!uT(t,"ObjectId")&&(!Array.isArray(t)||t.length!==0)&&!(t instanceof Buffer)&&!uT(t,"Decimal128")&&!(t instanceof wX)}});var pt=y((hfe,hT)=>{"use strict";hT.exports=function(e,r,n){let s,i=!1;if(typeof r=="string"){if(r.indexOf(".")===-1){let a=g4(e,r);return a??n}s=r.split(".")}else if(i=!0,s=r,s.length===1){let a=g4(e,s[0]);return a??n}let o=r,u=e;for(let a of s){if(u==null)return n;if(!i&&u[o]!=null)return u[o];u=g4(u,a),i||(o=o.substr(a.length+1))}return u??n};function g4(t,e){return t==null?t:t instanceof Map?t.get(e):t[e]}});var E4=y((dfe,pT)=>{"use strict";var dT=Xr();pT.exports=function(e,r){return typeof e=="string"&&typeof r=="string"||typeof e=="number"&&typeof r=="number"?e===r:dT(e,"ObjectId")&&dT(r,"ObjectId")?e.toString()===r.toString():!1}});var w0=y((pfe,mT)=>{"use strict";var TX=E4();mT.exports=function(e,r){if(e==null||e.discriminators==null)return null;for(let n of Object.keys(e.discriminators)){let s=e.discriminators[n];if(s.discriminatorMapping!=null&&TX(s.discriminatorMapping.value,r))return s}return null}});var gT=y((mfe,yT)=>{"use strict";var MX=pt(),BX=w0();yT.exports=function t(e,r,n){n=n||{};let s=n.typeOnly,i=Array.isArray(r)?r:r.indexOf(".")===-1?[r]:r.split("."),o=null,u="adhocOrUndefined",a=BX(e.schema,e.get(e.schema.options.discriminatorKey))||e.schema;for(let c=0;c<i.length;++c){let l=i.slice(0,c+1).join(".");if(o=a.path(l),o==null){u="adhocOrUndefined";continue}if(o.instance==="Mixed")return s?"real":o;if(u=a.pathType(l),(o.$isSingleNested||o.$isMongooseDocumentArrayElement)&&o.schema.discriminators!=null){let f=o.schema.discriminators,h=e.get(l+"."+MX(o,"schema.options.discriminatorKey"));if(h==null||f[h]==null)continue;let d=i.slice(c+1).join(".");return t(e.get(l),d,n)}}return s?u:o}});var _T=y((yfe,ET)=>{"use strict";var PX=pt();ET.exports=function(e,r,n){let s=n!=null?Object.keys(PX(e.tree,n,{})):Object.keys(e.tree),i=new Set(Object.keys(r)),o;if(i.size>1){o=new Set;for(let u of s)i.has(u)&&o.add(u);for(let u of i)o.has(u)||o.add(u);o=Array.from(o)}else o=Array.from(i);return o}});var OT=y((gfe,AT)=>{"use strict";AT.exports=function(e,r){if(r.length===1)return;let n=r[0],s;for(let i=0;i<r.length-1;++i){let o=e.path(n);o&&o.schema?(s=o.schema.options.strict,e=o.schema,n=o.$isMongooseDocumentArray&&!isNaN(r[i+1])?"":r[i+1]):n+=n.length?"."+r[i+1]:r[i+1]}return s}});var b0=y((Efe,CT)=>{"use strict";var FX=ae(),NX=new Set(["__index","__parentArray","_doc"]);CT.exports=function(e,r){if(FX.isPOJO(e)&&e.$__!=null&&e._doc!=null){if(r){let n={};for(let s of Object.keys(e))typeof s!="symbol"&&s[0]!=="$"&&(NX.has(s)||(n[s]=e[s]));return{...e._doc,...n}}return e._doc}return e}});var wc=y((_fe,ST)=>{"use strict";ST.exports=function(e){return e==null?!0:typeof e=="object"?!("$meta"in e)&&!("$slice"in e):!0}});var bc=y((Afe,wT)=>{"use strict";var $X=wc();wT.exports=function t(e){if(e==null)return null;let r=Object.keys(e),n=null;if(r.length===1&&r[0]==="_id")n=!e._id;else for(let s=0;s<r.length;++s){let i=r[s];if(i!=="_id"&&$X(e[i])){n=e[i]!=null&&typeof e[i]=="object"?t(e[i]):!e[i];break}}return n}});var _4=y((Ofe,bT)=>{"use strict";var IX=ae();bT.exports=function(e,r){if(e._id==null||r==null||r.length===0)return;let n=String(e._id);for(let s of r){if(s.isVirtual)continue;let o=s.path.split(".");for(let u=0;u<o.length-1;++u){let a=o.slice(0,u+1).join("."),c=o.slice(u+1).join("."),l=e.get(a);if(l!=null&&IX.isMongooseDocumentArray(l)){for(let f=0;f<l.length;++f)l[f]&&l[f].populated(c,s._docs[n]==null?void 0:s._docs[n][f],s);break}}}}});var A4=y((Cfe,TT)=>{"use strict";var{isPOJO:RX}=ae();TT.exports=DT;function DT(t){let e=Object.keys(t),r=e.length,n,s,i;for(;r--;){if(s=e[r],i=t[s],RX(i)&&(t[s]=DT(i)),t[s]===void 0){delete t[s];continue}n=!0}return n?t:void 0}});var BT=y((Sfe,MT)=>{"use strict";MT.exports=function(e,r,n,s,i){let o=Object.keys(e).reduce((a,c)=>a||c.startsWith(r+"."),!1),u=r+"."+n.options.discriminatorKey;!o&&i.length===1&&i[0]===u&&s.splice(s.indexOf(u),1)}});var Ps=y((wfe,PT)=>{"use strict";var xX=E4();PT.exports=function(e,r){if(e==null)return null;for(let n of Object.keys(e)){let s=e[n];if(s.schema&&s.schema.discriminatorMapping&&xX(s.schema.discriminatorMapping.value,r))return s}return null}});var D0=y((bfe,FT)=>{"use strict";FT.exports=function(e,r){let n=r.split("."),s="",i,o,u;for(let a=0;a<n.length;++a)if(s+=s.length?".":""+n[a],e[s]){for(o=Object.keys(e),u=o.length,i=0;i<u;++i)o[a].indexOf(s+".")===0&&o[a].indexOf(r);return!0}return!1}});var wl=y(wo=>{"use strict";var vX=BT(),NT=pt(),kX=Ps(),qX=wc(),LX=_t(),jX=D0();wo.preparePopulationOptions=function(e,r){let n=e.options.populate,s=Object.keys(n).reduce((i,o)=>i.concat([n[o]]),[]);return r.lean!=null&&s.filter(i=>(i&&i.options&&i.options.lean)==null).forEach($T(r.lean)),s.forEach(i=>{i._localModel=e.model}),s};wo.preparePopulationOptionsMQ=function(e,r){let n=e._mongooseOptions.populate,s=Object.keys(n).reduce((u,a)=>u.concat([n[a]]),[]);r.lean!=null&&s.filter(u=>(u&&u.options&&u.options.lean)==null).forEach($T(r.lean));let i=e&&e.options&&e.options.session||null;i!=null&&s.forEach(u=>{if(u.options==null){u.options={session:i};return}"session"in u.options||(u.options.session=i)});let o=e._fieldsForExec();return s.forEach(u=>{u._queryProjection=o}),s.forEach(u=>{u._localModel=e.model}),s};wo.createModel=function(e,r,n,s,i){e.hooks.execPreSync("createModel",r);let o=e.schema?e.schema.discriminatorMapping:null,u=o&&o.isRoot?o.key:null,a=r[u];if(u&&a&&e.discriminators){let l=e.discriminators[a]||kX(e.discriminators,a);if(l){let f=LX(s);return wo.applyPaths(f,l.schema),new l(void 0,f,!0)}}let c={skipId:!0,isNew:!1,willInit:!0};return i!=null&&"defaults"in i&&(c.defaults=i.defaults),new e(void 0,n,c)};wo.createModelAndInit=function(e,r,n,s,i,o,u){let a=o?{populated:o}:void 0,c=wo.createModel(e,r,n,s,i);try{c.$init(r,a,u)}catch(l){u(l,c)}};wo.applyPaths=function(e,r){let n,s,i=new Set;if(e){s=Object.keys(e);let f=[];for(let h=0;h<s.length;++h){let d=s[h];s[h][0]==="-"&&(delete e[d],d==="-_id"?e._id=0:f.push(d.slice(1)))}s=Object.keys(e);for(let h=0;h<s.length;++h){if(s[h][0]==="+")continue;let d=e[s[h]];if(qX(d)&&!(s[h]==="_id"&&s.length>1)&&!(s[h]===r.options.discriminatorKey&&s.length>1&&d!=null&&!d)){n=!d;break}}for(let h of f){let d=r.path(h);!d||!d.selected||n!==!1?(e[h]=0,n=!0):d&&d.selected&&n===!1&&i.add(h)}}let o=[],u=[],a=[];switch(c(r),n){case!0:for(let f of u)e[f]=0;break;case!1:r&&r.paths._id&&r.paths._id.options&&r.paths._id.options.select===!1&&(e._id=0);for(let f of o)i.has(f)||jX(e,f)||(e[f]=e[f]||1);break;case void 0:if(e==null)break;for(let f of Object.keys(e||{}))f.startsWith("+")&&delete e[f];for(let f of u)e[f]==null&&(e[f]=0);break}function c(f,h){if(h||(h=""),a.indexOf(f)!==-1)return[];a.push(f);let d=[];return f.eachPath(function(p,m){if(h&&(p=h+"."+p),m.$isSchemaMap||p.endsWith(".$*")){let E="+"+p,_=e&&E in e;m.options&&m.options.select===!1&&!_&&u.push(p);return}let g=l(p,m);if(g==null&&!Array.isArray(m)&&m.$isMongooseArray&&!m.$isMongooseDocumentArray&&(g=l(p,m.caster)),g!=null&&d.push(g),m.schema){let E=c(m.schema,p);n===!1&&vX(e,p,m.schema,o,E)}}),a.pop(),d}function l(f,h){if(e==null||typeof h.selected!="boolean"||h.selected===!1&&e[f])return;if(!n&&h.selected&&f===r.options.discriminatorKey&&e[f]!=null&&!e[f]){delete e[f];return}if(n===!1&&h.selected&&e[f]!=null&&!e[f]){delete e[f];return}let d="+"+f;if(e&&d in e){delete e[d],n===!1&&s.length>1&&!~s.indexOf(f)&&(e[f]=1);return}let m=f.split("."),g="";for(let E=0;E<m.length;++E)if(g+=g.length?"."+m[E]:m[E],u.indexOf(g)!==-1)return;if(!n&&(h&&h.options&&h.options.$skipDiscriminatorCheck)){let E="";for(let _=0;_<m.length;++_){E+=(E.length===0?"":".")+m[_];let A=NT(e,E,!1)||NT(e,E+".$",!1);if(A&&typeof A!="object")return}}return(h.selected?o:u).push(f),f}};function $T(t){return function(e){e.options||(e.options={}),t!=null&&Array.isArray(t.virtuals)&&(t=Object.assign({},t),t.virtuals=t.virtuals.filter(r=>typeof r=="string"&&r.startsWith(e.path+".")).map(r=>r.slice(e.path.length+1))),e.options.lean=t}}});var RT=y((Tfe,IT)=>{"use strict";function UX(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}IT.exports=UX});var T0=y((Mfe,xT)=>{"use strict";var VX=/\./g;xT.exports=function(e){if(e.indexOf(".")===-1)return[e];let r=e.split(VX),n=r.length,s=new Array(n),i="";for(let o=0;o<n;++o)i+=i.length!==0?"."+r[o]:r[o],s[o]=i;return s}});var kT=y((Bfe,vT)=>{"use strict";vT.exports=function(e,r,n){let s=r[0],i=n,o=e;for(let u=0;u<r.length-1;++u){let a=i.path(s);if(a&&a.schema){let c=o.get(s);if(i=a.schema,s=r[u+1],Array.isArray(c)&&!isNaN(s)&&(c=c[s],s=""),c==null)break;o=c}else s+=s.length?"."+r[u+1]:r[u+1]}return o}});var M0=y((Pfe,LT)=>{"use strict";var bo=en(),zX=fn(),WX=bs().internalToObjectOptions,qT=require("util"),GX=ae();LT.exports=et;function et(t,e,r,n,s){if(typeof n=="object"&&n!=null&&s==null&&(s=n,n=void 0),r!=null){let i={isNew:r.isNew};"defaults"in r.$__&&(i.defaults=r.$__.defaults),s=Object.assign(i,s)}s!=null&&s.path!=null&&(this.$basePath=s.path),bo.call(this,t,e,n,s),delete this.$__.priorDoc}et.prototype=Object.create(bo.prototype);Object.defineProperty(et.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(et.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});et.prototype.toBSON=function(){return this.toObject(WX)};et.prototype.save=async function(e){return e=e||{},e.suppressWarning||GX.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),new Promise((r,n)=>{this.$__save(s=>{if(s!=null)return n(s);r(this)})})};et.prototype.$__fullPath=function(t){return this.$__.fullPath||this.ownerDocument(),t?this.$__.fullPath+"."+t:this.$__.fullPath};et.prototype.$__pathRelativeToParent=function(t){return t==null?this.$basePath:[this.$basePath,t].join(".")};et.prototype.$__save=function(t){return zX(()=>t(null,this))};et.prototype.$isValid=function(t){let e=this.$parent(),r=this.$__pathRelativeToParent(t);return e!=null&&r!=null?e.$isValid(r):bo.prototype.$isValid.call(this,t)};et.prototype.markModified=function(t){bo.prototype.markModified.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);if(e==null||r==null)return;let n=this.$__pathRelativeToParent().replace(/\.$/,"");e.isDirectModified(n)||this.isNew||this.$__parent.markModified(r,this)};et.prototype.isModified=function(t,e,r){let n=this.$parent();return n!=null?(Array.isArray(t)||typeof t=="string"?(t=Array.isArray(t)?t:t.split(" "),t=t.map(s=>this.$__pathRelativeToParent(s)).filter(s=>s!=null)):t||(t=this.$__pathRelativeToParent()),n.$isModified(t,e,r)):bo.prototype.isModified.call(this,t,e,r)};et.prototype.$markValid=function(t){bo.prototype.$markValid.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$markValid(r)};et.prototype.invalidate=function(t,e,r){bo.prototype.invalidate.call(this,t,e,r);let n=this.$parent(),s=this.$__pathRelativeToParent(t);if(n!=null&&s!=null)n.invalidate(s,e,r);else if(e.kind==="cast"||e.name==="CastError"||s==null)throw e;return this.ownerDocument().$__.validationError};et.prototype.$ignore=function(t){bo.prototype.$ignore.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$ignore(r)};et.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!0));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return this.$__.fullPath=e.join("."),this.$__.ownerDocument=t,this.$__.ownerDocument};et.prototype.$__fullPathWithIndexes=function(){let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!1));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return e.join(".")};et.prototype.parent=function(){return this.$__parent};et.prototype.$parent=et.prototype.parent;et.prototype.$__deleteOne=function(t){if(t!=null)return t(null,this)};et.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};et.prototype.deleteOne=function(t,e){return typeof t=="function"&&(e=t,t=null),HX(this),(!t||!t.noop)&&this.$__removeFromParent(),this.$__deleteOne(e)};et.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};et.prototype.inspect=function(){return this.toObject()};qT.inspect.custom&&(et.prototype[qT.inspect.custom]=et.prototype.inspect);function HX(t){let e=t.ownerDocument();function r(){e.$removeListener("save",r),e.$removeListener("deleteOne",r),t.emit("deleteOne",t),t.constructor.emit("deleteOne",t),e=t=null}e.$on("save",r),e.$on("deleteOne",r)}});var Dc=y((Ffe,VT)=>{"use strict";var jT=require("events").EventEmitter,UT=M0(),KX=ae(),bl=ee().documentArrayParent;function tn(t,e,r,n,s){KX.isMongooseDocumentArray(e)?(this.__parentArray=e,this[bl]=e.$parent()):(this.__parentArray=void 0,this[bl]=void 0),this.$setIndex(s),this.$__parent=this[bl];let i;typeof r=="object"&&r!=null?(i={isNew:!0,...r},r=void 0):i={isNew:!0},UT.call(this,t,n,this[bl],r,i)}tn.prototype=Object.create(UT.prototype);tn.prototype.constructor=tn;Object.defineProperty(tn.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(tn.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let t in jT.prototype)tn[t]=jT.prototype[t];tn.prototype.$setIndex=function(t){if(this.__index=t,this.$__!=null&&this.$__.validationError!=null){let e=Object.keys(this.$__.validationError.errors);for(let r of e)this.invalidate(r,this.$__.validationError.errors[r])}};tn.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};tn.prototype.$__removeFromParent=function(){let t=this._doc._id;if(!t)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:t})};tn.prototype.$__fullPath=function(t,e){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),e?t?this.$__.fullPath+"."+t:this.$__.fullPath:t?this.$__.fullPath+"."+this.__index+"."+t:this.$__.fullPath+"."+this.__index)};tn.prototype.$__pathRelativeToParent=function(t,e){return this.__index==null||!this.__parentArray||!this.__parentArray.$path?null:e?t==null?this.__parentArray.$path():this.__parentArray.$path()+"."+t:t==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+t};tn.prototype.$parent=function(){return this[bl]};tn.prototype.parentArray=function(){return this.__parentArray};VT.exports=tn});var F0=y((Nfe,QT)=>{"use strict";var S4=en(),O4=Dc(),YX=ut(),zT=p4(),QX=_t(),WT=bs().internalToObjectOptions,HT=Ts(),rn=ae(),C4=Xr(),Ii=ee().arrayAtomicsSymbol,Do=ee().arrayParentSymbol,To=ee().arrayPathSymbol,ei=ee().arraySchemaSymbol,KT=ee().populateModelSymbol,JX=Symbol("mongoose#Array#sliced"),GT=Array.prototype.push;var P0={$__getAtomics(){let t=[],e=Object.keys(this[Ii]||{}),r=e.length,n=Object.assign({},WT,{_isNested:!0});if(r===0)return t[0]=["$set",this.toObject(n)],t;for(;r--;){let s=e[r],i=this[Ii][s];rn.isMongooseObject(i)?i=i.toObject(n):Array.isArray(i)?i=this.toObject.call(i,n):i!=null&&Array.isArray(i.$each)?i.$each=this.toObject.call(i.$each,n):i!=null&&typeof i.valueOf=="function"&&(i=i.valueOf()),s==="$addToSet"&&(i={$each:i}),t.push([s,i])}return t},$atomics(){return this[Ii]},$parent(){return this[Do]},$path(){return this[To]},$shift(){this._registerAtomic("$pop",-1),this._markModified();let t=this.__array;if(!t._shifted)return t._shifted=!0,[].shift.call(t)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema(){return this[ei]},_cast(t){let e=!1,r,n=this[Do];if(n&&(e=n.$populated(this[To],!0)),e&&t!==null&&t!==void 0){if(r=e.options[KT],r==null)throw new YX("No populated model found for path `"+this[To]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(Buffer.isBuffer(t)||C4(t,"ObjectId")||!rn.isObject(t))&&(t={_id:t}),t.schema&&t.schema.discriminatorMapping&&t.schema.discriminatorMapping.key!==void 0||(t=new r(t)),this[ei].caster.applySetters(t,n,!0)}return this[ei].caster.applySetters(t,n,!1)},_mapCast(t,e){return this._cast(t,this.length+e)},_markModified(t){let e=this[Do],r;if(e){if(r=this[To],arguments.length&&(r=r+"."+t),r!=null&&r.endsWith(".$"))return this;e.markModified(r,arguments.length!==0?t:e)}return this},_registerAtomic(t,e){if(this[JX])return;if(t==="$set")return this[Ii]={$set:e},zT(this[Do],this[To]),this._markModified(),this;let r=this[Ii];if(t==="$pop"&&!("$pop"in r)){let s=this;this[Do].once("save",function(){s._popped=s._shifted=null})}if(r.$set||Object.keys(r).length&&!(t in r))return this[Ii]={$set:this},this;let n;if(t==="$pullAll"||t==="$addToSet")r[t]||(r[t]=[]),r[t]=r[t].concat(e);else if(t==="$pullDocs"){let s=r.$pull||(r.$pull={});e[0]instanceof O4?(n=s.$or||(s.$or=[]),Array.prototype.push.apply(n,e.map(i=>i.toObject({transform:(o,u)=>(i==null||i.$__==null||Object.keys(i.$__.activePaths.getStatePaths("default")).forEach(a=>{HT.unset(a,u),YT(u,a)}),u),virtuals:!1})))):(n=s._id||(s._id={$in:[]}),n.$in=n.$in.concat(e))}else if(t==="$push")if(r.$push=r.$push||{$each:[]},e!=null&&rn.hasUserDefinedProperty(e,"$each"))r.$push=e;else if(e.length===1)r.$push.$each.push(e[0]);else if(e.length<1e4)r.$push.$each.push(...e);else for(let s of e)r.$push.$each.push(s);else r[t]=e;return this},addToSet(){B0(this,arguments);let t=[].map.call(arguments,this._mapCast,this),e=[],r="";t[0]instanceof O4?r="doc":t[0]instanceof Date?r="date":C4(t[0],"ObjectId")&&(r="ObjectId");let n=rn.isMongooseArray(t)?t.__array:t,s=rn.isMongooseArray(this)?this.__array:this;return n.forEach(function(i){let o,u=+i;switch(r){case"doc":o=this.some(function(a){return a.equals(i)});break;case"date":o=this.some(function(a){return+a===u});break;case"ObjectId":o=this.find(a=>a.toString()===i.toString());break;default:o=~this.indexOf(i);break}o||(this._markModified(),s.push(i),this._registerAtomic("$addToSet",i),[].push.call(e,i))},this),e},hasAtomics(){return rn.isPOJO(this[Ii])?Object.keys(this[Ii]).length:0},includes(t,e){return this.indexOf(t,e)!==-1},indexOf(t,e){C4(t,"ObjectId")&&(t=t.toString()),e=e??0;let r=this.length;for(let n=e;n<r;++n)if(t==this[n])return n;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){let t=[].map.call(arguments,this._mapCast,this);this._markModified();let e=[].push.apply(this,t);return this._registerAtomic("$set",this),e},pop(){this._markModified();let t=[].pop.call(this);return this._registerAtomic("$set",this),t},pull(){let t=[].map.call(arguments,(s,i)=>this._cast(s,i,{defaults:!1}),this),e=this[Do].get(this[To]),r=e.length,n;for(this._markModified();r--;)n=e[r],n instanceof S4?t.some(function(i){return n.equals(i)})&&[].splice.call(e,r,1):~e.indexOf.call(t,n)&&[].splice.call(e,r,1);return t[0]instanceof O4?this._registerAtomic("$pullDocs",t.map(function(s){let i=s.$__getValue("_id");return i===void 0||s.$isDefault("_id")?s:i})):this._registerAtomic("$pullAll",t),zT(this[Do],this[To])>0&&this._registerAtomic("$set",this),this},push(){let t=arguments,e=t,r=t[0]!=null&&rn.hasUserDefinedProperty(t[0],"$each"),n=rn.isMongooseArray(this)?this.__array:this;if(r&&(e=t[0],t=t[0].$each),this[ei]==null)return GT.apply(this,t);B0(this,t),t=[].map.call(t,this._mapCast,this);let s,i=this[Ii];return this._markModified(),r?(e.$each=t,(i.$push&&i.$push.$each&&i.$push.$each.length||0)!==0&&i.$push.$position!=e.$position?(e.$position!=null?([].splice.apply(n,[e.$position,0].concat(t)),s=n.length):s=[].push.apply(n,t),this._registerAtomic("$set",this)):e.$position!=null?([].splice.apply(n,[e.$position,0].concat(t)),s=this.length):s=[].push.apply(n,t)):(e=t,s=GT.apply(n,t)),this._registerAtomic("$push",e),s},remove(){return this.pull.apply(this,arguments)},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let s=P0._cast.call(this,e,t);return P0._markModified.call(this,t),n[t]=s,this},shift(){let t=rn.isMongooseArray(this)?this.__array:this;this._markModified();let e=[].shift.call(t);return this._registerAtomic("$set",this),e},sort(){let t=rn.isMongooseArray(this)?this.__array:this,e=[].sort.apply(t,arguments);return this._registerAtomic("$set",this),e},splice(){let t,e=rn.isMongooseArray(this)?this.__array:this;if(this._markModified(),B0(this,Array.prototype.slice.call(arguments,2)),arguments.length){let r;if(this[ei]==null)r=arguments;else{r=[];for(let n=0;n<arguments.length;++n)r[n]=n<2?arguments[n]:this._cast(arguments[n],arguments[0]+(n-2))}t=[].splice.apply(e,r),this._registerAtomic("$set",this)}return t},toBSON(){return this.toObject(WT)},toObject(t){let e=rn.isMongooseArray(this)?this.__array:this;return t&&t.depopulate?(t=QX(t),t._isNested=!0,[].concat(e).map(function(r){return r instanceof S4?r.toObject(t):r})):[].concat(e)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){B0(this,arguments);let t;this[ei]==null?t=arguments:t=[].map.call(arguments,this._cast,this);let e=rn.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(e,t),this._registerAtomic("$set",this),this.length}};function XX(t,e){if(!e)return!1;for(let r of t){if(r==null)return!1;let n=r.constructor;if(!(r instanceof S4)||n.modelName!==e&&n.baseModelName!==e)return!1}return!0}function YT(t,e,r){if(typeof e=="string"){if(e.indexOf(".")===-1)return;e=HT.stringToParts(e)}r=r||0,!(r>=e.length)&&(t==null||typeof t!="object"||(YT(t[e[0]],e,r+1),t[e[0]]!=null&&typeof t[e[0]]=="object"&&Object.keys(t[e[0]]).length===0&&delete t[e[0]]))}function B0(t,e){let r=t==null?null:t[ei]&&t[ei].caster&&t[ei].caster.options&&t[ei].caster.options.ref||null;t.length===0&&e.length!==0&&XX(e,r)&&t[Do].$populated(t[To],[],{[KT]:e[0].constructor})}var ZX=["filter","flat","flatMap","map","slice"];for(let t of ZX)Array.prototype[t]!=null&&(P0[t]=function(){let e=rn.isMongooseArray(this)?this.__array:this,r=[].concat(e);return r[t].apply(r,arguments)});QT.exports=P0});var b4=y((tM,rM)=>{"use strict";var eZ=en(),w4=F0(),N0=ee().arrayAtomicsSymbol,tZ=ee().arrayAtomicsBackupSymbol,JT=ee().arrayParentSymbol,rZ=ee().arrayPathSymbol,XT=ee().arraySchemaSymbol,ZT=Array.prototype.push,eM=/^\d+$/;function nZ(t,e,r,n){let s;if(Array.isArray(t)){let u=t.length;if(u===0)s=new Array;else if(u===1)s=new Array(1),s[0]=t[0];else if(u<1e4)s=new Array,ZT.apply(s,t);else{s=new Array;for(let a=0;a<u;++a)ZT.call(s,t[a])}}else s=[];let i={[N0]:{},[tZ]:void 0,[rZ]:e,[XT]:n,[JT]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:s};t&&t[N0]!=null&&(i[N0]=t[N0]),r!=null&&r instanceof eZ&&(i[JT]=r,i[XT]=n||r.schema.path(e));let o=new Proxy(s,{get:function(u,a){return i.hasOwnProperty(a)?i[a]:w4.hasOwnProperty(a)?w4[a]:typeof a=="string"&&eM.test(a)&&n?.$embeddedSchemaType!=null?n.$embeddedSchemaType.applyGetters(s[a],r):s[a]},set:function(u,a,c){return typeof a=="string"&&eM.test(a)?w4.set.call(o,a,c,!1):i.hasOwnProperty(a)?i[a]=c:s[a]=c,!0}});return o}rM.exports=tM=nZ});var T4=y(($fe,sM)=>{"use strict";var nM=Xr(),D4=Fi();sM.exports=function(e){if(e==null||nM(e,"ObjectId"))return e;if(e._id){if(nM(e._id,"ObjectId"))return e._id;if(e._id.toString instanceof Function)return new D4(e._id.toString())}return e.toString instanceof Function?new D4(e.toString()):new D4(e)}});var aM=y((Ife,uM)=>{"use strict";var $0=F0(),sZ=en(),iZ=T4(),iM=Ps(),oZ=bs().internalToObjectOptions,I0=ae(),M4=Xr(),x0=ee().arrayParentSymbol,P4=ee().arrayPathSymbol,B4=ee().arraySchemaSymbol,oM=ee().documentArrayParent,uZ=Array.prototype.toString,F4={toBSON(){return this.toObject(oZ)},toString(){return uZ.call(this.__array.map(t=>t!=null&&t.$__!=null?t.toString():t))},getArrayParent(){return this[x0]},_cast(t,e,r){if(this[B4]==null)return t;let n=this[B4].casterConstructor;if((n.$isMongooseDocumentArray?I0.isMongooseDocumentArray(t):t instanceof n)||t&&t.constructor&&t.constructor.baseCasterConstructor===n)return t[oM]&&t.__parentArray||(t[oM]=this[x0],t.__parentArray=this),t.$setIndex(e),t;if(t==null)return null;if((Buffer.isBuffer(t)||M4(t,"ObjectId")||!I0.isObject(t))&&(t={_id:t}),t&&n.discriminators&&n.schema&&n.schema.options&&n.schema.options.discriminatorKey)if(typeof t[n.schema.options.discriminatorKey]=="string"&&n.discriminators[t[n.schema.options.discriminatorKey]])n=n.discriminators[t[n.schema.options.discriminatorKey]];else{let o=iM(n.discriminators,t[n.schema.options.discriminatorKey]);o&&(n=o)}if(n.$isMongooseDocumentArray)return n.cast(t,this,void 0,void 0,e);let i=new n(t,this,r,void 0,e);return i.isNew=!0,i},id(t){let e,r,n;try{e=iZ(t).toString()}catch{e=null}for(let s of this)if(s&&(n=s.get("_id"),!(n===null||typeof n>"u"))){if(n instanceof sZ){if(r||(r=String(t)),r==n._id)return s}else if(!M4(t,"ObjectId")&&!M4(n,"ObjectId")){if(t==n||I0.deepEqual(t,n))return s}else if(e==n)return s}return null},toObject(t){return[].concat(this.map(function(e){return e==null?null:typeof e.toObject!="function"?e:e.toObject(t)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){let t=$0.push.apply(this,arguments);return R0(this),t},pull(){let t=$0.pull.apply(this,arguments);return R0(this),t},shift(){let t=$0.shift.apply(this,arguments);return R0(this),t},splice(){let t=$0.splice.apply(this,arguments);return R0(this),t},inspect(){return this.toObject()},create(t){let e=this[B4].casterConstructor;if(t&&e.discriminators&&e.schema&&e.schema.options&&e.schema.options.discriminatorKey)if(typeof t[e.schema.options.discriminatorKey]=="string"&&e.discriminators[t[e.schema.options.discriminatorKey]])e=e.discriminators[t[e.schema.options.discriminatorKey]];else{let r=iM(e.discriminators,t[e.schema.options.discriminatorKey]);r&&(e=r)}return new e(t,this)},notify(t){let e=this;return function r(n,s){s=s||e;let i=s.length;for(;i--;)if(s[i]!=null){switch(t){case"save":n=e[i];break;default:break}I0.isMongooseArray(s[i])?r(n,s[i]):s[i]&&s[i].emit(t,n)}}},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let s=F4._cast.call(this,e,t);return F4._markModified.call(this,t),n[t]=s,this},_markModified(t,e){let r=this[x0],n;if(r){if(n=this[P4],arguments.length)if(e!=null){let s=t.__index;n=n+"."+s+"."+e}else n=n+"."+t;if(n!=null&&n.endsWith(".$"))return this;r.markModified(n,arguments.length!==0?t:r)}return this}};uM.exports=F4;function R0(t){let e=t[x0];if(!e||e.$__.populated==null)return;let r=Object.keys(e.$__.populated).filter(n=>n.startsWith(t[P4]+"."));for(let n of r){let s=n.slice((t[P4]+".").length);Array.isArray(e.$__.populated[n].value)&&(e.$__.populated[n].value=t.map(i=>i.$populated(s)))}}});var Bu=y((Rfe,lM)=>{"use strict";var cM=F0(),N4=aM(),aZ=en(),$4=ee().arrayAtomicsSymbol,cZ=ee().arrayAtomicsBackupSymbol,I4=ee().arrayParentSymbol,R4=ee().arrayPathSymbol,Mu=ee().arraySchemaSymbol,lZ=Array.prototype.push,fZ=/^\d+$/;function hZ(t,e,r){let n=[],s={[$4]:{},[cZ]:void 0,[R4]:e,[Mu]:void 0,[I4]:void 0};if(Array.isArray(t)&&(t[R4]===e&&t[I4]===r&&(s[$4]=Object.assign({},t[$4])),t.forEach(o=>{lZ.call(n,o)})),s[R4]=e,s.__array=n,r&&r instanceof aZ)for(s[I4]=r,s[Mu]=r.$__schema.path(e);s[Mu]!=null&&s[Mu].$isMongooseArray&&!s[Mu].$isMongooseDocumentArray;)s[Mu]=s[Mu].casterConstructor;let i=new Proxy(n,{get:function(o,u){return u==="isMongooseArray"||u==="isMongooseArrayProxy"||u==="isMongooseDocumentArray"||u==="isMongooseDocumentArrayProxy"?!0:s.hasOwnProperty(u)?s[u]:N4.hasOwnProperty(u)?N4[u]:cM.hasOwnProperty(u)?cM[u]:n[u]},set:function(o,u,a){return typeof u=="string"&&fZ.test(u)?N4.set.call(i,u,a,!1):s.hasOwnProperty(u)?s[u]=a:n[u]=a,!0}});return i}lM.exports=hZ});var en=y((TM,MM)=>{"use strict";var k4=require("events").EventEmitter,dZ=HD(),nn=Je(),fM=Tu(),pZ=f4(),mZ=_0(),hM=XD(),yZ=Mc(),q4=So(),L0=wu(),EM=t4(),_M=h4(),L4=O0(),x4=p4(),ti=_t(),gZ=S0().compile,EZ=S0().defineKey,_Z=Sc().flatten,AZ=pt(),v4=gT(),dM=_T(),OZ=OT(),CZ=b0(),pM=fn(),AM=wc(),SZ=bc(),j4=require("util").inspect,OM=bs().internalToObjectOptions,wZ=_4(),bZ=A4(),DZ=Ts(),TZ=wl(),Te=ae(),MZ=RT(),k0=Te.deepEqual,BZ=Te.isMongooseObject,Tc=ee().arrayAtomicsBackupSymbol,sn=ee().arrayAtomicsSymbol,PZ=ee().documentArrayParent,FZ=ee().documentIsModified,CM=ee().documentModifiedPaths,U4=ee().documentSchemaSymbol,NZ=ee().getSymbol,mM=ee().populateModelSymbol,$Z=ee().scopeSymbol,IZ=Du().schemaMixedSymbol,SM=T0(),RZ=kT(),v0=ee().sessionNewDocuments,q0,yM,Pu,xZ=Te.specialProperties;function L(t,e,r,n){if(typeof r=="object"&&r!=null&&(n=r,r=n.skipId),n=Object.assign({},n),this.$__schema==null){let c=Te.isObject(e)&&!e.instanceOfSchema?new yZ(e):e;this.$__setSchema(c),e=r,r=n,n=arguments[4]||{}}if(this.$__=new dZ,n.isNew!=null&&n.isNew!==!0&&(this.$isNew=n.isNew),n.priorDoc!=null&&(this.$__.priorDoc=n.priorDoc),r&&(this.$__.skipId=r),t!=null&&typeof t!="object")throw new mZ(t,"obj","Document");let s=!0;n.defaults!==void 0&&(this.$__.defaults=n.defaults,s=n.defaults);let i=this.$__schema;typeof e=="boolean"||e==="throw"?(e!==!0&&(this.$__.strictMode=e),e=void 0):i.options.strict!==!0&&(this.$__.strictMode=i.options.strict);let o=i.requiredPaths(!0);for(let c of o)this.$__.activePaths.require(c);let u=null;Te.isPOJO(e)&&Object.keys(e).length>0&&(u=SZ(e),this.$__.selected=e,this.$__.exclude=u);let a=u===!1&&e?_M(e):null;if(this._doc==null&&(this.$__buildDoc(t,e,r,u,a,!1),s&&L4(this,e,u,a,!0,null)),t&&(this.$__original_set?this.$__original_set(t,void 0,!0,n):this.$set(t,void 0,!0,n),t instanceof L&&(this.$isNew=t.$isNew)),n.willInit&&s?n.skipDefaults&&(this.$__.skipDefaults=n.skipDefaults):s&&L4(this,e,u,a,!1,n.skipDefaults),!this.$__.strictMode&&t){let c=this;Object.keys(this._doc).forEach(function(f){!(f in i.tree)&&!(f in i.methods)&&!(f in i.virtuals)&&!f.startsWith("$")&&EZ({prop:f,subprops:null,prototype:c})})}WZ(this)}L.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(L.prototype,"isNew",{get:function(){return this.$isNew},set:function(t){this.$isNew=t}});Object.defineProperty(L.prototype,"errors",{get:function(){return this.$errors},set:function(t){this.$errors=t}});L.prototype.$isNew=!0;Te.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(t){L.prototype[t]=function(){if(!this.$__.emitter){if(t==="emit")return;this.$__.emitter=new k4,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[t].apply(this.$__.emitter,arguments)},L.prototype[`$${t}`]=L.prototype[t]});L.prototype.constructor=L;for(let t in k4.prototype)L[t]=k4.prototype[t];L.prototype.$__schema;L.prototype.schema;Object.defineProperty(L.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(t){this.$__.locals=t}});L.prototype.isNew;Object.defineProperty(L.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});L.prototype.id;L.prototype.$errors;Object.defineProperty(L.prototype,"$op",{get:function(){return this.$__.op||null},set:function(t){this.$__.op=t}});function vZ(t,e,r){if(t==null)return;let n=Object.keys(r.$__schema.paths),s=n.length,i=e.indexOf(".")===-1?[e]:e.split(".");for(let o=0;o<s;++o){let u="",a=n[o];if(!a.startsWith(e+"."))continue;let c=r.$__schema.paths[a],l=c.splitPath().slice(i.length),f=l.length;if(c.defaultValue===void 0)continue;let h=t;for(let d=0;d<f&&h!=null;++d){let p=l[d];if(d===f-1){if(h[p]!==void 0)break;try{let m=c.getDefault(r,!1);m!==void 0&&(h[p]=m)}catch(m){r.invalidate(e+"."+u,m);break}break}u+=(u.length?".":"")+p,h[p]=h[p]||{},h=h[p]}}}L.prototype.$__buildDoc=function(t,e,r,n,s){let i={},o=Object.keys(this.$__schema.paths).filter(c=>!c.includes("$*")),u=o.length,a=0;for(;a<u;++a){let c=o[a];if(c==="_id"&&(r||t&&"_id"in t))continue;let l=this.$__schema.paths[c].splitPath(),f=l.length,h=f-1,d="",p=i,m=!1;for(let g=0;g<f;++g){let E=l[g];if(d.length?d+="."+E:d=E,n===!0){if(d in e)break}else if(n===!1&&e&&!m){if(d in e)m=!0;else if(!s[d])break}g<h&&(p=p[E]||(p[E]={}))}}this._doc=i};L.prototype.toBSON=function(){return this.toObject(OM)};L.prototype.init=function(t,e,r){return typeof e=="function"&&(r=e,e=null),this.$__init(t,e),r&&r(null,this),this};L.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};L.prototype.$__init=function(t,e){if(this.$isNew=!1,e=e||{},t._id!=null&&e.populated&&e.populated.length){let n=String(t._id);for(let s of e.populated)if(s.isVirtual?this.$populated(s.path,Te.getValue(s.path,t),s):this.$populated(s.path,s._docs[n],s),s._childDocs!=null){for(let i of s._childDocs)i==null||i.$__==null||(i.$__.parent=this);s._childDocs=[]}}wM(this,t,this._doc,e),wZ(this,e.populated),this.$emit("init",this),this.constructor.emit("init",this);let r=this.$__.exclude===!1&&this.$__.selected?_M(this.$__.selected):null;return L4(this,this.$__.selected,this.$__.exclude,r,!1,this.$__.skipDefaults),this};function wM(t,e,r,n,s){s=s||"",e.$__!=null&&(e=e._doc);let i=Object.keys(e),o=i.length,u,a,c,l=0,f=t.$__.strictMode,h=t.$__schema;for(;l<o;)d(l++);function d(p){if(c=i[p],c==="__proto__"||c==="constructor"||(a=s?s+c:c,u=h.path(a),h.$isRootDiscriminator&&!t.$__isSelected(a)))return;let m=e[c];if(!u&&Te.isPOJO(m))r[c]||(r[c]={},!f&&!(c in h.tree)&&!(c in h.methods)&&!(c in h.virtuals)&&(t[c]=r[c])),wM(t,m,r[c],n,a+".");else if(!u)r[c]=m,!f&&!s&&(t[c]=m);else{if(r.hasOwnProperty(c)&&m!==void 0&&!n.hydratedPopulatedDocs&&delete r[c],m===null)r[c]=u._castNullish(null);else if(m!==void 0){let g=m.$__==null?null:m.$__.wasPopulated;if(u&&!g&&!n.hydratedPopulatedDocs)try{n&&n.setters?r[c]=u.applySetters(m,t,!1):r[c]=u.cast(m,t,!0)}catch(E){t.invalidate(E.path,new EM({path:E.path,message:E.message,type:"cast",value:E.value,reason:E}))}else r[c]=m}t.$isModified(a)||t.$__.activePaths.init(a)}}}L.prototype.updateOne=function(e,r,n){let s=this.constructor.updateOne({_id:this._id},e,r),i=this;return s.pre(function(u){i.constructor._middleware.execPre("updateOne",i,[i],u)}),s.post(function(u){i.constructor._middleware.execPost("updateOne",i,[i],{},u)}),this.$session()!=null&&("session"in s.options||(s.options.session=this.$session())),n!=null?s.exec(n):s};L.prototype.replaceOne=function(){let e=[...arguments];return e.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,e)};L.prototype.$session=function(e){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(e!=null&&e.hasEnded)throw new nn("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(!(e==null&&this.$__.session==null)){if(this.$__.session=e,!this.$isSubdocument){let r=this.$getAllSubdocs();for(let n of r)n.$session(e)}return e}};L.prototype.$timestamps=function(e){if(arguments.length===0)return this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0;let r=this.$timestamps();return e!==r&&(this.$__.timestamps=e),this};L.prototype.overwrite=function(e){let r=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(e))));for(let n of r)n!=="_id"&&(this.$__schema.options.versionKey&&n===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&n===this.$__schema.options.discriminatorKey||this.$set(n,e[n]));return this};L.prototype.$set=function(e,r,n,s){Te.isPOJO(n)&&(s=n,n=void 0);let i=s&&s.merge,o=n&&n!==!0,u=n===!0,a,c,l=0,f,h,d,p=s&&"strict"in s,m=p?s.strict:this.$__.strictMode;if(o&&(a=this.$__.adhocPaths||(this.$__.adhocPaths={}),a[e]=this.$__schema.interpretAsType(e,n,this.$__schema.options)),e==null)[e,r]=[r,e];else if(typeof e!="string"){e instanceof L&&(e.$__isNested?e=e.toObject():e=e.$__schema===this.$__schema?V4(e,{...e._doc}):e._doc),e==null&&([e,r]=[r,e]),d=r?r+".":"",c=dM(this.$__schema,e);let V=c.length,z=s&&s._skipMinimizeTopLevel||!1;if(V===0&&z)return delete s._skipMinimizeTopLevel,r&&this.$set(r,{}),this;s=Object.assign({},s,{_skipMinimizeTopLevel:!1});for(let N=0;N<V;++N){h=c[N];let q=d?d+h:h;f=this.$__schema.pathType(q);let K=e[h];if(n===!0&&!d&&K!=null&&f==="nested"&&this._doc[h]!=null&&delete this._doc[h],Te.isNonBuiltinObject(K)&&f==="nested"){this.$set(q,K,u,Object.assign({},s,{_skipMarkModified:!0})),vZ(this.$get(q),q,this);continue}else if(m){if(u&&K===void 0&&this.$get(q)!==void 0)continue;if(f==="adhocOrUndefined"&&(f=v4(this,q,{typeOnly:!0})),f==="real"||f==="virtual")this.$set(q,K,u,s);else if(f==="nested"&&K instanceof L)this.$set(q,K.toObject({transform:!1}),u,s);else{if(m==="throw")throw f==="nested"?new pZ(h,K):new q4(h);f==="nested"&&K==null&&this.$set(q,K,u,s)}}else K!==void 0&&this.$set(q,K,u,s)}let R={},M=Object.keys(this.$__schema.tree);for(let N=0,q=M.length;N<q;++N)(h=M[N])&&this._doc.hasOwnProperty(h)&&(R[h]=void 0);return this._doc=Object.assign(R,this._doc),this}let g=this.$__schema.pathType(e),E=null;if(g==="adhocOrUndefined"&&(E=e.indexOf(".")===-1?[e]:e.split("."),g=v4(this,E,{typeOnly:!0})),g==="adhocOrUndefined"&&!p){E==null&&(E=e.indexOf(".")===-1?[e]:e.split("."));let V=OZ(this.$__schema,E);V!==void 0&&(m=V)}r=CZ(r,!0);let _=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(e);if(!u)return this.$__getValue(e)})();if(g==="nested"&&r){if(typeof r=="object"&&r!=null){if(r.$__!=null&&(r=r.toObject(OM)),r==null)return this.invalidate(e,new nn.CastError("Object",r,e)),this;let V=this.$isModified(e),z=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(e);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(e)){let M=this.$__getValue(e);this.$__.savedState[e]=M;let N=Object.keys(M||{});for(let q of N)this.$__.savedState[e+"."+q]=M[q]}if(!i)this.$__setValue(e,null),x4(this,e);else return this.$set(r,e,u);let R=dM(this.$__schema,r,e);this.$__setValue(e,{});for(let M of R)this.$set(e+"."+M,r[M],u,{...s,_skipMarkModified:!0});return _!=null&&(!V||z)&&Te.deepEqual(z?this.$__.savedState[e]:_,r)?this.unmarkModified(e):this.markModified(e),this}return this.invalidate(e,new nn.CastError("Object",r,e)),this}let A;if(E==null&&(E=e.indexOf(".")===-1?[e]:e.split(".")),typeof this.$__schema.aliases[E[0]]=="string"&&(E[0]=this.$__schema.aliases[E[0]]),g==="adhocOrUndefined"&&m){let V;for(l=0;l<E.length;++l){let z=E.slice(0,l+1).join(".");if(l+1<E.length&&this.$__schema.pathType(z)==="virtual")return DZ.set(e,r,this),this;if(A=this.$__schema.path(z),A!=null){if(A instanceof fM){V=!0;break}else if(A.$isSchemaMap&&A.$__schemaType instanceof fM&&l<E.length-1){V=!0,A=A.$__schemaType;break}}}if(A==null&&(A=v4(this,e)),!V&&!A){if(m==="throw")throw new q4(e);return this}}else{if(g==="virtual")return A=this.$__schema.virtualpath(e),A.applySetters(r,this),this;A=this.$__path(e)}let C=this._doc,x="";for(l=0;l<E.length-1;++l)C=C[E[l]],x+=(x.length!==0?".":"")+E[l],C||(this.$set(x,{}),this.$__isSelected(x)||this.unmarkModified(x),C=this.$__getValue(x));let F;if(E.length<=1)F=e;else{let V=E.length;for(l=0;l<V;++l){let z=E.slice(0,l+1).join(".");if(this.$get(z,null,{getters:!1})===null){F=z;break}}F||(F=e)}if(!A)return this.$__set(F,e,s,u,E,A,r,_),g==="nested"&&r==null&&x4(this,e),this;if((A.$isSingleNested||A.$isMongooseArray)&&VZ(this,e),r!=null&&i&&A.$isSingleNested){r instanceof L&&(r=r.toObject({virtuals:!1,transform:!1}));let V=Object.keys(r);for(let z of V)this.$set(e+"."+z,r[z],u,s);return this}let T=!0;try{let V=(()=>{if(A.options==null||!(r instanceof L))return!1;let N=r.constructor,q=A.options.ref;if(q!=null&&(q===N.modelName||q===N.baseModelName))return!0;let K=A.options.refPath;if(K==null)return!1;let Ue=r.get(K);return Ue===N.modelName||Ue===N.baseModelName})(),z=!1;if(V&&r instanceof L&&(!r.$__.wasPopulated||Te.deepEqual(r.$__.wasPopulated.value,r._id))){let N=A&&A.$isSingleNested?A.cast(r,this):r._id;this.$populated(e,N,{[mM]:r.constructor}),r.$__.wasPopulated={value:N},z=!0}let R,M=this.$__schema.options.typeKey;if(A.options&&Array.isArray(A.options[M])&&A.options[M].length&&A.options[M][0]&&A.options[M][0].ref&&kZ(r,A.options[M][0].ref)){R={[mM]:r[0].constructor},this.$populated(e,r.map(function(N){return N._id}),R);for(let N of r)N.$__.wasPopulated={value:N._id};z=!0}if(!V||!A.$isSingleNested||!r.$__){let N=this;this.$__schema.singleNestedPaths[e]!=null&&E.length>1&&(N=RZ(this,E,this.schema)),s!=null&&s.overwriteImmutable?r=A.applySetters(r,N,!1,_,{overwriteImmutable:!0}):r=A.applySetters(r,N,!1,_)}if(Array.isArray(r)&&!Array.isArray(A)&&A.$isMongooseDocumentArray&&r.length!==0&&r[0]!=null&&r[0].$__!=null&&r[0].$__.populated!=null){let N=Object.keys(r[0].$__.populated);for(let q of N)this.$populated(e+"."+q,r.map(K=>K.$populated(q)),r[0].$__.populated[q].options);z=!0}if(!z&&this.$__.populated){if(Array.isArray(r)&&this.$__.populated[e])for(let N=0;N<r.length;++N)r[N]instanceof L&&r.set(N,r[N]._id,!0);delete this.$__.populated[e]}r!=null&&A.$isSingleNested&&zZ(r,A,_),this.$markValid(e)}catch(V){V instanceof nn.StrictModeError&&V.isImmutableError?this.invalidate(e,V):V instanceof nn.CastError?(this.invalidate(V.path,V),V.$originalErrorPath&&this.invalidate(e,new nn.CastError(A.instance,r,e,V.$originalErrorPath))):this.invalidate(e,new nn.CastError(A.instance,r,e,V)),T=!1}if(T){let V=null,z=null;if(!u){let N=this.$isSubdocument?this.ownerDocument():this;V=N.$__.savedState,z=this.$isSubdocument?this.$__.fullPath+"."+e:e,N.$__saveInitialState(z)}this.$__set(F,e,s,u,E,A,r,_);let R=!!this.$__.session?.transaction,M=this.$__.session&&this.$__.session[v0]&&this.$__.session[v0].has(this)&&this.$__.session[v0].get(this).modifiedPaths&&!this.$__.session[v0].get(this).modifiedPaths.has(z);V!=null&&V.hasOwnProperty(z)&&(!R||M)&&Te.deepEqual(r,V[z])&&this.unmarkModified(e)}return A.$isSingleNested&&(this.isDirectModified(e)||r==null)&&x4(this,e),this};function kZ(t,e){if(!Array.isArray(t)||t.length===0)return!1;for(let r of t)if(!(r instanceof L)||r.constructor.modelName==null||r.constructor.modelName!=e&&r.constructor.baseModelName!=e)return!1;return!0}L.prototype.set=L.prototype.$set;L.prototype.$__shouldModify=function(t,e,r,n,s,i,o,u){return r&&r._skipMarkModified?!1:this.$isNew||e in this.$__.activePaths.getStatePaths("modify")||o===void 0&&!this.$__isSelected(e)?!0:o===void 0&&e in this.$__.activePaths.getStatePaths("default")||this.$populated(e)&&o instanceof L&&k0(o._id,u)?!1:!!(!k0(o,u!==void 0?u:Te.getValue(e,this))||!n&&o!==null&&o!==void 0&&e in this.$__.activePaths.getStatePaths("default")&&k0(o,i.getDefault(this,n)))};L.prototype.$__set=function(t,e,r,n,s,i,o,u){Pu=Pu||Dc(),this.$__shouldModify(t,e,r,n,s,i,o,u)?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[e]&&(delete this.$__.primitiveAtomics[e],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(t),yM||(yM=b4()),o&&Te.isMongooseArray(o)&&(o._registerAtomic("$set",o),Te.isMongooseDocumentArray(o)&&o.forEach(function(d){d&&d.__parentArray&&(d.__parentArray=o)}))):Array.isArray(o)&&Array.isArray(u)&&Te.isMongooseArray(o)&&Te.isMongooseArray(u)&&(o[sn]=u[sn],o[Tc]=u[Tc],Te.isMongooseDocumentArray(o)&&o.forEach(d=>{d!=null&&(d.$isNew=!1)}));let c=this._doc,l=0,f=s.length,h="";for(;l<f;l++){let p=l+1===f;if(h+=h?"."+s[l]:s[l],xZ.has(s[l]))return;if(p)c instanceof Map?c.set(s[l],o):c.$isSingleNested?(s[l]in c||(c[s[l]]=o),c._doc[s[l]]=o):c[s[l]]=o;else{let m=c instanceof Map,g=m?c.get(s[l]):c[s[l]];Te.isPOJO(g)||g&&g instanceof Pu||g&&!Array.isArray(g)&&g.$isSingleNested||g&&Array.isArray(g)||g==null&&(g={},m?c.set(s[l],g):c[s[l]]=g),c=g}}};L.prototype.$__getValue=function(t){return Te.getValue(t,this._doc)};L.prototype.$inc=function(e,r){if(r==null&&(r=1),Array.isArray(e))return e.forEach(a=>this.$inc(a,r)),this;let n=this.$__path(e);if(n==null){if(this.$__.strictMode==="throw")throw new q4(e);if(this.$__.strictMode===!0)return this}else if(n.instance!=="Number")return this.invalidate(e,new nn.CastError(n.instance,r,e)),this;let s=this.$__getValue(e)||0,i=!1,o=null,u=r;try{r=n.cast(r),o=n.applySetters(s+r,this),u=o-s,i=!0}catch(a){this.invalidate(e,new nn.CastError("number",r,e,a))}return i&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[e]==null?this.$__.primitiveAtomics[e]={$inc:u}:this.$__.primitiveAtomics[e].$inc+=u,this.markModified(e),this.$__setValue(e,o)),this};L.prototype.$__setValue=function(t,e){return Te.setValue(t,e,this._doc),this};L.prototype.get=function(t,e,r){let n;r==null&&(r={}),e&&(n=this.$__schema.interpretAsType(t,e,this.$__schema.options));let s=r.noDottedPath,i=s?this.$__schema.paths[t]:this.$__path(t);if(i==null&&(i=this.$__schema.virtualpath(t),i!=null))return i.applyGetters(void 0,this);if(s){let c=this._doc[t];return n&&(c=n.cast(c)),i!=null&&r.getters!==!1?i.applyGetters(c,this):c}if(i!=null&&i.instance==="Mixed"){let c=this.$__schema.virtualpath(t);c!=null&&(i=c)}let o=t.indexOf(".")!==-1,u=this._doc,a=o?t.split("."):[t];typeof this.$__schema.aliases[a[0]]=="string"&&(a[0]=this.$__schema.aliases[a[0]]);for(let c=0,l=a.length;c<l;c++)u&&u._doc&&(u=u._doc),u==null?u=void 0:u instanceof Map?u=u.get(a[c],{getters:!1}):c===l-1?u=Te.getValue(a[c],u):u=u[a[c]];if(n&&(u=n.cast(u)),i!=null&&r.getters!==!1)u=i.applyGetters(u,this);else if(this.$__schema.nested[t]&&r.virtuals)return V4(this,ti(u)||{},{path:t});return u};L.prototype[NZ]=L.prototype.get;L.prototype.$get=L.prototype.get;L.prototype.$__path=function(t){let e=this.$__.adhocPaths,r=e&&e.hasOwnProperty(t)?e[t]:null;return r||this.$__schema.path(t)};L.prototype.markModified=function(t,e){this.$__saveInitialState(t),this.$__.activePaths.modify(t),e!=null&&!this.$isSubdocument&&(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[t]=e)};L.prototype.$__saveInitialState=function(e){let r=this.$__.savedState,n=e;if(r!=null){let s=n.indexOf("."),i=s===-1?n:n.slice(0,s);r.hasOwnProperty(i)||(r[i]=ti(this.$__getValue(i)))}};L.prototype.unmarkModified=function(t){this.$__.activePaths.init(t),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[t]};L.prototype.$ignore=function(t){this.$__.activePaths.ignore(t)};L.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};L.prototype.$isEmpty=function(t){let e={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){let r=this.$get(t);return r==null?!0:typeof r!="object"?!1:Te.isPOJO(r)?bM(r):Object.keys(r.toObject(e)).length===0}return Object.keys(this.toObject(e)).length===0};function bM(t){if(t==null)return!0;if(typeof t!="object"||Array.isArray(t))return!1;for(let e of Object.keys(t))if(!bM(t[e]))return!1;return!0}L.prototype.modifiedPaths=function(t){t=t||{};let e=Object.keys(this.$__.activePaths.getStatePaths("modify")),r=new Set,n=0,s=0,i=e.length;for(n=0;n<i;++n){let o=e[n],u=SM(o),a=u.length;for(s=0;s<a;++s)r.add(u[s]);if(!t.includeChildren)continue;let c=0,l=this.$get(o);if(typeof l=="object"&&l!==null){l._doc&&(l=l._doc);let f=l.length;if(Array.isArray(l))for(c=0;c<f;++c){let h=o+"."+c;if(!r.has(h)&&(r.add(h),l[c]!=null&&l[c].$__)){let d=l[c].modifiedPaths(),p=0,m=d.length;for(p=0;p<m;++p)r.add(h+"."+d[p])}}else{let h=Object.keys(l),d=0,p=h.length;for(d=0;d<p;++d)r.add(o+"."+h[d])}}}return Array.from(r)};L.prototype[CM]=L.prototype.modifiedPaths;L.prototype.isModified=function(t,e,r){if(t){let n=e&&e.ignoreAtomics,s=this.$__.activePaths.states.modify;if(s==null)return!1;typeof t=="string"&&(t=t.indexOf(" ")===-1?[t]:t.split(" "));for(let a of t)if(s[a]!=null)return!0;let i=r||this[CM](),o=t.some(function(a){return!!~i.indexOf(a)}),u=Object.keys(s);return n&&(u=u.filter(a=>{let c=this.$__getValue(a);return!(c!=null&&c[sn]!=null&&c[sn].$set===void 0)})),o||t.some(function(a){return u.some(function(c){return c===a||a.startsWith(c+".")})})}return this.$__.activePaths.some("modify")};L.prototype.$isModified=L.prototype.isModified;L.prototype[FZ]=L.prototype.isModified;L.prototype.$isDefault=function(t){if(t==null)return this.$__.activePaths.some("default");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(r))};L.prototype.$isDeleted=function(t){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!t,this)};L.prototype.isDirectModified=function(t){if(t==null)return this.$__.activePaths.some("modify");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(r))};L.prototype.isInit=function(t){if(t==null)return this.$__.activePaths.some("init");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(r))};L.prototype.isSelected=function(e){if(this.$__.selected==null)return!0;if(!e)return!1;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(i=>this.$__isSelected(i));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let i of r)if(i!=="_id"&&AM(this.$__.selected[i])){n=!!this.$__.selected[i];break}if(n===null)return!0;if(e in this.$__.selected)return n;let s=e+".";for(let i of r)if(i!=="_id"){if(i.startsWith(s))return n||i!==s;if(s.startsWith(i+"."))return n}return!n};L.prototype.$__isSelected=L.prototype.isSelected;L.prototype.isDirectSelected=function(e){if(this.$__.selected==null)return!0;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(s=>this.isDirectSelected(s));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let s of r)if(s!=="_id"&&AM(this.$__.selected[s])){n=!!this.$__.selected[s];break}return n===null?!0:this.$__.selected.hasOwnProperty(e)?n:!n};L.prototype.validate=async function(e,r){if(typeof e=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new nn("Document.prototype.validate() no longer accepts a callback");let n;if(this.$op="validate",this.$isSubdocument!=null||(this.$__.validating?n=new hM(this,{parentStack:r&&r.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new hM(this,{parentStack:r&&r.parentStack})),arguments.length===1&&typeof arguments[0]=="object"&&!Array.isArray(arguments[0])&&(r=arguments[0],e=null),r&&typeof r.pathsToSkip=="string"){let s=r.pathsToSkip.indexOf(" ")===-1;r.pathsToSkip=s?[r.pathsToSkip]:r.pathsToSkip.split(" ")}if(n!=null)throw n;return new Promise((s,i)=>{this.$__validate(e,r,o=>{if(this.$op=null,this.$__.validating=null,o!=null)return i(o);s()})})};L.prototype.$validate=L.prototype.validate;function qZ(t){let e=Object.keys(t.$__.activePaths.getStatePaths("require")),r=0,n=e.length;for(r=0;r<n;++r){let s=e[r],i=t.$__schema.path(s);if(i!=null&&typeof i.originalRequiredValue=="function"){t.$__.cachedRequired=t.$__.cachedRequired||{};try{t.$__.cachedRequired[s]=i.originalRequiredValue.call(t,t)}catch(o){t.invalidate(s,o)}}}}function DM(t,e,r){let n={};qZ(t);let s=new Set(Object.keys(t.$__.activePaths.getStatePaths("require")).filter(function(c){return!t.$__isSelected(c)&&!t.$isModified(c)?!1:t.$__.cachedRequired!=null&&c in t.$__.cachedRequired?t.$__.cachedRequired[c]:!0}));Object.keys(t.$__.activePaths.getStatePaths("init")).forEach(i),Object.keys(t.$__.activePaths.getStatePaths("modify")).forEach(i),Object.keys(t.$__.activePaths.getStatePaths("default")).forEach(i);function i(c){s.add(c)}let o=t.$getAllSubdocs(),u=t.modifiedPaths();for(let c of o)if(c.$basePath){let l=c.$isSingleNested?c.$__pathRelativeToParent():c.$__fullPathWithIndexes();for(let f of c.modifiedPaths())s.delete(l+"."+f);t.$isModified(l,null,u)&&!t.isDirectModified(l)&&!t.$isDefault(l)&&(s.add(l),t.$__.pathsToScopes==null&&(t.$__.pathsToScopes={}),t.$__.pathsToScopes[l]=c.$isDocumentArrayElement?c.__parentArray:c.$parent(),n[l]={skipSchemaValidators:!0},c.$isDocumentArrayElement&&c.__index!=null&&(n[l].index=c.__index))}for(let c of s){let l=t.$__schema.path(c);if(l){if(l.$isMongooseDocumentArray)for(let f of s)(f==null||f.startsWith(l.path+"."))&&s.delete(f);(!l.caster&&l.validators.length===0&&!l.$parentSchemaDocArray||l.$isMongooseArray&&!l.$isMongooseDocumentArray&&!l.$embeddedSchemaType.$isMongooseArray&&l.validators.length===0&&l.$embeddedSchemaType.validators.length===0)&&s.delete(c)}}for(let c of s)if(t.$__schema.singleNestedPaths.hasOwnProperty(c)){s.delete(c);continue}Array.isArray(e)?s=jZ(s,e):Array.isArray(r)&&(s=UZ(s,r)),LZ(t,s);let a={skipArrays:!0};for(let c of s)if(t.$__schema.nested[c]){let l=t.$__getValue(c);BZ(l)&&(l=l.toObject({transform:!1}));let f=_Z(l,c,a,t.$__schema);Object.keys(f).forEach(i)}for(let c of s){let l=t.$__schema.path(c);if(!l||(l.$parentSchemaDocArray&&typeof l.$parentSchemaDocArray.path=="string"&&s.add(l.$parentSchemaDocArray.path),!l.$isSchemaMap))continue;let f=t.$__getValue(c);if(f!=null)for(let h of f.keys())s.add(c+"."+h)}return s=Array.from(s),[s,n]}function LZ(t,e){for(let r of e){let n=t.$__schema.path(r);if(!n||!n.$isMongooseArray||!Array.isArray(n)&&n.$isMongooseDocumentArray&&!(n&&n.schemaOptions&&n.schemaOptions.required)||n.$isMongooseArray&&!n.$isMongooseDocumentArray&&!n.$embeddedSchemaType.$isMongooseArray&&n.$embeddedSchemaType.validators.length===0)continue;let s=t.$__getValue(r);j0(s,e,r)}}function j0(t,e,r){if(t!=null){let n=t.length;for(let s=0;s<n;++s)Array.isArray(t[s])?j0(t[s],e,r+"."+s):e.add(r+"."+s)}}L.prototype.$__validate=function(t,e,r){this.$__.saveOptions&&this.$__.saveOptions.pathsToSave&&!t?t=[...this.$__.saveOptions.pathsToSave]:typeof t=="function"?(r=t,e=null,t=null):typeof e=="function"&&(r=e,e=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,s=e&&e.pathsToSkip||null,i;n?i=!!e.validateModifiedOnly:i=this.$__schema.options.validateModifiedOnly;let o=e&&e.validateAllPaths;if(o){if(s)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(t)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");if(n&&i)throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`")}let u=this,a=()=>{let g=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,i&&g!=null){let E=Object.keys(g.errors);for(let _ of E)this.$isModified(_)||delete g.errors[_];Object.keys(g.errors).length===0&&(g=void 0)}if(this.$__.cachedRequired={},this.$emit("validate",u),this.constructor.emit("validate",u),g){for(let E in g.errors)!this[PZ]&&g.errors[E]instanceof nn.CastError&&this.invalidate(E,g.errors[E]);return g}},c,l;if(o){c=new Set(Object.keys(this.$__schema.paths));for(let g of c){let E=this.$__schema.path(g);if(!E||!E.$isMongooseArray)continue;let _=this.$__getValue(g);_&&j0(_,c,g)}c=[...c],l={}}else{let g=DM(this,t,s);c=i?g[0].filter(E=>this.$isModified(E)):g[0],l=g[1]}if(typeof t=="string"&&(t=t.split(" ")),c.length===0)return pM(function(){let g=a();if(g)return u.$__schema.s.hooks.execPost("validate:error",u,[u],{error:g},function(E){r(E)});r(null,u)});let f={},h=0,d=this.$__.saveOptions?.pathsToSave;if(Array.isArray(d)){d=new Set(d);for(let g of c)d.has(g)&&p(g)}else for(let g of c)p(g);function p(g){g==null||f[g]||(f[g]=!0,h++,pM(function(){let E=u.$__schema.path(g);if(!E)return--h||m();if(!u.$isValid(g)){--h||m();return}if(E[IZ]!=null&&g!==E.path)return--h||m();let _=u.$__getValue(g),A;(A=u.$populated(g))?_=A:_!=null&&_.$__!=null&&_.$__.wasPopulated&&(_=_._id);let C=u.$__.pathsToScopes!=null&&g in u.$__.pathsToScopes?u.$__.pathsToScopes[g]:u,x={...l[g],path:g,validateModifiedOnly:i,validateAllPaths:o};E.doValidate(_,function(F){if(F){if((E.$isSingleNested||E.$isArraySubdocument||E.$isMongooseDocumentArray)&&F instanceof L0)return--h||m();u.invalidate(g,F,void 0,!0)}--h||m()},C,x)}))}function m(){let g=a();if(g)return u.$__schema.s.hooks.execPost("validate:error",u,[u],{error:g},function(E){r(E)});r(null,u)}};function jZ(t,e){let r=new Set(e),n=new Map([]);for(let i of e){if(i.indexOf(".")===-1)continue;let o=i.split("."),u=o[0];for(let a=1;a<o.length;++a)n.set(u,i),u=u+"."+o[a]}let s=new Set;for(let i of t)r.has(i)?s.add(i):n.has(i)&&s.add(n.get(i));return s}function UZ(t,e){return e=new Set(e),t=Array.from(t).filter(r=>!e.has(r)),new Set(t)}L.prototype.validateSync=function(t,e){let r=this;arguments.length===1&&typeof arguments[0]=="object"&&!Array.isArray(arguments[0])&&(e=arguments[0],t=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,s;n?s=!!e.validateModifiedOnly:s=this.$__schema.options.validateModifiedOnly;let i=e&&e.pathsToSkip,o=e&&e.validateAllPaths;if(o){if(i)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(t)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`")}typeof t=="string"?t=t.indexOf(" ")===-1?[t]:t.split(" "):typeof i=="string"&&i.indexOf(" ")!==-1&&(i=i.split(" "));let u,a;if(o){u=new Set(Object.keys(this.$__schema.paths));for(let f of u){let h=this.$__schema.path(f);if(!h||!h.$isMongooseArray)continue;let d=this.$__getValue(f);d&&j0(d,u,f)}u=[...u],a={}}else{let f=DM(this,t,i);u=s?f[0].filter(h=>this.$isModified(h)):f[0],a=f[1]}let c={};for(let f=0,h=u.length;f<h;++f){let d=u[f];if(c[d])continue;c[d]=!0;let p=r.$__schema.path(d);if(!p||!r.$isValid(d))continue;let m=r.$__getValue(d),g=p.doValidateSync(m,r,{skipSchemaValidators:a[d],path:d,validateModifiedOnly:s,validateAllPaths:o});if(g){if((p.$isSingleNested||p.$isArraySubdocument||p.$isMongooseDocumentArray)&&g instanceof L0)continue;r.invalidate(d,g,void 0,!0)}}let l=r.$__.validationError;if(r.$__.validationError=void 0,r.$emit("validate",r),r.constructor.emit("validate",r),l)for(let f in l.errors)l.errors[f]instanceof nn.CastError&&r.invalidate(f,l.errors[f]);return l};L.prototype.invalidate=function(t,e,r,n){if(this.$__.validationError||(this.$__.validationError=new L0(this)),!this.$__.validationError.errors[t])return(!e||typeof e=="string")&&(e=new EM({path:t,message:e,type:n||"user defined",value:r})),this.$__.validationError===e?this.$__.validationError:(this.$__.validationError.addError(t,e),this.$__.validationError)};L.prototype.$markValid=function(t){!this.$__.validationError||!this.$__.validationError.errors[t]||(delete this.$__.validationError.errors[t],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))};function VZ(t,e){if(!t.$__.validationError)return;let r=Object.keys(t.$__.validationError.errors);for(let n of r)n.startsWith(e+".")&&delete t.$__.validationError.errors[n];Object.keys(t.$__.validationError.errors).length===0&&(t.$__.validationError=null)}function zZ(t,e,r){let n=e.schema;if(n!=null)for(let s of Object.keys(n.paths)){let i=n.paths[s];if(i.$immutableSetter==null)continue;let o=r?.$__getValue(s);i.$immutableSetter.call(t,o)}}L.prototype.$isValid=function(t){return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0?!0:t==null?!1:(t.indexOf(" ")!==-1&&(t=t.split(" ")),Array.isArray(t)?t.some(e=>this.$__.validationError.errors[e]==null):this.$__.validationError.errors[t]==null)};L.prototype.$__reset=function(){let e=this,r=this.$parent()===this?this.$getAllSubdocs():[],n=new Set;for(let i of r){let o=i.$__fullPathWithIndexes();if(i.$__reset(),this.isModified(o)||s(o))if(i.$isDocumentArrayElement)n.add(i.parentArray());else{let u=i.$parent();u===this?this.$__.activePaths.clearPath(i.$basePath):u!=null&&u.$isSubdocument&&u.$__reset()}}for(let i of n)this.$__.activePaths.clearPath(i.$path()),i[Tc]=i[sn],i[sn]={};function s(i){i=i.indexOf(".")===-1?[i]:i.split(".");let o="";for(let u=0;u<i.length;++u)if(o+=(o.length?".":"")+i[u],e.$__.activePaths[o]==="init")return!0;return!1}return this.$__dirty().forEach(function(i){let o=i.value;o&&o[sn]&&(o[Tc]=o[sn],o[sn]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,e=this,this.$__schema.requiredPaths().forEach(function(i){e.$__.activePaths.require(i)}),this};L.prototype.$__undoReset=function(){if(!(this.$__.backup==null||this.$__.backup.activePaths==null)){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let e of this.$__dirty()){let r=e.value;r&&r[sn]&&r[Tc]&&(r[sn]=r[Tc])}for(let e of this.$getAllSubdocs())e.$__undoReset()}};L.prototype.$__dirty=function(){let t=this,e=this.$__.activePaths.map("modify",function(s){return{path:s,value:t.$__getValue(s),schema:t.$__path(s)}});e=e.concat(this.$__.activePaths.map("default",function(s){if(!(s==="_id"||t.$__getValue(s)==null))return{path:s,value:t.$__getValue(s),schema:t.$__path(s)}}));let r=new Map(e.filter(s=>s!=null).map(s=>[s.path,s.value])),n=[];return e.forEach(function(s){if(!s)return;let i=null,o=SM(s.path);for(let u=0;u<o.length-1;u++)if(r.has(o[u])){i=r.get(o[u]);break}i==null?n.push(s):i!=null&&i[sn]!=null&&i.hasAtomics()&&(i[sn]={},i[sn].$set=i)}),n};L.prototype.$__setSchema=function(t){gZ(t.tree,this,void 0,t.options);for(let e of Object.keys(t.virtuals))t.virtuals[e]._applyDefaultGetters();t.path("schema")==null&&(this.schema=t),this.$__schema=t,this[U4]=t};L.prototype.$__getArrayPathsToValidate=function(){return q0||(q0=Bu()),this.$__.activePaths.map("init","modify",function(t){return this.$__getValue(t)}.bind(this)).filter(function(t){return t&&Array.isArray(t)&&Te.isMongooseDocumentArray(t)&&t.length}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t})};L.prototype.$getAllSubdocs=function(){q0||(q0=Bu()),Pu=Pu||Dc();function t(r,n,s){let i=r,o=!1;if(s&&(r instanceof L&&r[U4].paths[s]?i=r._doc[s]:r instanceof L&&r[U4].nested[s]?(i=r._doc[s],o=!0):i=r[s]),i instanceof Pu)n.push(i);else if(i instanceof Map)n=Array.from(i.keys()).reduce(function(u,a){return t(i.get(a),u,null)},n);else if(i&&!Array.isArray(i)&&i.$isSingleNested)n=Object.keys(i._doc).reduce(function(u,a){return t(i,u,a)},n),n.push(i);else if(i&&Te.isMongooseDocumentArray(i))i.forEach(function(a){!a||!a._doc||(n=Object.keys(a._doc).reduce(function(c,l){return t(a._doc,c,l)},n),a instanceof Pu&&n.push(a))});else if(o&&i!=null)for(let u of Object.keys(i))t(i,n,u);return n}let e=[];for(let r of Object.keys(this._doc))t(this,e,r);return e};function WZ(t){let e=t.$__schema&&t.$__schema.callQueue;if(e.length)for(let r of e)r[0]!=="pre"&&r[0]!=="post"&&r[0]!=="on"&&t[r[0]].apply(t,r[1])}L.prototype.$__handleReject=function(e){this.$listeners("error").length?this.$emit("error",e):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",e)};L.prototype.$toObject=function(t,e){let r={transform:!0,flattenDecimals:!0},n=e?"toJSON":"toObject",s=this.constructor&&this.constructor.base&&this.constructor.base.options&&AZ(this.constructor.base.options,n)||{},i=this.$__schema&&this.$__schema.options||{};r={...r,...s,...i[n]},t=Te.isPOJO(t)?{...t}:{},t._calledWithOptions=t._calledWithOptions||{...t};let o;t._calledWithOptions.minimize!=null?o=t.minimize:r.minimize!=null?o=r.minimize:o=i.minimize;let u;t._calledWithOptions.flattenMaps!=null?u=t.flattenMaps:r.flattenMaps!=null?u=r.flattenMaps:u=i.flattenMaps;let a;t._calledWithOptions.flattenObjectIds!=null?a=t.flattenObjectIds:r.flattenObjectIds!=null?a=r.flattenObjectIds:a=i.flattenObjectIds;let c=Object.assign({},t,{_isNested:!0,json:e,minimize:o,flattenMaps:u,flattenObjectIds:a,_seen:t&&t._seen||new Map});if(Te.hasUserDefinedProperty(t,"getters")&&(c.getters=t.getters),Te.hasUserDefinedProperty(t,"virtuals")&&(c.virtuals=t.virtuals),(t.depopulate||t._parentOptions&&t._parentOptions.depopulate||!1)&&t._isNested&&this.$__.wasPopulated)return ti(this.$__.wasPopulated.value||this._id,c);t={...r,...t},t._isNested=!0,t.json=e,t.minimize=o,c._parentOptions=t,c._skipSingleNestedGetters=!1;let f=Object.assign({},c);f._skipSingleNestedGetters=!0;let h=t.transform,d=ti(this._doc,c)||{};t.getters&&(GZ(this,d,f),t.minimize&&(d=bZ(d)||{})),(t.virtuals||t.getters&&t.virtuals!==!1)&&V4(this,d,f,t),t.versionKey===!1&&this.$__schema.options.versionKey&&delete d[this.$__schema.options.versionKey];let p=t.transform;if(p&&HZ(this,d),t.useProjection&&KZ(this,d),p===!0||i.toObject&&p){let m=t.json?i.toJSON:i.toObject;m&&(p=typeof t.transform=="function"?t.transform:m.transform)}else t.transform=h;if(typeof p=="function"){let m=p(this,d,t);typeof m<"u"&&(d=m)}return d};L.prototype.toObject=function(t){return this.$toObject(t)};function V4(t,e,r,n){let s=t.$__schema,i=Object.keys(s.virtuals),o=i.length,u=o,a,c,l=t._doc,f,h=typeof(n&&n.aliases)=="boolean"?n.aliases:!0;r=r||{};let d=null;if(Array.isArray(r.virtuals))d=new Set(r.virtuals);else if(r.virtuals&&r.virtuals.pathsToSkip){d=new Set(i);for(let p=0;p<r.virtuals.pathsToSkip.length;p++)d.has(r.virtuals.pathsToSkip[p])&&d.delete(r.virtuals.pathsToSkip[p])}if(!l)return e;for(o=0;o<u;++o){if(a=i[o],d!=null&&!d.has(a)||!h&&s.aliases.hasOwnProperty(a))continue;if(c=a,r.path!=null){if(!a.startsWith(r.path+"."))continue;c=a.substring(r.path.length+1)}if(c.indexOf(".")===-1&&c===a){if(f=ti(t.get(a,r?{...r,noDottedPath:!0}:{noDottedPath:!0})),f===void 0)continue;e[c]=f;continue}let p=c.split(".");if(f=ti(t.get(a),r),f===void 0)continue;let m=p.length;l=e;for(let g=0;g<m-1;++g)l[p[g]]=l[p[g]]||{},l=l[p[g]];l[p[m-1]]=f}return e}function GZ(t,e,r){let n=t.$__schema,s=Object.keys(n.paths),i=s.length,o,u=t._doc,a;if(!u)return e;for(;i--;){o=s[i];let c=o.split("."),l=c.length,f=l-1,h=e,d;if(u=t._doc,!!t.$__isSelected(o))for(let p=0;p<l&&(d=c[p],a=u[d],!(h!=null&&typeof h!="object"));++p){if(p===f){let m=t.$get(o);if(h[d]=ti(m,r),Array.isArray(h[d])&&n.paths[o].$embeddedSchemaType)for(let g=0;g<h[d].length;++g)h[d][g]=n.paths[o].$embeddedSchemaType.applyGetters(h[d][g],t)}else if(a==null){d in u&&(h[d]=a);break}else h=h[d]||(h[d]={});u=a}}return e}function HZ(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;for(let i of n){let o=r.paths[i];if(typeof o.options.transform=="function"){let u=t.$get(i);if(u===void 0)continue;let a=o.options.transform.call(t,u);gM(i,a),Te.setValue(i,a,e)}else if(o.$embeddedSchemaType!=null&&typeof o.$embeddedSchemaType.options.transform=="function"){let u=t.$get(i);if(u===void 0)continue;let a=[].concat(u),c=o.$embeddedSchemaType.options.transform;for(let l=0;l<a.length;++l){let f=c.call(t,a[l]);a[l]=f,gM(i,f)}e[i]=a}}return e}function gM(t,e){if(MZ(e))throw new Error("`transform` function must be synchronous, but the transform on path `"+t+"` returned a promise.")}function KZ(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;let i=t.$__.selected;if(i===void 0&&(i={},TZ.applyPaths(i,r)),i==null||Object.keys(i).length===0)return e;for(let o of n)i[o]!=null&&!i[o]&&delete e[o];return e}L.prototype.toJSON=function(t){return this.$toObject(t,!0)};L.prototype.ownerDocument=function(){return this};L.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this};L.prototype.$parent=L.prototype.parent;L.prototype.inspect=function(t){let e=Te.isPOJO(t),r;e&&(r=t,r.minimize=!1);let n=arguments.length>0?this.toObject(r):this.toObject();return n??"MongooseDocument { "+n+" }"};j4.custom&&(L.prototype[j4.custom]=L.prototype.inspect);L.prototype.toString=function(){let t=this.inspect();return typeof t=="string"?t:j4(t)};L.prototype.equals=function(t){if(!t)return!1;let e=this.$__getValue("_id"),r=t.$__!=null?t.$__getValue("_id"):t;return!e&&!r?k0(this,t):e&&e.equals?e.equals(r):e===r};L.prototype.populate=async function(){let e={},r=[...arguments];if(typeof r[r.length-1]=="function")throw new nn("Document.prototype.populate() no longer accepts a callback");if(r.length!==0){let i=Te.populate.apply(null,r);for(let o of i)e[o.path]=o}let n=Te.object.vals(e),s=this.constructor;if(this.$__isNested){s=this.$__[$Z].constructor;let i=this.$__.nestedPath;n.forEach(function(o){o.path=i+"."+o.path})}if(this.$session()!=null){let i=this.$session();n.forEach(o=>{if(o.options==null){o.options={session:i};return}"session"in o.options||(o.options.session=i)})}return n.forEach(i=>{i._localModel=s}),s.populate(this,n)};L.prototype.$getPopulatedDocs=function(){let e=[];this.$__.populated!=null&&(e=e.concat(Object.keys(this.$__.populated)));let r=[];for(let n of e){let s=this.$get(n);Array.isArray(s)?r=r.concat(s):s instanceof L&&r.push(s)}return r};L.prototype.populated=function(t,e,r){if(e==null||e===!0){if(!this.$__.populated||typeof t!="string")return;let s=t.endsWith(".$*")?t.replace(/\.\$\*$/,""):t,i=this.$__.populated[s];return i?e===!0?i:i.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[t]={value:e,options:r};let n=t.split(".");for(let s=0;s<n.length-1;++s){let i=n.slice(0,s+1).join("."),o=this.$get(i);if(o!=null&&o.$__!=null&&this.$populated(i)){let u=n.slice(s+1).join(".");o.$populated(u,e,r);break}}return e};L.prototype.$populated=L.prototype.populated;L.prototype.$assertPopulated=function(e,r){if(Array.isArray(e))return e.forEach(n=>this.$assertPopulated(n,r)),this;if(arguments.length>1&&this.$set(r),!this.$populated(e))throw new nn(`Expected path "${e}" to be populated`);return this};L.prototype.depopulate=function(t){typeof t=="string"&&(t=t.indexOf(" ")===-1?[t]:t.split(" "));let e,r=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],n=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let i of r)delete this.$$populatedVirtuals[i],delete this._doc[i],delete n[i];let s=Object.keys(n);for(let i of s)e=this.$populated(i),e&&(delete n[i],Te.setValue(i,e,this._doc));return this}for(let s of t)e=this.$populated(s),delete n[s],r.indexOf(s)!==-1?(delete this.$$populatedVirtuals[s],delete this._doc[s]):e&&Te.setValue(s,e,this._doc);return this};L.prototype.$__fullPath=function(t){return t||""};L.prototype.getChanges=function(){let t=this.$__delta();return t?t[1]:{}};L.prototype.$clone=function(){let t=this.constructor,e=new t;if(e.$isNew=this.$isNew,this._doc&&(e._doc=ti(this._doc,{retainDocuments:!0})),this.$__){let r=this.$__.constructor,n=new r;for(let s of Object.getOwnPropertyNames(this.$__))s!=="activePaths"&&(n[s]=ti(this.$__[s]));Object.assign(n.activePaths,ti({...this.$__.activePaths})),e.$__=n}return e};L.ValidationError=L0;MM.exports=TM=L});var ae=y(X=>{"use strict";var YZ=is().UUID,QZ=TD(),PM=Ts(),JZ=Fi(),FM=vD(),W4=_t(),XZ=fn(),ZZ=Co(),NM=Qp(),$M=qD(),Mo=Xr(),eee=LE(),Dl=_l(),tee=p0(),ree=m0(),Tl=Su(),{trustedSymbol:Bc}=dc(),z4;X.specialProperties=Tl;X.isMongooseArray=NM.isMongooseArray;X.isMongooseDocumentArray=$M.isMongooseDocumentArray;X.registerMongooseArray=NM.registerMongooseArray;X.registerMongooseDocumentArray=$M.registerMongooseDocumentArray;var G4=/\s/,H4=/\s+/;X.toCollectionName=function(t,e){return t==="system.profile"||t==="system.indexes"?t:typeof e=="function"?e(t):t};X.deepEqual=function t(e,r){if(e===r)return!0;if(typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(Mo(e,"ObjectId")&&Mo(r,"ObjectId")||Mo(e,"Decimal128")&&Mo(r,"Decimal128"))return e.toString()===r.toString();if(e instanceof RegExp&&r instanceof RegExp)return e.source===r.source&&e.ignoreCase===r.ignoreCase&&e.multiline===r.multiline&&e.global===r.global&&e.dotAll===r.dotAll&&e.unicode===r.unicode&&e.sticky===r.sticky&&e.hasIndices===r.hasIndices;if(e==null||r==null||e.prototype!==r.prototype)return!1;if(e instanceof Map||r instanceof Map)return!(e instanceof Map)||!(r instanceof Map)?!1:t(Array.from(e.keys()),Array.from(r.keys()))&&t(Array.from(e.values()),Array.from(r.values()));if(e instanceof Number&&r instanceof Number)return e.valueOf()===r.valueOf();if(Buffer.isBuffer(e))return X.buffer.areEqual(e,r);if(Array.isArray(e)||Array.isArray(r)){if(!Array.isArray(e)||!Array.isArray(r))return!1;let o=e.length;if(o!==r.length)return!1;for(let u=0;u<o;++u)if(!t(e[u],r[u]))return!1;return!0}e.$__!=null?e=e._doc:Dl(e)&&(e=e.toObject()),r.$__!=null?r=r._doc:Dl(r)&&(r=r.toObject());let n=Object.keys(e),s=Object.keys(r),i=n.length;if(i!==s.length)return!1;for(let o=i-1;o>=0;o--)if(n[o]!==s[o])return!1;for(let o of n)if(!t(e[o],r[o]))return!1;return!0};X.last=function(t){if(t.length>0)return t[t.length-1]};X.promiseOrCallback=tee;X.cloneArrays=function(e){return Array.isArray(e)?e.map(r=>X.cloneArrays(r)):e};X.omit=function(e,r){if(r==null)return Object.assign({},e);Array.isArray(r)||(r=[r]);let n=Object.assign({},e);for(let s of r)delete n[s];return n};X.merge=function t(e,r,n,s){n=n||{};let i=Object.keys(r),o=0,u=i.length,a;r[Bc]&&(e[Bc]=r[Bc]),s=s||"";let c=n.omitNested||{};for(;o<u;)if(a=i[o++],!(n.omit&&n.omit[a])&&!c[s]&&!Tl.has(a))if(e[a]==null)e[a]=r[a];else if(X.isObject(r[a])){if(X.isObject(e[a])||(e[a]={}),r[a]!=null){if(n.isDiscriminatorSchemaMerge&&r[a].$isSingleNested&&e[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&e[a].$isSingleNested)continue;if(r[a].instanceOfSchema){e[a].instanceOfSchema?ree(e[a],r[a].clone(),n.isDiscriminatorSchemaMerge):e[a]=r[a].clone();continue}else if(Mo(r[a],"ObjectId")){e[a]=new JZ(r[a]);continue}}t(e[a],r[a],n,s?s+"."+a:a)}else n.overwrite&&(e[a]=r[a])};X.toObject=function t(e){z4||(z4=en());let r;if(e==null)return e;if(e instanceof z4)return e.toObject();if(Array.isArray(e)){r=[];for(let n of e)r.push(t(n));return r}if(X.isPOJO(e)){r={},e[Bc]&&(r[Bc]=e[Bc]);for(let n of Object.keys(e))Tl.has(n)||(r[n]=t(e[n]));return r}return e};X.isObject=ZZ;X.isPOJO=jE();X.isNonBuiltinObject=function(e){return typeof e=="object"&&!X.isNativeObject(e)&&!X.isMongooseType(e)&&!(e instanceof YZ)&&e!=null};X.isNativeObject=function(t){return Array.isArray(t)||t instanceof Date||t instanceof Boolean||t instanceof Number||t instanceof String};X.isEmptyObject=function(t){return t!=null&&typeof t=="object"&&Object.keys(t).length===0};X.hasKey=function(e,r){let n=Object.keys(e);for(let s of n)if(s===r||X.isPOJO(e[s])&&X.hasKey(e[s],r))return!0;return!1};X.tick=function(e){if(typeof e=="function")return function(){try{e.apply(this,arguments)}catch(r){XZ(function(){throw r})}}};X.isMongooseType=function(t){return Mo(t,"ObjectId")||Mo(t,"Decimal128")||t instanceof Buffer};X.isMongooseObject=Dl;X.expires=function(e){e&&e.constructor.name==="Object"&&"expires"in e&&(e.expireAfterSeconds=typeof e.expires!="string"?e.expires:Math.round(QZ(e.expires)/1e3),delete e.expires)};X.populate=function(e,r,n,s,i,o,u,a){let c=null;if(arguments.length===1){if(e instanceof FM)return e._docs=[],e._childDocs=[],[e];if(Array.isArray(e))return l(e).map(h=>X.populate(h)[0]);X.isObject(e)?c=Object.assign({},e):c={path:e}}else typeof n=="object"?c={path:e,select:r,match:n,options:s}:c={path:e,select:r,model:n,match:s,options:i,populate:o,justOne:u,count:a};if(typeof c.path!="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof e+"`");return nee(c);function l(f){let h=[];return f.forEach(function(d){G4.test(d.path)?d.path.split(H4).forEach(function(m){let g=Object.assign({},d);g.path=m,h.push(g)}):h.push(d)}),h}};function nee(t){if(Array.isArray(t.populate)){let n=[];t.populate.forEach(function(s){if(G4.test(s.path)){let i=Object.assign({},s);i.path.split(H4).forEach(function(u){i.path=u,n.push(X.populate(i)[0])})}else n.push(X.populate(s)[0])}),t.populate=X.populate(n)}else t.populate!=null&&typeof t.populate=="object"&&(t.populate=X.populate(t.populate));let e=[],r=G4.test(t.path)?t.path.split(H4):[t.path];t.options!=null&&(t.options=W4(t.options));for(let n of r)e.push(new FM(Object.assign({},t,{path:n})));return e}X.getValue=function(t,e,r){return PM.get(t,e,iee,r)};var see=Object.freeze({getters:!1});function iee(t,e){let r=t?._doc||t;return r!=null&&r.isMongooseArrayProxy&&(r=r.__array),r instanceof Map?r.get(e,see):r[e]}X.setValue=function(t,e,r,n,s){PM.set(t,e,r,"_doc",n,s)};X.object={};X.object.vals=function(e){let r=Object.keys(e),n=r.length,s=[];for(;n--;)s.push(e[r[n]]);return s};var oee=Object.prototype.hasOwnProperty;X.object.hasOwnProperty=function(t,e){return oee.call(t,e)};X.isNullOrUndefined=function(t){return t==null};X.array={};X.array.flatten=function t(e,r,n){return n||(n=[]),e.forEach(function(s){Array.isArray(s)?t(s,r,n):(!r||r(s))&&n.push(s)}),n};var uee=Object.prototype.hasOwnProperty;X.hasUserDefinedProperty=function(t,e){if(t==null)return!1;if(Array.isArray(e)){for(let r of e)if(X.hasUserDefinedProperty(t,r))return!0;return!1}if(uee.call(t,e))return!0;if(typeof t=="object"&&e in t){let r=t[e];return r!==Object.prototype[e]&&r!==Array.prototype[e]}return!1};var BM=Math.pow(2,32)-1;X.isArrayIndex=function(t){return typeof t=="number"?t>=0&&t<=BM:typeof t=="string"&&/^\d+$/.test(t)?(t=+t,t>=0&&t<=BM):!1};X.array.unique=function(t){let e=new Set,r=new Set,n=[];for(let s of t)if(typeof s=="number"||typeof s=="string"||s==null){if(e.has(s))continue;n.push(s),e.add(s)}else if(Mo(s,"ObjectId")){if(r.has(s.toString()))continue;n.push(s),r.add(s.toString())}else n.push(s);return n};X.buffer={};X.buffer.areEqual=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0};X.getFunctionName=eee;X.decorate=function(t,e){for(let r in e)Tl.has(r)||(t[r]=e[r])};X.mergeClone=function(t,e){Dl(e)&&(e=e.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));let r=Object.keys(e),n=r.length,s=0,i;for(;s<n;)if(i=r[s++],!Tl.has(i))if(typeof t[i]>"u")t[i]=W4(e[i],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let o=e[i];if(o!=null&&o.valueOf&&!(o instanceof Date)&&(o=o.valueOf()),X.isObject(o)){let u=o;Dl(o)&&!o.isMongooseBuffer&&(u=u.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),o.isMongooseBuffer&&(u=Buffer.from(u)),X.mergeClone(t[i],u)}else t[i]=W4(o,{flattenDecimals:!1})}};X.each=function(t,e){for(let r of t)e(r)};X.renameObjKey=function(t,e,r){return Object.keys(t).reduce((s,i)=>(i===e?s[r]=t[e]:s[i]=t[i],s),{})};X.getOption=function(t){let e=Array.prototype.slice.call(arguments,1);for(let r of e)if(r!=null&&r[t]!=null)return r[t];return null};X.noop=function(){};X.errorToPOJO=function(e){if(!(e instanceof Error))throw new Error("`error` must be `instanceof Error`.");let n={};for(let s of Object.getOwnPropertyNames(e))n[s]=e[s];return n};X.warn=function(e){return process.emitWarning(e,{code:"MONGOOSE"})};X.injectTimestampsOption=function(e,r){r!=null&&(e.timestamps=r)}});var Jt=y((V0,LM)=>{"use strict";var Ml=Je(),kM=bn(),aee=h0(),cee=a4(),U0=_t(),K4=OD(),lee=SD(),Y4=bD(),IM=fn(),fee=ee().schemaTypeSymbol,Fu=ae(),qM=ee().validatorErrorSymbol,hee=ee().documentIsModified,dee=ee().populateModelSymbol,Q4=Ml.CastError,J4=Ml.ValidatorError,pee={_skipMarkModified:!0};function Ee(t,e,r){this[fee]=!0,this.path=t,this.instance=r,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),e=e||{};let n=this.constructor.defaultOptions||{},s=Object.keys(n);for(let u of s)u==="validate"?this.validate(n.validate):n.hasOwnProperty(u)&&!Object.prototype.hasOwnProperty.call(e,u)&&(e[u]=n[u]);e.select==null&&delete e.select;let i=this.OptionsConstructor||kM;this.options=new i(e),this._index=null,Fu.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,K4(this));let o=Object.keys(this.options);for(let u of o){if(u==="cast"){Array.isArray(this.options[u])?this.castFunction.apply(this,this.options[u]):this.castFunction(this.options[u]);continue}if(Fu.hasUserDefinedProperty(this.options,u)&&typeof this[u]=="function"){if(u==="index"&&this._index){if(e.index===!1){let l=this._index;if(typeof l=="object"&&l!=null){if(l.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(l.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}let a=e[u];if(u==="default"){this.default(a);continue}let c=Array.isArray(a)?a:[a];this[u].apply(this,c)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}Ee.prototype.OptionsConstructor=kM;Ee.prototype.path;Ee.prototype.validators;Ee.prototype.isRequired;Ee.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path!=null)return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};Ee.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=r=>r),this._cast=e,this._cast)};Ee.prototype.castFunction=function(e,r){return arguments.length===0?this._castFunction:(e===!1&&(e=this.constructor._defaultCaster||(n=>n)),typeof e=="string"?(this._castErrorMessage=e,this._castFunction):(e!=null&&(this._castFunction=e),r!=null&&(this._castErrorMessage=r),this._castFunction))};Ee.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")};Ee.set=function(e,r){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[e]=r};Ee.get=function(t){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(t)};Ee.prototype.default=function(t){if(arguments.length===1){if(t===void 0){this.defaultValue=void 0;return}if(t!=null&&t.instanceOfSchema)throw new Ml("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=t,this.defaultValue}else arguments.length>1&&(this.defaultValue=[...arguments]);return this.defaultValue};Ee.prototype.index=function(t){return this._index=t,Fu.expires(this._index),this};Ee.prototype.unique=function(t){if(this._index===!1){if(!t)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=t,this)};Ee.prototype.text=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=t,this)};Ee.prototype.sparse=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=t,this)};Ee.prototype.immutable=function(t){return this.$immutable=t,K4(this),this};Ee.prototype.transform=function(t){return this.options.transform=t,this};Ee.prototype.set=function(t){if(typeof t!="function")throw new TypeError("A setter must be a function.");return this.setters.push(t),this};Ee.prototype.get=function(t){if(typeof t!="function")throw new TypeError("A getter must be a function.");return this.getters.push(t),this};Ee.prototype.validateAll=function(t){for(let e=0;e<t.length;e++)this.validate(t[e]);return this};Ee.prototype.validate=function(t,e,r){if(typeof t=="function"||t&&Fu.getFunctionName(t.constructor)==="RegExp"){let o;return typeof e=="function"?(o={validator:t,message:e},o.type=r||"user defined"):e instanceof Object&&!r?(o=Y4(e)?Object.assign({},e):U0(e),o.message||(o.message=o.msg),o.validator=t,o.type=o.type||"user defined"):(e==null&&(e=Ml.messages.general.default),r||(r="user defined"),o={message:e,type:r,validator:t}),this.validators.push(o),this}let n,s,i;for(n=0,s=arguments.length;n<s;n++){if(i=arguments[n],!Fu.isPOJO(i)){let o="Invalid validator. Received ("+typeof i+") "+i+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(o)}this.validate(i.validator,i)}return this};Ee.prototype.required=function(t,e){let r={};if(arguments.length>0&&t==null)return this.validators=this.validators.filter(function(i){return i.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof t=="object"&&(r=t,e=r.message||e,t=t.isRequired),t===!1)return this.validators=this.validators.filter(function(i){return i.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;let n=this;this.isRequired=!0,this.requiredValidator=function(i){let o=this&&this.$__&&this.$__.cachedRequired;if(o!=null&&!this.$__isSelected(n.path)&&!this[hee](n.path))return!0;if(o!=null&&n.path in o){let u=o[n.path]?n.checkRequired(i,this):!0;return delete o[n.path],u}else if(typeof t=="function")return t.apply(this)?n.checkRequired(i,this):!0;return n.checkRequired(i,this)},this.originalRequiredValue=t,typeof t=="string"&&(e=t,t=void 0);let s=e||Ml.messages.general.required;return this.validators.unshift(Object.assign({},r,{validator:this.requiredValidator,message:s,type:"required"})),this};Ee.prototype.ref=function(t){return this.options.ref=t,this};Ee.prototype.getDefault=function(t,e,r){let n;if(typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?n=this.defaultValue.call(t):n=this.defaultValue.call(t,t):n=this.defaultValue,n!=null){if(typeof n=="object"&&(!this.options||!this.options.shared)&&(n=U0(n)),r&&r.skipCast)return this._applySetters(n,t);let s=this.applySetters(n,t,e,void 0,pee);return s&&!Array.isArray(s)&&s.$isSingleNested&&(s.$__parent=t),s}return n};Ee.prototype._applySetters=function(t,e,r,n,s){let i=t;if(r)return i;let o=this.setters;for(let u=o.length-1;u>=0;u--)i=o[u].call(e,i,n,this,s);return i};Ee.prototype._castNullish=function(e){return e};Ee.prototype.applySetters=function(t,e,r,n,s){let i=this._applySetters(t,e,r,n,s);return i==null?this._castNullish(i):(i=this.cast(i,e,r,n,s),i)};Ee.prototype.applyGetters=function(t,e){let r=t,n=this.getters,s=n.length;if(s===0)return r;for(let i=0;i<s;++i)r=n[i].call(e,r,this);return r};Ee.prototype.select=function(e){return this.selected=!!e,this};Ee.prototype.doValidate=function(t,e,r,n){let s=!1,i=this.path;if(typeof e!="function")throw new TypeError(`Must pass callback function to doValidate(), got ${typeof e}`);let o=this.validators.filter(c=>typeof c=="object"&&c!==null),u=o.length;if(!u)return e(null);for(let c=0,l=o.length;c<l&&!s;++c){let f=o[c],h=f.validator,d,p=Y4(f)?Object.assign({},f):U0(f);if(p.path=n&&n.path?n.path:i,p.fullPath=this.$fullPath,p.value=t,h instanceof RegExp){a(h.test(t),p,r);continue}if(typeof h=="function"){if(t===void 0&&h!==this.requiredValidator){a(!0,p,r);continue}try{p.propsParameter?d=h.call(r,t,p):d=h.call(r,t)}catch(m){d=!1,p.reason=m,m.message&&(p.message=m.message)}d!=null&&typeof d.then=="function"?d.then(function(m){a(m,p,r)},function(m){p.reason=m,p.message=m.message,d=!1,a(d,p,r)}):a(d,p,r)}}function a(c,l,f){if(!s)if(c===void 0||c)--u<=0&&IM(function(){e(null)});else{let h=l.ErrorConstructor||J4;s=new h(l,f),s[qM]=!0,IM(function(){e(s)})}}};function RM(t,e){if(t!==void 0&&!t){let r=e.ErrorConstructor||J4,n=new r(e);return n[qM]=!0,n}}Ee.prototype.doValidateSync=function(t,e,r){let n=this.path;if(!this.validators.length)return null;let i=this.validators;if(t===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")i=[this.validators[0]];else return null;let o=null,u=0,a=i.length;for(u=0;u<a;++u){let c=i[u];if(c===null||typeof c!="object")continue;let l=c.validator,f=Y4(c)?Object.assign({},c):U0(c);f.path=r&&r.path?r.path:n,f.fullPath=this.$fullPath,f.value=t;let h=!1;if(!lee(l)){if(l instanceof RegExp){o=RM(l.test(t),f);continue}if(typeof l=="function"){try{f.propsParameter?h=l.call(e,t,f):h=l.call(e,t)}catch(d){h=!1,f.reason=d}if(!(h!=null&&typeof h.then=="function")&&(o=RM(h,f),o))break}}}return o};Ee._isRef=function(t,e,r,n){let s=n&&t.options&&(t.options.ref||t.options.refPath);if(!s&&r&&r.$__!=null){let i=r.$__fullPath(t.path,!0),o=r.ownerDocument();s=i!=null&&o.$populated(i)||r.$populated(t.path)}return s?e==null||!Buffer.isBuffer(e)&&e._bsontype!=="Binary"&&Fu.isObject(e)?!0:n:!1};Ee.prototype._castRef=function(e,r,n){if(e==null)return e;if(e.$__!=null)return e.$__.wasPopulated=e.$__.wasPopulated||{value:e._id},e;if(Buffer.isBuffer(e)||!Fu.isObject(e)){if(n)return e;throw new Q4(this.instance,e,this.path,null,this)}let s=r.$__fullPath(this.path,!0),o=r.ownerDocument().$populated(s,!0),u=e;return(!r.$__.populated||!r.$__.populated[s]||!r.$__.populated[s].options||!r.$__.populated[s].options.options||!r.$__.populated[s].options.options.lean)&&(u=new o.options[dee](e),u.$__.wasPopulated={value:u._id}),u};function xM(t,e){return this.castForQuery(null,t,e)}function mee(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}function vM(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return Array.isArray(n)&&n.length===0?n:r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}Ee.prototype.$conditionalHandlers={$all:mee,$eq:xM,$in:vM,$ne:xM,$nin:vM,$exists:aee,$type:cee};Ee.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t);return n.call(this,e,r)}try{return this.applySetters(e,r)}catch(s){throw s instanceof Q4&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}};Ee.checkRequired=function(t){return arguments.length!==0&&(this._checkRequired=t),this._checkRequired};Ee.prototype.checkRequired=function(t){return t!=null};Ee.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,t,this.instance);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(e.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(e.$immutable=this.$immutable,K4(e)),this._index!==void 0&&(e._index=this._index),this.selected!==void 0&&(e.selected=this.selected),this.isRequired!==void 0&&(e.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(e.originalRequiredValue=this.originalRequiredValue),e.getters=this.getters.slice(),e.setters=this.setters.slice(),e};LM.exports=V0=Ee;V0.CastError=Q4;V0.ValidatorError=J4});var UM=y((vfe,jM)=>{"use strict";var Fs=Yn(),on=class{constructor(e){Object.assign(this,e),e!=null&&e.options!=null&&(this.options=Object.assign({},e.options))}};Object.defineProperty(on.prototype,"ref",Fs);Object.defineProperty(on.prototype,"refPath",Fs);Object.defineProperty(on.prototype,"localField",Fs);Object.defineProperty(on.prototype,"foreignField",Fs);Object.defineProperty(on.prototype,"justOne",Fs);Object.defineProperty(on.prototype,"count",Fs);Object.defineProperty(on.prototype,"match",Fs);Object.defineProperty(on.prototype,"options",Fs);Object.defineProperty(on.prototype,"skip",Fs);Object.defineProperty(on.prototype,"limit",Fs);Object.defineProperty(on.prototype,"perDocumentLimit",Fs);jM.exports=on});var X4=y((kfe,VM)=>{"use strict";var yee=wc();VM.exports=function(e,r){if(e==null)return!1;if(r==="_id")return e._id===0;let n=Object.keys(e),s=null;for(let i of n)if(yee(e[i])){s=e[r]===1?"inclusive":"exclusive";break}return s==="inclusive"?e[r]!==1:s==="exclusive"?e[r]===0:!1}});var z0=y((qfe,zM)=>{"use strict";zM.exports=function(e,r,n){return e==null?e:(e._doc!=null&&(e=e._doc),arguments.length>=3?typeof e!="object"||n===void 0?void 0:(e instanceof Map?e.set(r,n):e[r]=n,n):r==="$*"?e instanceof Map?Array.from(e.values()):Object.keys(e).map(s=>e[s]):e instanceof Map?e.get(r):e[r])}});var Z4=y((Lfe,YM)=>{"use strict";var gee=ut(),Eee=X4(),WM=z0(),GM=Ts(),_ee=require("util"),HM=ae(),KM=/(\.\d+$|\.\d+\.)/g;YM.exports=function(e,r,n,s,i){if(e==null)return[];if(typeof e=="string"&&i!=null&&Eee(i,e))throw new gee("refPath `"+e+"` must not be excluded in projection, got "+_ee.inspect(i));if(KM.test(n)){let a=n.split(KM);if(a[a.length-1]==="")throw new Error("Can't populate individual element in an array");let c="",l=e;for(let d=0;d<a.length;d+=2){let p=a[d];if(l.startsWith(p+"."))c+=l.substring(0,p.length)+a[d+1],l=l.substring(p.length+1);else if(d===a.length-1){c+=l,l="";break}else throw new Error("Could not normalize ref path, chunk "+p+" not in populated path")}let f=GM.get(c,r,WM),h=Array.isArray(f)?f:[f];return h=HM.array.flatten(h),h}let o=GM.get(e,r,WM),u;return s!=null&&s.virtuals.hasOwnProperty(e)?u=[s.virtuals[e].applyGetters(void 0,r)]:u=Array.isArray(o)?o:[o],u=HM.array.flatten(u),u}});var e_=y((jfe,QM)=>{"use strict";var Aee=Z4(),Oee=ae(),Cee=ee().modelSymbol;function Ri(t,e){this.path=e,this.getters=[],this.setters=[],this.options=Object.assign({},t)}Ri.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;let e="$"+this.path;this.getters.push(function(){return this.$locals[e]}),this.setters.push(function(r){this.$locals[e]=r})};Ri.prototype.clone=function(){let t=new Ri(this.options,this.path);return t.getters=[].concat(this.getters),t.setters=[].concat(this.setters),t};Ri.prototype.get=function(t){return this.getters.push(t),this};Ri.prototype.set=function(t){return this.setters.push(t),this};Ri.prototype.applyGetters=function(t,e){Oee.hasUserDefinedProperty(this.options,["ref","refPath"])&&e.$$populatedVirtuals&&e.$$populatedVirtuals.hasOwnProperty(this.path)&&(t=e.$$populatedVirtuals[this.path]);let r=t;for(let n of this.getters)r=n.call(e,r,this,e);return r};Ri.prototype.applySetters=function(t,e){let r=t;for(let n of this.setters)r=n.call(e,r,this,e);return r};Ri.prototype._getModelNamesForPopulate=function(e){if(this.options.refPath)return Aee(this.options.refPath,e,this.path);let r=null;return typeof this.options.ref=="function"&&!this.options.ref[Cee]?r=this.options.ref.call(e,e):r=this.options.ref,r!=null&&!Array.isArray(r)?[r]:r};QM.exports=Ri});var t_=y((Ufe,JM)=>{"use strict";JM.exports=function(e){let r={_id:{auto:!0}};r._id[e.options.typeKey]="ObjectId",e.add(r)}});var r_=y((Vfe,XM)=>{"use strict";XM.exports=function(e,r){let n=e.discriminatorMapping&&e.discriminatorMapping.value;if(n&&!("sparse"in r)){let s=e.options.discriminatorKey;r.partialFilterExpression=r.partialFilterExpression||{},r.partialFilterExpression[s]=n}return r}});var eB=y((zfe,ZM)=>{"use strict";var n_=pt(),See=Co(),wee=r_();ZM.exports=function(e){let r=[],n=new WeakMap,s=e.constructor.indexTypes,i=new Map;return o(e),r;function o(a,c,l){if(n.has(a))return;n.set(a,!0),c=c||"";let f=Object.keys(a.paths);for(let h of f){let d=a.paths[h];if(l!=null&&l.paths[h])continue;if(d.$isMongooseDocumentArray||d.$isSingleNested){if(n_(d,"options.excludeIndexes")!==!0&&n_(d,"schemaOptions.excludeIndexes")!==!0&&n_(d,"schema.options.excludeIndexes")!==!0&&o(d.schema,c+h+"."),d.schema.discriminators!=null){let m=d.schema.discriminators,g=Object.keys(m);for(let E of g)o(m[E],c+h+".",d.schema)}if(d.$isMongooseDocumentArray)continue}let p=d._index||d.caster&&d.caster._index;if(p!==!1&&p!==null&&p!==void 0){let m={},g=See(p),E=g?p:{},_=typeof p=="string"?p:g?p.type:!1;if(_&&s.indexOf(_)!==-1)m[c+h]=_;else if(E.text)m[c+h]="text",delete E.text;else{let C=!1;p==="descending"||p==="desc"?C=!0:p==="ascending"||p==="asc"?C=!1:C=Number(p)===-1,m[c+h]=C?-1:1}delete E.type,"background"in E||(E.background=!0),a.options.autoIndex!=null&&(E._autoIndex=a.options.autoIndex);let A=E&&E.name;typeof A=="string"?i.has(A)?Object.assign(i.get(A),m):(r.push([m,E]),i.set(A,m)):(r.push([m,E]),i.set(A,m))}}n.delete(a),c?u(a,c):(a._indexes.forEach(function(h){let d=h[1];"background"in d||(d.background=!0),wee(a,d)}),r=r.concat(a._indexes))}function u(a,c){let l=a._indexes,f=l.length;for(let h=0;h<f;++h){let d=l[h][0],p=l[h][1],m=Object.keys(d),g=m.length,E={};for(let A=0;A<g;++A){let C=m[A];E[c+C]=d[C]}let _=Object.assign({},p);if(p!=null&&p.partialFilterExpression!=null){_.partialFilterExpression={};let A=p.partialFilterExpression;for(let C of Object.keys(A))_.partialFilterExpression[c+C]=A[C]}r.push([E,_])}}}});var s_=y((Wfe,tB)=>{"use strict";tB.exports=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return e}});var nB=y((Gfe,rB)=>{"use strict";rB.exports=function(e){return!(!e.paths.id&&e.paths._id&&e.options.id)||e.aliases&&e.aliases.id||e.virtual("id").get(bee),e};function bee(){return this._id!=null?String(this._id):null}});var iB=y((Hfe,sB)=>{"use strict";sB.exports=function(e,r,n,s){return s.justOne||s.count?(e[r]=Array.isArray(n)?n[0]:n,typeof e[r]!="object"&&(e[r]=s.count?n:null)):(e[r]=Array.isArray(n)?n:n==null?[]:[n],e[r]=e[r].filter(function(i){return i&&typeof i=="object"})),e[r]}});var Bl=y((Kfe,oB)=>{"use strict";oB.exports=function(e){return e.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var i_=y((Yfe,uB)=>{"use strict";uB.exports=Dee;function Dee(t,e){return t==null?null:typeof t=="boolean"?e:typeof t[e]=="boolean"?t[e]?e:null:e in t?t[e]:e}});var u_=y((Qfe,aB)=>{"use strict";var Tee=Bl(),xi=i_();aB.exports=Nu;function Nu(t,e,r){if(e==null)return;if(Object.keys(e).some(u=>u[0]==="$")){if(e.$push&&o(e.$push),e.$addToSet&&o(e.$addToSet),e.$set!=null){let u=Object.keys(e.$set);for(let a of u)o_(r,a,e.$set,t)}if(e.$setOnInsert!=null){let u=Object.keys(e.$setOnInsert);for(let a of u)o_(r,a,e.$setOnInsert,t)}}let i=Object.keys(e).filter(u=>u[0]!=="$");for(let u of i)o_(r,u,e,t);function o(u){for(let a of Object.keys(u)){let c=r.path(a.replace(/\.\$\./i,".").replace(/.\$$/,""));if(u[a]&&c&&c.$isMongooseDocumentArray&&c.schema.options.timestamps){let l=c.schema.options.timestamps,f=xi(l,"createdAt"),h=xi(l,"updatedAt");u[a].$each?u[a].$each.forEach(function(d){h!=null&&(d[h]=t),f!=null&&(d[f]=t),Nu(t,d,c.schema)}):(h!=null&&(u[a][h]=t),f!=null&&(u[a][f]=t),Nu(t,u[a],c.schema))}}}}function Mee(t,e,r){let n=e.schema.options.timestamps,s=t.length;if(!n){for(let u=0;u<s;++u)Nu(r,t[u],e.schema);return}let i=xi(n,"createdAt"),o=xi(n,"updatedAt");for(let u=0;u<s;++u)o!=null&&(t[u][o]=r),i!=null&&(t[u][i]=r),Nu(r,t[u],e.schema)}function Bee(t,e,r){let n=e.schema.options.timestamps;if(!n){Nu(r,t,e.schema);return}let s=xi(n,"createdAt"),i=xi(n,"updatedAt");i!=null&&(t[i]=r),s!=null&&(t[s]=r),Nu(r,t,e.schema)}function o_(t,e,r,n){let s=Tee(e),i=t.path(s);if(!i)return;let o=[],u=s.split(".");for(let a=u.length-1;a>0;--a){let c=t.path(u.slice(0,a).join("."));c!=null&&(c.$isMongooseDocumentArray||c.$isSingleNested)&&o.push({parentPath:e.split(".").slice(0,a).join("."),parentSchemaType:c})}if(Array.isArray(r[e])&&i.$isMongooseDocumentArray)Mee(r[e],i,n);else if(r[e]&&i.$isSingleNested)Bee(r[e],i,n);else if(o.length>0)for(let a of o){let c=a.parentPath,l=a.parentSchemaType,f=l.schema.options.timestamps,h=xi(f,"updatedAt");if(!(!f||h==null)){if(l.$isSingleNested)r[c+"."+h]=n;else if(l.$isMongooseDocumentArray){let d=e.substring(c.length+1);if(/^\d+$/.test(d)){r[c+"."+d][h]=n;continue}let p=d.indexOf(".");d=p!==-1?d.substring(0,p):d,r[c+"."+d+"."+h]=n}}}else if(i.schema!=null&&i.schema!=t&&r[e]){let a=i.schema.options.timestamps,c=xi(a,"createdAt"),l=xi(a,"updatedAt");if(!a)return;l!=null&&(r[e][l]=n),c!=null&&(r[e][c]=n)}}});var a_=y((Jfe,cB)=>{"use strict";var Pee=pt();cB.exports=Fee;function Fee(t,e,r,n,s,i){let o=n,u=o,a=Pee(s,"timestamps",!0);if(!a||o==null)return n;let c=a!=null&&a.createdAt===!1,l=a!=null&&a.updatedAt===!1;if(i)return n&&n.$set&&(n=n.$set,o.$set={},u=o.$set),!l&&r&&!n[r]&&(u[r]=t),!c&&e&&!n[e]&&(u[e]=t),o;if(n=n||{},Array.isArray(o))return r==null||o.push({$set:{[r]:t}}),o;if(o.$set=o.$set||{},!l&&r&&(!n.$currentDate||!n.$currentDate[r])){let f=!1;if(r.indexOf(".")!==-1){let h=r.split(".");for(let d=1;d<h.length;++d){let p=h.slice(-d).join("."),m=h.slice(0,-d).join(".");if(n[m]!=null){n[m][p]=t,f=!0;break}else if(n.$set&&n.$set[m]){n.$set[m][p]=t,f=!0;break}}}f||(o.$set[r]=t),o.hasOwnProperty(r)&&delete o[r]}if(!c&&e){n[e]&&delete n[e],n.$set&&n.$set[e]&&delete n.$set[e];let f=!1;if(e.indexOf(".")!==-1){let h=e.split(".");for(let d=1;d<h.length;++d){let p=h.slice(-d).join("."),m=h.slice(0,-d).join(".");if(n[m]!=null){n[m][p]=t,f=!0;break}else if(n.$set&&n.$set[m]){n.$set[m][p]=t,f=!0;break}}}f||(o.$setOnInsert=o.$setOnInsert||{},o.$setOnInsert[e]=t)}return Object.keys(o.$set).length===0&&delete o.$set,o}});var fB=y((Xfe,lB)=>{"use strict";lB.exports=function(e,r,n,s,i){let o=r!=null&&r.updatedAt===!1,u=r!=null&&r.createdAt===!1,a=n!=null?n():e.ownerDocument().constructor.base.now();if(!u&&(e.isNew||e.$isSubdocument)&&s&&!e.$__getValue(s)&&e.$__isSelected(s)&&e.$set(s,a,void 0,{overwriteImmutable:!0}),!o&&i&&(e.isNew||e.$isModified())){let c=a;e.isNew&&s!=null&&(c=e.$__getValue(s)),e.$set(i,c)}}});var mB=y((Zfe,pB)=>{"use strict";var Nee=u_(),$ee=a_(),Iee=pt(),hB=i_(),Ree=fB(),xee=Du(),dB=new Set(["replaceOne","findOneAndReplace"]);pB.exports=function(e,r){let n=e.childSchemas.find(s);function s(f){return!!f.schema.options.timestamps}if(!r&&!n)return;let i=hB(r,"createdAt"),o=hB(r,"updatedAt"),u=r!=null&&r.hasOwnProperty("currentTime")?r.currentTime:null,a={};if(e.$timestamps={createdAt:i,updatedAt:o},i&&!e.paths[i]){let f=e.base!=null?e.base.get("timestamps.createdAt.immutable"):null,h=f??!0;a[i]={[e.options.typeKey||"type"]:Date,immutable:h}}o&&!e.paths[o]&&(a[o]=Date),e.add(a),e.pre("save",function(h){let d=Iee(this,"$__.saveOptions.timestamps");if(d===!1)return h();Ree(this,d,u,i,o),h()}),e.methods.initializeTimestamps=function(){let f=u!=null?u():this.constructor.base.now();if(i&&!this.get(i)&&this.$set(i,f),o&&!this.get(o)&&this.$set(o,f),this.$isSubdocument)return this;let h=this.$getAllSubdocs();for(let d of h)d.initializeTimestamps&&d.initializeTimestamps();return this},l[xee.builtInMiddleware]=!0;let c={query:!0,model:!1};e.pre("findOneAndReplace",c,l),e.pre("findOneAndUpdate",c,l),e.pre("replaceOne",c,l),e.pre("update",c,l),e.pre("updateOne",c,l),e.pre("updateMany",c,l);function l(f){let h=u!=null?u():this.model.base.now();dB.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),$ee(h,i,o,this.getUpdate(),this._mongooseOptions,dB.has(this.op)),Nee(h,this.getUpdate(),this.model.schema),f()}}});var gB=y((ehe,yB)=>{"use strict";var vee=ut(),kee=require("util");yB.exports=qee;function qee(t,e){if(typeof t!="string"&&typeof t!="function")throw new vee('Invalid ref at path "'+e+'". Got '+kee.inspect(t,{depth:0}))}});var W0=y(c_=>{"use strict";var EB=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"]);c_.queryOperations=EB;var Lee=EB.concat(["validate"]);c_.queryMiddlewareFunctions=Lee});var G0=y((rhe,_B)=>{"use strict";var jee=Du(),Uee=p0();_B.exports=Pl;Pl.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var Vee=new Set(Pl.middlewareFunctions.flatMap(t=>[t,`$__${t}`]));function Pl(t,e,r){r=r||{};let n={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},s=r.decorateDoc?t:t.prototype;t.$appliedHooks=!0;for(let c of Object.keys(e.paths)){let l=e.paths[c],f=null;if(l.$isSingleNested)f=l.caster;else if(l.$isMongooseDocumentArray)f=l.Constructor;else continue;if(!f.$appliedHooks&&(Pl(f,l.schema,{...r,isChildSchema:!0}),f.discriminators!=null)){let h=Object.keys(f.discriminators);for(let d of h)Pl(f.discriminators[d],f.discriminators[d].schema,r)}}let i=e.s.hooks.filter(c=>c.name==="updateOne"||c.name==="deleteOne"?!!c.document:c.name==="remove"||c.name==="init"?c.document==null||!!c.document:c.query!=null||c.document!=null?c.document!==!1:!0).filter(c=>e.methods[c.name]?!c.fn[jee.builtInMiddleware]:!0);t._middleware=i,s.$__originalValidate=s.$__originalValidate||s.$__validate;let o=r&&r.isChildSchema?["save","validate","deleteOne"]:["save","validate"];for(let c of o){let l=c==="validate"?"$__originalValidate":`$__${c}`,f=i.createWrapper(c,s[l],null,n);s[`$__${c}`]=f}s.$__init=i.createWrapperSync("init",s.$__init,null,n);let u=Object.keys(e.methods),a=Object.assign({},n,{checkForPromise:!0});for(let c of u){if(Vee.has(c)||!i.hasHooks(c))continue;let l=s[c];s[c]=function(){let f=Array.prototype.slice.call(arguments),h=f.slice(-1).pop(),d=typeof h=="function"?f.slice(0,f.length-1):f;return Uee(h,p=>this[`$__${c}`].apply(this,d.concat([p])),t.events)},s[`$__${c}`]=i.createWrapper(c,l,null,a)}}});var Fl=y((nhe,CB)=>{"use strict";var l_=is().Binary,AB=ae();function un(t,e,r){let n=t;t==null&&(n=0);let s,i,o;Array.isArray(e)?(i=e[0],o=e[1]):s=e;let u;return typeof n=="number"||n instanceof Number?u=Buffer.alloc(n):u=Buffer.from(n,s,r),AB.decorate(u,un.mixin),u.isMongooseBuffer=!0,u[un.pathSymbol]=i,u[OB]=o,u._subtype=0,u}var zee=Symbol.for("mongoose#Buffer#_path"),OB=Symbol.for("mongoose#Buffer#_parent");un.pathSymbol=zee;un.mixin={_subtype:void 0,_markModified:function(){let t=this[OB];return t&&t.markModified(this[un.pathSymbol]),this},write:function(){let t=Buffer.prototype.write.apply(this,arguments);return t>0&&this._markModified(),t},copy:function(t){let e=Buffer.prototype.copy.apply(this,arguments);return t&&t.isMongooseBuffer&&t._markModified(),e}};AB.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(t){Buffer.prototype[t]&&(un.mixin[t]=function(){let e=Buffer.prototype[t].apply(this,arguments);return this._markModified(),e})});un.mixin.toObject=function(t){let e=typeof t=="number"?t:this._subtype||0;return new l_(Buffer.from(this),e)};un.mixin.$toObject=un.mixin.toObject;un.mixin.toBSON=function(){return new l_(this,this._subtype||0)};un.mixin.equals=function(t){if(!Buffer.isBuffer(t)||this.length!==t.length)return!1;for(let e=0;e<this.length;++e)if(this[e]!==t[e])return!1;return!0};un.mixin.subtype=function(t){if(typeof t!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==t&&this._markModified(),this._subtype=t};un.Binary=l_;CB.exports=un});var H0=y((she,TB)=>{"use strict";var Wee=Tu(),Gee=ut(),SB=_t(),Hee=ae().deepEqual,Kee=Jr(),Yee=b0(),wB=require("util"),Qee=Su(),f_=Xr(),bB=ee().populateModelSymbol;var Ns=class extends Map{constructor(e,r,n,s){Kee(e)==="Object"&&(e=Object.keys(e).reduce((i,o)=>i.concat([[o,e[o]]]),[])),super(e),this.$__parent=n!=null&&n.$__!=null?n:null,this.$__path=r,this.$__schemaType=s??new Wee(r),this.$__runDeferred()}$init(e,r){DB(e),super.set(e,r),r!=null&&r.$isSingleNested&&(r.$basePath=this.$__path+"."+e)}$__set(e,r){super.set(e,r)}get(e,r){return f_(e,"ObjectId")&&(e=e.toString()),r=r||{},r.getters===!1?super.get(e):this.$__schemaType.applyGetters(super.get(e),this.$__parent)}set(e,r){if(f_(e,"ObjectId")&&(e=e.toString()),DB(e),r=Yee(r),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:e,value:r});return}let n,s=this.$__parent,i=s!=null&&s.$__&&s.$__.populated?s.$populated(u.call(this),!0)||s.$populated(this.$__path,!0):null,o=this.get(e);if(i!=null){if(this.$__schemaType.$isSingleNested)throw new Gee(`Cannot manually populate single nested subdoc underneath Map at path "${this.$__path}". Try using an array instead of a Map.`);Array.isArray(r)&&this.$__schemaType.$isMongooseArray?r=r.map(a=>(a.$__==null&&(a=new i.options[bB](a)),a.$__.wasPopulated={value:a._id},a)):(r.$__==null&&(r=new i.options[bB](r)),r.$__.wasPopulated={value:r._id})}else try{let a=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:u.call(this)}:null;r=this.$__schemaType.applySetters(r,this.$__parent,!1,this.get(e),a)}catch(a){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(u.call(this),a);return}throw a}super.set(e,r),s!=null&&s.$__!=null&&!Hee(r,o)&&s.markModified(u.call(this));function u(){return n||(n=this.$__path+"."+e,n)}}clear(){super.clear();let e=this.$__parent;e?.markModified(this.$__path)}delete(e){return f_(e,"ObjectId")&&(e=e.toString()),this.set(e,void 0),super.delete(e)}toBSON(){return new Map(this)}toObject(e){if(e&&e.flattenMaps){let r={},n=this.keys();for(let s of n)r[s]=SB(this.get(s),e);return r}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(e){if(typeof(e&&e.flattenMaps)!="boolean"||e.flattenMaps){let r={},n=this.keys();for(let s of n)r[s]=SB(this.get(s),e);return r}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(this.$__deferred){for(let e of this.$__deferred)this.set(e.key,e.value);this.$__deferred=null}}};wB.inspect.custom&&Object.defineProperty(Ns.prototype,wB.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:Ns.prototype.inspect});Object.defineProperty(Ns.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(Ns.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(Ns.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(Ns.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(Ns.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(Ns.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});function DB(t){let e=typeof t;if(e!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${e}`);if(t.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "$", got "${t}"`);if(t.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${t}"`);if(Qee.has(t))throw new Error(`Mongoose maps do not support reserved key name "${t}"`)}TB.exports=Ns});var BB=y((ihe,MB)=>{"use strict";MB.exports=is().UUID});var Pc=y($s=>{"use strict";$s.Array=b4();$s.Buffer=Fl();$s.Document=$s.Embedded=Dc();$s.DocumentArray=Bu();$s.Decimal128=Yp();$s.ObjectId=Fi();$s.Map=H0();$s.Subdocument=M0();$s.UUID=BB()});var FB=y((uhe,PB)=>{"use strict";var Jee=bn(),Fc=class extends Jee{},h_=Yn();Object.defineProperty(Fc.prototype,"enum",h_);Object.defineProperty(Fc.prototype,"of",h_);Object.defineProperty(Fc.prototype,"castNonArrays",h_);PB.exports=Fc});var $B=y((ahe,NB)=>{"use strict";NB.exports=d_;function d_(t){if(!Array.isArray(t))return{min:0,max:0,containsNonArrayItem:!0};if(t.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(t.length===1&&!Array.isArray(t[0]))return{min:1,max:1,containsNonArrayItem:!1};let e=d_(t[0]);for(let r=1;r<t.length;++r){let n=d_(t[r]);n.min<e.min&&(e.min=n.min),n.max>e.max&&(e.max=n.max),e.containsNonArrayItem=e.containsNonArrayItem||n.containsNonArrayItem}return e.min=e.min+1,e.max=e.max+1,e}});var Nl=y((che,RB)=>{"use strict";var IB=require("assert");RB.exports=function(e){if(e==null)return e;if(e==="")return null;if((typeof e=="string"||typeof e=="boolean")&&(e=Number(e)),IB.ok(!isNaN(e)),e instanceof Number)return e.valueOf();if(typeof e=="number")return e;if(!Array.isArray(e)&&typeof e.valueOf=="function")return Number(e.valueOf());if(e.toString&&!Array.isArray(e)&&e.toString()==Number(e))return Number(e);IB.ok(!1)}});var kB=y((lhe,vB)=>{"use strict";var Nc=Nr(),xB=So(),K0=Nl(),Xee=new Set(["$and","$or"]),Zee=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),ete=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),tte=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),rte=new Set(["$arrayElemAt","$first","$last"]),nte=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),ste=new Set(["$not"]);vB.exports=function(e,r,n){if(typeof e!="object"||e===null)throw new Error("`$expr` must be an object");return Qn(e,r,n)};function Qn(t,e,r){if($l(t)||t===null)return t;t.$cond!=null?Array.isArray(t.$cond)?t.$cond=t.$cond.map(s=>Qn(s,e,r)):(t.$cond.if=Qn(t.$cond.if,e,r),t.$cond.then=Qn(t.$cond.then,e,r),t.$cond.else=Qn(t.$cond.else,e,r)):t.$ifNull!=null?t.$ifNull.map(s=>Qn(s,e,r)):t.$switch!=null&&(t.branches.map(s=>Qn(s,e,r)),t.default=Qn(t.default,e,r));let n=Object.keys(t);for(let s of n)Xee.has(s)?t[s]=t[s].map(i=>Qn(i,e,r)):Zee.has(s)?t[s]=ate(t[s],e,r):ete.has(s)?t[s]=ute(t[s],e,r):tte.has(s)?t[s]=p_(t[s],e,r):ste.has(s)&&(t[s]=Qn(t[s],e,r));if(t.$in&&(t.$in=ote(t.$in,e,r)),t.$size&&(t.$size=p_(t.$size,e,r)),t.$round){let s=t.$round;if(!Array.isArray(s)||s.length<1||s.length>2)throw new Nc("Array",s,"$round");t.$round=s.map(i=>p_(i,e,r))}return ite(t),t}function ite(t){let e=Object.keys(t);for(let r=0,n=e.length;r<n;++r)t[e[r]]===void 0&&delete t[e[r]]}function p_(t){if(!Y0(t))return t;try{return K0(t)}catch{throw new Nc("Number",t)}}function ote(t,e,r){let n=t[1];if(!$l(n))return t;let s=t[0],i=e.path(n.slice(1));if(i===null){if(r===!1)return t;if(r==="throw")throw new xB("$in");return}if(!i.$isMongooseArray)throw new Error("Path must be an array for $in");return[i.$isMongooseDocumentArray?i.$embeddedSchemaType.cast(s):i.caster.cast(s),n]}function ute(t){if(!Array.isArray(t)){if(!Y0(t))return t;try{return K0(t)}catch{throw new Nc("Number",t)}}return t.map(e=>{if(!Y0(e))return e;try{return K0(e)}catch{throw new Nc("Number",e)}})}function ate(t,e,r){if(!Array.isArray(t)||t.length!==2)throw new Error("Comparison operator must be an array of length 2");t[0]=Qn(t[0],e,r);let n=t[0];if(Y0(t[1])){let s=null,i=null,o=null;if($l(n))s=n.slice(1),i=e.path(s);else if(typeof n=="object"&&n!=null)for(let a of Object.keys(n))nte.has(a)&&$l(n[a])?(s=n[a].slice(1)+"."+a,o=K0):rte.has(a)&&$l(n[a])&&(s=n[a].slice(1)+"."+a,i=e.path(n[a].slice(1)),i!=null&&(i.$isMongooseDocumentArray?i=i.$embeddedSchemaType:i.$isMongooseArray&&(i=i.caster)));let u=typeof t[1]=="object"&&t[1]!=null&&t[1].$literal!=null;if(i!=null)u?t[1]={$literal:i.cast(t[1].$literal)}:t[1]=i.cast(t[1]);else if(o!=null)if(u)try{t[1]={$literal:o(t[1].$literal)}}catch{throw new Nc(o.name.replace(/^cast/,""),t[1],s+".$literal")}else try{t[1]=o(t[1])}catch{throw new Nc(o.name.replace(/^cast/,""),t[1],s)}else{if(s!=null&&r===!0)return;if(s!=null&&r==="throw")throw new xB(s)}}else t[1]=Qn(t[1]);return t}function $l(t){return typeof t=="string"&&t[0]==="$"}function Y0(t){return typeof t=="string"&&t[0]==="$"?!1:typeof t=="object"&&t!==null&&Object.keys(t).find(e=>e[0]==="$")?t.$literal!=null:!0}});var m_=y((fhe,qB)=>{"use strict";var cte=Nr();qB.exports=function(e,r){if(e==null)return e;if(e._id&&typeof e._id=="string")return e._id;if(e.toString&&e.toString!==Object.prototype.toString&&!Array.isArray(e))return e.toString();throw new cte("string",e,r)}});var VB=y((hhe,UB)=>{"use strict";var lte=Nr(),LB=f0(),jB=m_();UB.exports=function(t,e){if(t==null||typeof t!="object")throw new lte("$text",t,e);return t.$search!=null&&(t.$search=jB(t.$search,e+".$search")),t.$language!=null&&(t.$language=jB(t.$language,e+".$language")),t.$caseSensitive!=null&&(t.$caseSensitive=LB(t.$caseSensitive,e+".$castSensitive")),t.$diacriticSensitive!=null&&(t.$diacriticSensitive=LB(t.$diacriticSensitive,e+".$diacriticSensitive")),t}});var Q0=y((dhe,zB)=>{"use strict";var fte=new Set(["$ref","$id","$db"]);zB.exports=function(e){return e[0]==="$"&&!fte.has(e)}});var $c=y((phe,YB)=>{"use strict";var WB=Nr(),y_=So(),hte=Il(),dte=kB(),pte=VB(),mte=pt(),GB=w0(),HB=Q0(),yte=require("util"),E_=Co(),g_=_l(),KB=ae(),gte=["Polygon","MultiPolygon"];YB.exports=function t(e,r,n,s){if(Array.isArray(r))throw new Error("Query filter must be an object, got an array ",yte.inspect(r));if(r==null)return r;e!=null&&e.discriminators!=null&&r[e.options.discriminatorKey]!=null&&(e=GB(e,r[e.options.discriminatorKey])||e);let i=Object.keys(r),o=i.length,u,a,c,l,f,h,d;for(n=n||{};o--;)if(f=i[o],d=r[f],f==="$or"||f==="$nor"||f==="$and"){if(!Array.isArray(d))throw new WB("Array",d,f);for(let p=0;p<d.length;++p){if(d[p]==null||typeof d[p]!="object")throw new WB("Object",d[p],f+"."+p);let m=d[p][e.options.discriminatorKey];if(m==null)d[p]=t(e,d[p],n,s);else{let g=GB(s.schema,m);d[p]=t(g||e,d[p],n,s)}}}else if(f==="$where"){if(h=typeof d,h!=="string"&&h!=="function")throw new Error("Must have a string or function for $where");h==="function"&&(r[f]=d.toString());continue}else if(f==="$expr"){d=dte(d,e);continue}else if(f==="$elemMatch")d=t(e,d,n,s);else if(f==="$text")d=pte(d,f);else{if(!e)continue;if(c=e.path(f),!c){let p=f.split("."),m=p.length;for(;m--;){let g=p.slice(0,m).join("."),E=p.slice(m).join("."),_=e.path(g),A=_&&_.schema&&_.schema.options&&_.schema.options.discriminatorKey;if(_!=null&&(_.schema&&_.schema.discriminators)!=null&&A!=null&&E!==A){let C=mte(r,g+"."+A),x=_.schema.discriminators;typeof C=="string"&&x[C]!=null?c=x[C].path(E):C!=null&&Object.keys(C).length===1&&Array.isArray(C.$in)&&C.$in.length===1&&typeof C.$in[0]=="string"&&x[C.$in[0]]!=null&&(c=x[C.$in[0]].path(E))}}}if(c){if(d==null)continue;if(KB.isPOJO(d))if(a=Object.keys(d).some(HB),!a)r[f]=c.castForQuery(null,d,s);else{let p=Object.keys(d),m,g=p.length;for(;g--;)if(m=p[g],l=d[m],m==="$elemMatch")l&&c!=null&&c.schema!=null?t(c.schema,l,n,s):l&&c!=null&&c.$isMongooseArray&&(KB.isPOJO(l)&&l.$not!=null?t(e,l,n,s):d[m]=c.castForQuery(m,l,s));else if(m==="$not"){if(l&&c){if(u=Object.keys(l),u.length&&HB(u[0]))for(let E in l)l[E]=c.castForQuery(E,l[E],s);else d[m]=c.castForQuery(m,l,s);continue}}else d[m]=c.castForQuery(m,l,s)}else if(Array.isArray(d)&&["Buffer","Array"].indexOf(c.instance)===-1){let p=[],m=d;for(let g of m)p.push(c.castForQuery(null,g,s));r[f]={$in:p}}else r[f]=c.castForQuery(null,d,s)}else{let p=f.split("."),m=p.length,g,E,_;for(;m--&&(g=p.slice(0,m).join("."),c=e.path(g),!c););if(c){if(c.caster&&c.caster.schema){_={},E=p.slice(m).join("."),_[E]=d;let x=t(c.caster.schema,_,n,s)[E];x===void 0?delete r[f]:r[f]=x}else r[f]=d;continue}if(E_(d)){let x="";if(d.$near?x="$near":d.$nearSphere?x="$nearSphere":d.$within?x="$within":d.$geoIntersects?x="$geoIntersects":d.$geoWithin&&(x="$geoWithin"),x){let F=new hte.Number("__QueryCasting__"),T=d[x];if(d.$maxDistance!=null&&(d.$maxDistance=F.castForQuery(null,d.$maxDistance,s)),d.$minDistance!=null&&(d.$minDistance=F.castForQuery(null,d.$minDistance,s)),x==="$within"){let V=T.$center||T.$centerSphere||T.$box||T.$polygon;if(!V)throw new Error("Bad $within parameter: "+JSON.stringify(d));T=V}else if(x==="$near"&&typeof T.type=="string"&&Array.isArray(T.coordinates))T=T.coordinates;else if((x==="$near"||x==="$nearSphere"||x==="$geoIntersects")&&T.$geometry&&typeof T.$geometry.type=="string"&&Array.isArray(T.$geometry.coordinates))T.$maxDistance!=null&&(T.$maxDistance=F.castForQuery(null,T.$maxDistance,s)),T.$minDistance!=null&&(T.$minDistance=F.castForQuery(null,T.$minDistance,s)),g_(T.$geometry)&&(T.$geometry=T.$geometry.toObject({transform:!1,virtuals:!1})),T=T.$geometry.coordinates;else if(x==="$geoWithin")if(T.$geometry){g_(T.$geometry)&&(T.$geometry=T.$geometry.toObject({virtuals:!1}));let V=T.$geometry.type;if(gte.indexOf(V)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+V+'", must be "Polygon" or "MultiPolygon"');T=T.$geometry.coordinates}else T=T.$box||T.$polygon||T.$center||T.$centerSphere,g_(T)&&(T=T.toObject({virtuals:!1}));__(T,F,s);continue}}if(e.nested[f])continue;let A="strict"in n?n.strict:e.options.strict,C=Ete(n,e._userProvidedOptions,e.options,s);if(n.upsert&&A)throw A==="throw"?new y_(f):new y_(f,'Path "'+f+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(C==="throw")throw new y_(f,'Path "'+f+`" is not in schema and strictQuery is 'throw'.`);C&&delete r[f]}}return r};function __(t,e,r){if(Array.isArray(t))t.forEach(function(n,s){if(Array.isArray(n)||E_(n))return __(n,e,r);t[s]=e.castForQuery(null,n,r)});else{let n=Object.keys(t),s=n.length;for(;s--;){let i=n[s],o=t[i];Array.isArray(o)||E_(o)?(__(o,e,r),t[i]=o):t[i]=e.castForQuery({val:o,context:r})}}}function Ete(t,e,r,n){if("strictQuery"in t)return t.strictQuery;if("strictQuery"in e)return e.strictQuery;let s=n&&n.mongooseCollection&&n.mongooseCollection.conn&&n.mongooseCollection.conn.base&&n.mongooseCollection.conn.base.options;return s&&"strictQuery"in s?s.strictQuery:r.strictQuery}});var JB=y((mhe,QB)=>{"use strict";var _te=bn(),$u=class extends _te{},J0=Yn();Object.defineProperty($u.prototype,"min",J0);Object.defineProperty($u.prototype,"max",J0);Object.defineProperty($u.prototype,"enum",J0);Object.defineProperty($u.prototype,"populate",J0);QB.exports=$u});var X0=y((yhe,ZB)=>{"use strict";var Ate=Nr();function Ote(t){let e=this;return Array.isArray(t)?t.map(function(r){return XB(e.path,r)}):Buffer.isBuffer(t)?t:XB(e.path,t)}function XB(t,e){let r=Number(e);if(isNaN(r))throw new Ate("number",e,t);return r}ZB.exports=Ote});var C_=y((ghe,eP)=>{"use strict";var tm=Je(),Cte=JB(),vi=Jt(),Ste=Nl(),Z0=X0(),A_=ae(),O_=vi.CastError;function mt(t,e){vi.call(this,t,e,"Number")}mt.get=vi.get;mt.set=vi.set;mt.setters=[];mt._cast=Ste;mt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};mt._defaultCaster=t=>{if(typeof t!="number")throw new Error;return t};mt.schemaName="Number";mt.defaultOptions={};mt.prototype=Object.create(vi.prototype);mt.prototype.constructor=mt;mt.prototype.OptionsConstructor=Cte;mt._checkRequired=t=>typeof t=="number"||t instanceof Number;mt.checkRequired=vi.checkRequired;mt.prototype.checkRequired=function(e,r){return typeof e=="object"&&vi._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():mt.checkRequired())(e)};mt.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t!=null){let r=e||tm.messages.Number.min;r=r.replace(/{MIN}/,t),this.validators.push({validator:this.minValidator=function(n){return n==null||n>=t},message:r,type:"min",min:t})}return this};mt.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t!=null){let r=e||tm.messages.Number.max;r=r.replace(/{MAX}/,t),this.validators.push({validator:this.maxValidator=function(n){return n==null||n<=t},message:r,type:"max",max:t})}return this};mt.prototype.enum=function(t,e){return this.enumValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.enumValidator},this)),Array.isArray(t)||(A_.isPOJO(t)&&t.values!=null?(e=t.message,t=t.values):typeof t=="number"&&(t=Array.prototype.slice.call(arguments),e=null),A_.isPOJO(t)&&(t=Object.values(t)),e=e||tm.messages.Number.enum),e=e??tm.messages.Number.enum,this.enumValidator=r=>r==null||t.indexOf(r)!==-1,this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:t}),this};mt.prototype.cast=function(t,e,r){if(typeof t!="number"&&vi._isRef(this,t,e,r)&&(t==null||A_.isNonBuiltinObject(t)))return this._castRef(t,e,r);let n=t&&typeof t._id<"u"?t._id:t,s;typeof this._castFunction=="function"?s=this._castFunction:typeof this.constructor.cast=="function"?s=this.constructor.cast():s=mt.cast();try{return s(n)}catch(i){throw new O_("Number",n,this.path,i,this)}};function em(t){return this.cast(t)}function wte(t){let e=this;return Array.isArray(t)?t.map(function(r){return e.cast(r)}):[this.cast(t)]}mt.prototype.$conditionalHandlers={...vi.prototype.$conditionalHandlers,$bitsAllClear:Z0,$bitsAnyClear:Z0,$bitsAllSet:Z0,$bitsAnySet:Z0,$gt:em,$gte:em,$lt:em,$lte:em,$mod:wte};mt.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new O_("number",e,this.path,null,this);return n.call(this,e,r)}try{e=this.applySetters(e,r)}catch(s){throw s instanceof O_&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}return e};eP.exports=mt});var Rl=y(S_=>{"use strict";var bte=C_();S_.castToNumber=tP;S_.castArraysOfNumbers=rP;function tP(t){return bte.cast()(t)}function rP(t,e){t.forEach(function(r,n){Array.isArray(r)?rP(r,e):t[n]=tP.call(e,r)})}});var D_=y(rm=>{"use strict";var nP=Rl().castArraysOfNumbers,xl=Rl().castToNumber;rm.cast$geoIntersects=Mte;rm.cast$near=Dte;rm.cast$within=Tte;function Dte(t){let e=nm();if(Array.isArray(t))return nP(t,this),t;if(b_(this,t),t&&t.$geometry)return w_(t,this);if(!Array.isArray(t))throw new TypeError("$near must be either an array or an object with a $geometry property");return e.prototype.castForQuery.call(this,null,t)}function w_(t,e){switch(t.$geometry.type){case"Polygon":case"LineString":case"Point":nP(t.$geometry.coordinates,e);break;default:break}return b_(e,t),t}function Tte(t){if(b_(this,t),t.$box||t.$polygon){let e=t.$box?"$box":"$polygon";t[e].forEach(r=>{if(!Array.isArray(r)){let n="Invalid $within $box argument. Expected an array, received "+r;throw new TypeError(n)}r.forEach((n,s)=>{r[s]=xl.call(this,n)})})}else if(t.$center||t.$centerSphere){let e=t.$center?"$center":"$centerSphere";t[e].forEach((r,n)=>{Array.isArray(r)?r.forEach((s,i)=>{r[i]=xl.call(this,s)}):t[e][n]=xl.call(this,r)})}else t.$geometry&&w_(t,this);return t}function Mte(t){if(t.$geometry)return w_(t,this),t}function b_(t,e){e.$maxDistance&&(e.$maxDistance=xl.call(t,e.$maxDistance)),e.$minDistance&&(e.$minDistance=xl.call(t,e.$minDistance))}});var nm=y((Ahe,iP)=>{"use strict";var Bte=h0(),Pte=a4(),Fte=ut(),Nte=FB(),Jn=Jt(),im=Jn.CastError,om=Tu(),$te=$B(),kl=$c(),Ite=_t(),Rte=Q0(),um=require("util"),Iu=ae(),xte=Rl().castToNumber,T_=D_(),vte=Ps(),vl,sm,sP=Symbol("mongoose#isNestedArray"),kte=Object.freeze({});function qe(t,e,r,n){sm||(sm=Pc().Embedded);let s="type";if(n&&n.typeKey&&(s=n.typeKey),this.schemaOptions=n,e){let u={};Iu.isPOJO(e)&&(e[s]?(u=Ite(e),delete u[s],e=e[s]):e=om),r!=null&&r.ref!=null&&u.ref==null&&(u.ref=r.ref),e===Object&&(e=om);let a=typeof e=="string"?e:Iu.getFunctionName(e),c=Il(),l=c.hasOwnProperty(a)?c[a]:e;if(this.casterConstructor=l,this.casterConstructor instanceof qe&&(this.casterConstructor[sP]=!0),typeof l=="function"&&!l.$isArraySubdocument&&!l.$isSchemaMap){let f=this.caster instanceof sm?null:t;this.caster=new l(f,u)}else this.caster=l,this.caster instanceof sm||(this.caster.path=t);this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,Jn.call(this,t,r,"Array");let i,o;if(this.defaultValue!=null&&(i=this.defaultValue,o=typeof i=="function"),!("defaultValue"in this)||this.defaultValue!==void 0){let u=function(){return o?i.call(this):i!=null?[].concat(i):[]};u.$runBeforeSetters=!o,this.default(u)}}qe.schemaName="Array";qe.options={castNonArrays:!0};qe.defaultOptions={};qe.set=Jn.set;qe.setters=[];qe.get=Jn.get;qe.prototype=Object.create(Jn.prototype);qe.prototype.constructor=qe;qe.prototype.OptionsConstructor=Nte;qe._checkRequired=Jn.prototype.checkRequired;qe.checkRequired=Jn.checkRequired;qe.prototype.checkRequired=function(e,r){return typeof e=="object"&&Jn._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():qe.checkRequired())(e)};qe.prototype.enum=function(){let t=this;for(;;){let r=t&&t.caster&&t.caster.instance;if(r==="Array"){t=t.caster;continue}if(r!=="String"&&r!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+r);break}let e=arguments;return!Array.isArray(arguments)&&Iu.isObject(arguments)&&(e=Iu.object.vals(e)),t.caster.enum.apply(t.caster,e),this};qe.prototype.applyGetters=function(t,e){return e!=null&&e.$__!=null&&e.$populated(this.path)?t:Jn.prototype.applyGetters.call(this,t,e)};qe.prototype._applySetters=function(t,e,r,n){if(this.casterConstructor.$isMongooseArray&&qe.options.castNonArrays&&!this[sP]){let s=0,i=this;for(;i!=null&&i.$isMongooseArray&&!i.$isMongooseDocumentArray;)++s,i=i.casterConstructor;if(t!=null&&t.length!==0){let o=$te(t);if(o.min===o.max&&o.max<s&&o.containsNonArrayItem)for(let u=o.max;u<s;++u)t=[t]}}return Jn.prototype._applySetters.call(this,t,e,r,n)};qe.prototype.cast=function(t,e,r,n,s){vl||(vl=Pc().Array);let i,o;if(Array.isArray(t)){if(!t.length&&e){let d=e.schema.indexedPaths(),p=this.path;for(i=0,o=d.length;i<o;++i){let g=d[i][0][p];if(g==="2dsphere"||g==="2d")return}let m=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(m!=null){for(i=0,o=d.length;i<o;++i)if(d[i][0][m]==="2dsphere")return}}s=s||kte;let c=Iu.isMongooseArray(t)?t.__array:t,l=s.path||this.path;if(s.arrayPathIndex!=null&&(l+="."+s.arrayPathIndex),t=vl(c,l,e,this),c=t.__array,r&&e!=null&&e.$__!=null&&e.$populated(this.path))return t;let f=this.caster,h=f.$isMongooseArray;if(f&&this.casterConstructor!==om)try{let d=c.length;for(i=0;i<d;i++){let p={};h&&(s.arrayPath!=null||f._arrayParentPath!=null)&&(p.arrayPathIndex=i),c[i]=f.applySetters(c[i],e,r,void 0,p)}}catch(d){throw new im("["+d.kind+"]",um.inspect(t),this.path+"."+i,d,this)}return t}let u=this.options.castNonArrays!=null?this.options.castNonArrays:qe.options.castNonArrays;if(r||u)return e&&r&&e.markModified(this.path),this.cast([t],e,r);throw new im("Array",um.inspect(t),this.path,null,this)};qe.prototype._castForPopulate=function(e,r){if(vl||(vl=Pc().Array),Array.isArray(e)){let n,s=e.__array?e.__array:e,i=s.length,o=this.caster;if(o&&this.casterConstructor!==om)try{for(n=0;n<i;n++){let u={};o.$isMongooseArray&&o._arrayParentPath!=null&&(u.arrayPathIndex=n),s[n]=o.cast(s[n],r,!1,void 0,u)}}catch(u){throw new im("["+u.kind+"]",um.inspect(e),this.path+"."+n,u,this)}return e}throw new im("Array",um.inspect(e),this.path,null,this)};qe.prototype.$toObject=qe.prototype.toObject;qe.prototype.discriminator=function(...t){let e=this;for(;e.$isMongooseArray&&!e.$isMongooseDocumentArray;)if(e=e.casterConstructor,e==null||typeof e=="function")throw new Fte("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return e.discriminator(...t)};qe.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.caster,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e};qe.prototype._castForQuery=function(t,e){let r=this.casterConstructor;if(t&&r.discriminators&&r.schema&&r.schema.options&&r.schema.options.discriminatorKey)if(typeof t[r.schema.options.discriminatorKey]=="string"&&r.discriminators[t[r.schema.options.discriminatorKey]])r=r.discriminators[t[r.schema.options.discriminatorKey]];else{let a=vte(r.discriminators,t[r.schema.options.discriminatorKey]);a&&(r=a)}let n=this.casterConstructor.prototype,s=n&&n.castForQuery,i=n&&n.cast,o=r.castForQuery,u=this.caster;return Array.isArray(t)?(this.setters.reverse().forEach(a=>{t=a.call(this,t,this)}),t=t.map(function(a){return Iu.isObject(a)&&a.$elemMatch?a:s?(a=s.call(u,null,a,e),a):i?(a=i.call(u,a),a):o?(a=o.call(u,null,a,e),a):(a!=null&&(a=new r(a)),a)})):s?t=s.call(u,null,t,e):i?t=i.call(u,t):o?t=o.call(u,null,t,e):t!=null&&(t=new r(t)),t};qe.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with Array.");return n.call(this,e,r)}else return this._castForQuery(e,r)};function qte(t,e){return Array.isArray(t)||(t=[t]),t=t.map(r=>{if(!Iu.isObject(r))return r;if(r.$elemMatch!=null)return{$elemMatch:kl(this.casterConstructor.schema,r.$elemMatch,null,this&&this.$$context)};let n={};return n[this.path]=r,kl(this.casterConstructor.schema,n,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,t,e)}function Lte(t,e){let r=Object.keys(t),n=r.length;for(let u=0;u<n;++u){let a=r[u],c=t[a];Rte(a)&&c!=null&&(t[a]=this.castForQuery(a,c,e))}let s=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,i=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(s!=null&&t[s]!=null&&i[t[s]]!=null)return kl(i[t[s]],t,null,this&&this.$$context);let o=this.casterConstructor.schema??e.schema;return kl(o,t,null,this&&this.$$context)}var it=qe.prototype.$conditionalHandlers={};it.$all=qte;it.$options=String;it.$elemMatch=Lte;it.$geoIntersects=T_.cast$geoIntersects;it.$or=M_("$or");it.$and=M_("$and");it.$nor=M_("$nor");function M_(t){return function(r,n){if(!Array.isArray(r))throw new TypeError("conditional "+t+" requires an array");let s=[];for(let i of r)s.push(kl(this.casterConstructor.schema??n.schema,i,null,this&&this.$$context));return s}}it.$near=it.$nearSphere=T_.cast$near;it.$within=it.$geoWithin=T_.cast$within;it.$size=it.$minDistance=it.$maxDistance=xte;it.$exists=Bte;it.$type=Pte;it.$eq=it.$gt=it.$gte=it.$lt=it.$lte=it.$not=it.$regex=it.$ne=qe.prototype._castForQuery;it.$nin=Jn.prototype.$conditionalHandlers.$nin;it.$in=Jn.prototype.$conditionalHandlers.$in;iP.exports=qe});var uP=y((Ohe,oP)=>{"use strict";var jte=require("assert"),{Long:Ute}=is();oP.exports=function(e){if(e==null)return e;if(e==="")return null;if(typeof e=="bigint")return e;if(e instanceof Ute)return e.toBigInt();if(typeof e=="string"||typeof e=="number")return BigInt(e);jte.ok(!1)}});var lP=y((Che,cP)=>{"use strict";var aP=Nr(),Ic=Jt(),Vte=uP();function Mt(t,e){Ic.call(this,t,e,"BigInt")}Mt.schemaName="BigInt";Mt.defaultOptions={};Mt.prototype=Object.create(Ic.prototype);Mt.prototype.constructor=Mt;Mt._cast=Vte;Mt.set=Ic.set;Mt.setters=[];Mt.get=Ic.get;Mt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Mt._checkRequired=t=>t!=null;Mt.checkRequired=Ic.checkRequired;Mt.prototype.checkRequired=function(t){return this.constructor._checkRequired(t)};Mt.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=Mt.cast();try{return e(t)}catch(r){throw new aP("BigInt",t,this.path,r,this)}};Mt.$conditionalHandlers={...Ic.prototype.$conditionalHandlers,$gt:am,$gte:am,$lt:am,$lte:am};function am(t,e){return this.castForQuery(null,t,e)}Mt.prototype.castForQuery=function(t,e,r){let n;if(t!=null)return n=Mt.$conditionalHandlers[t],n?n.call(this,e):this.applySetters(null,e,r);try{return this.applySetters(e,r)}catch(s){throw s instanceof aP&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}};Mt.prototype._castNullish=function(e){return typeof e>"u"||(typeof this.constructor.cast=="function"?this.constructor.cast():Mt.cast())==null,e};cP.exports=Mt});var dP=y((She,hP)=>{"use strict";var fP=Nr(),Rc=Jt(),ql=f0();function yt(t,e){Rc.call(this,t,e,"Boolean")}yt.schemaName="Boolean";yt.defaultOptions={};yt.prototype=Object.create(Rc.prototype);yt.prototype.constructor=yt;yt._cast=ql;yt.set=Rc.set;yt.setters=[];yt.get=Rc.get;yt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};yt._defaultCaster=t=>{if(t!=null&&typeof t!="boolean")throw new Error;return t};yt._checkRequired=t=>t===!0||t===!1;yt.checkRequired=Rc.checkRequired;yt.prototype.checkRequired=function(t){return this.constructor._checkRequired(t)};Object.defineProperty(yt,"convertToTrue",{get:()=>ql.convertToTrue,set:t=>{ql.convertToTrue=t}});Object.defineProperty(yt,"convertToFalse",{get:()=>ql.convertToFalse,set:t=>{ql.convertToFalse=t}});yt.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=yt.cast();try{return e(t)}catch(r){throw new fP("Boolean",t,this.path,r,this)}};yt.$conditionalHandlers={...Rc.prototype.$conditionalHandlers};yt.prototype.castForQuery=function(t,e,r){let n;if(t!=null)return n=yt.$conditionalHandlers[t],n?n.call(this,e):this.applySetters(null,e,r);try{return this.applySetters(e,r)}catch(s){throw s instanceof fP&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}};yt.prototype._castNullish=function(e){if(typeof e>"u")return e;let r=typeof this.constructor.cast=="function"?this.constructor.cast():yt.cast();return r==null?e:r.convertToFalse instanceof Set&&r.convertToFalse.has(e)?!1:r.convertToTrue instanceof Set&&r.convertToTrue.has(e)?!0:e};hP.exports=yt});var mP=y((whe,pP)=>{"use strict";var zte=bn(),cm=class extends zte{},Wte=Yn();Object.defineProperty(cm.prototype,"subtype",Wte);pP.exports=cm});var EP=y((bhe,gP)=>{"use strict";var xc=Fl(),Gte=mP(),ki=Jt(),lm=X0(),Hte=ae(),yP=xc.Binary,hm=ki.CastError;function ar(t,e){ki.call(this,t,e,"Buffer")}ar.schemaName="Buffer";ar.defaultOptions={};ar.prototype=Object.create(ki.prototype);ar.prototype.constructor=ar;ar.prototype.OptionsConstructor=Gte;ar._checkRequired=t=>!!(t&&t.length);ar.set=ki.set;ar.setters=[];ar.get=ki.get;ar.checkRequired=ki.checkRequired;ar.prototype.checkRequired=function(t,e){return ki._isRef(this,t,e,!0)?!!t:this.constructor._checkRequired(t)};ar.prototype.cast=function(t,e,r){let n;if(ki._isRef(this,t,e,r)){if(t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new xc(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof yP){if(n=new xc(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new hm("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t==null||Hte.isNonBuiltinObject(t))return this._castRef(t,e,r)}if(t&&t._id&&(t=t._id),t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new xc(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof yP){if(n=new xc(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new hm("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t===null)return t;let s=typeof t;if(s==="string"||s==="number"||Array.isArray(t)||s==="object"&&t.type==="Buffer"&&Array.isArray(t.data))return s==="number"&&(t=[t]),n=new xc(t,[this.path,e]),this.options.subtype!=null&&(n._subtype=this.options.subtype),n;throw new hm("Buffer",t,this.path,null,this)};ar.prototype.subtype=function(t){return this.options.subtype=t,this};function fm(t,e){return this.castForQuery(null,t,e)}ar.prototype.$conditionalHandlers={...ki.prototype.$conditionalHandlers,$bitsAllClear:lm,$bitsAnyClear:lm,$bitsAllSet:lm,$bitsAnySet:lm,$gt:fm,$gte:fm,$lt:fm,$lte:fm};ar.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with Buffer.");return n.call(this,e)}let s;try{s=this.applySetters(e,r)}catch(i){throw i instanceof hm&&i.path===this.path&&this.$fullPath!=null&&(i.path=this.$fullPath),i}return s&&s.toObject({transform:!1,virtuals:!1})};gP.exports=ar});var AP=y((Dhe,_P)=>{"use strict";var Kte=bn(),vc=class extends Kte{},B_=Yn();Object.defineProperty(vc.prototype,"min",B_);Object.defineProperty(vc.prototype,"max",B_);Object.defineProperty(vc.prototype,"expires",B_);_P.exports=vc});var CP=y((The,OP)=>{"use strict";var P_=require("assert");OP.exports=function(e){if(e==null||e==="")return null;if(e instanceof Date)return P_.ok(!isNaN(e.valueOf())),e;let r;if(P_.ok(typeof e!="boolean"),e instanceof Number||typeof e=="number"?r=new Date(e):typeof e=="string"&&!isNaN(Number(e))&&(Number(e)>=275761||Number(e)<-271820)?r=new Date(Number(e)):typeof e.valueOf=="function"?r=new Date(e.valueOf()):r=new Date(e),!isNaN(r.valueOf()))return r;P_.ok(!1)}});var DP=y((Mhe,bP)=>{"use strict";var SP=Je(),Yte=AP(),Bo=Jt(),Qte=CP(),Jte=Jr(),Xte=ae(),wP=Bo.CastError;function gt(t,e){Bo.call(this,t,e,"Date")}gt.schemaName="Date";gt.defaultOptions={};gt.prototype=Object.create(Bo.prototype);gt.prototype.constructor=gt;gt.prototype.OptionsConstructor=Yte;gt._cast=Qte;gt.set=Bo.set;gt.setters=[];gt.get=Bo.get;gt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};gt._defaultCaster=t=>{if(t!=null&&!(t instanceof Date))throw new Error;return t};gt.prototype.expires=function(t){return Jte(this._index)!=="Object"&&(this._index={}),this._index.expires=t,Xte.expires(this._index),this};gt._checkRequired=t=>t instanceof Date;gt.checkRequired=Bo.checkRequired;gt.prototype.checkRequired=function(t,e){return typeof t=="object"&&Bo._isRef(this,t,e,!0)?t!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():gt.checkRequired())(t)};gt.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t){let r=e||SP.messages.Date.min;typeof r=="string"&&(r=r.replace(/{MIN}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.minValidator=function(s){let i=t;typeof t=="function"&&t!==Date.now&&(i=i.call(this));let o=i===Date.now?i():n.cast(i);return s===null||s.valueOf()>=o.valueOf()},message:r,type:"min",min:t})}return this};gt.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t){let r=e||SP.messages.Date.max;typeof r=="string"&&(r=r.replace(/{MAX}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.maxValidator=function(s){let i=t;typeof i=="function"&&i!==Date.now&&(i=i.call(this));let o=i===Date.now?i():n.cast(i);return s===null||s.valueOf()<=o.valueOf()},message:r,type:"max",max:t})}return this};gt.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=gt.cast();try{return e(t)}catch(r){throw new wP("date",t,this.path,r,this)}};function dm(t){return this.cast(t)}gt.prototype.$conditionalHandlers={...Bo.prototype.$conditionalHandlers,$gt:dm,$gte:dm,$lt:dm,$lte:dm};gt.prototype.castForQuery=function(t,e,r){if(t==null)try{return this.applySetters(e,r)}catch(s){throw s instanceof wP&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}let n=this.$conditionalHandlers[t];if(!n)throw new Error("Can't use "+t+" with Date.");return n.call(this,e)};bP.exports=gt});var MP=y((Bhe,TP)=>{"use strict";var Ru=Yp(),Zte=require("assert");TP.exports=function(e){if(e==null)return e;if(typeof e=="object"&&typeof e.$numberDecimal=="string")return Ru.fromString(e.$numberDecimal);if(e instanceof Ru)return e;if(typeof e=="string")return Ru.fromString(e);if(typeof Buffer=="function"&&Buffer.isBuffer(e))return new Ru(e);if(typeof Uint8Array=="function"&&e instanceof Uint8Array)return new Ru(e);if(typeof e=="number")return Ru.fromString(String(e));if(typeof e.valueOf=="function"&&typeof e.valueOf()=="string")return Ru.fromString(e.valueOf());Zte.ok(!1)}});var PP=y((Phe,BP)=>{"use strict";var qi=Jt(),ere=qi.CastError,tre=MP(),F_=Xr();function zt(t,e){qi.call(this,t,e,"Decimal128")}zt.schemaName="Decimal128";zt.defaultOptions={};zt.prototype=Object.create(qi.prototype);zt.prototype.constructor=zt;zt._cast=tre;zt.set=qi.set;zt.setters=[];zt.get=qi.get;zt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};zt._defaultCaster=t=>{if(t!=null&&!F_(t,"Decimal128"))throw new Error;return t};zt._checkRequired=t=>F_(t,"Decimal128");zt.checkRequired=qi.checkRequired;zt.prototype.checkRequired=function(e,r){return qi._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():zt.checkRequired())(e)};zt.prototype.cast=function(t,e,r){if(qi._isRef(this,t,e,r))return F_(t,"Decimal128")?t:this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=zt.cast();try{return n(t)}catch(s){throw new ere("Decimal128",t,this.path,s,this)}};function pm(t){return this.cast(t)}zt.prototype.$conditionalHandlers={...qi.prototype.$conditionalHandlers,$gt:pm,$gte:pm,$lt:pm,$lte:pm};BP.exports=zt});var NP=y((Fhe,FP)=>{"use strict";var rre=bn(),mm=class extends rre{},nre=Yn();Object.defineProperty(mm.prototype,"_id",nre);FP.exports=mm});var N_=y((Nhe,$P)=>{"use strict";$P.exports=function(e,r,n){if(e.length===0)return n();let s=e.length,i=null;for(let o of e)r(o,function(u){if(i==null){if(u!=null)return i=u,n(i);if(--s<=0)return n()}})}});var xP=y(($he,RP)=>{"use strict";var IP=N_();RP.exports=function(e){e.s.hooks.pre("save",!1,function(s){if(this.$isSubdocument){s();return}let i=this,o=this.$getAllSubdocs();if(!o.length){s();return}IP(o,function(u,a){u.$__schema.s.hooks.execPre("save",u,function(c){a(c)})},function(u){if(u)return i.$__schema.s.hooks.execPost("save:error",i,[i],{error:u},function(a){s(a)});s()})},null,!0),e.s.hooks.post("save",function(s,i){if(this.$isSubdocument){i();return}let o=this,u=this.$getAllSubdocs();if(!u.length){i();return}IP(u,function(a,c){a.$__schema.s.hooks.execPost("save",a,[a],function(l){c(l)})},function(a){if(a)return o.$__schema.s.hooks.execPost("save:error",o,[o],{error:a},function(c){i(c)});i()})},null,!0)}});var qP=y((Ihe,I_)=>{"use strict";var sre=ee().objectIdSymbol,vP=ae();I_.exports=function(e){e.post("init",function(){return $_.call(this),this}),e.pre("save",function(n){kP.call(this),n()}),e.pre("remove",function(n){kP.call(this),n()}),e.post("save",function(){$_.call(this)})};function kP(){let t,e;if(this.$__.shardval){t=Object.keys(this.$__.shardval),e=t.length,this.$where=this.$where||{};for(let r=0;r<e;++r)this.$where[t[r]]=this.$__.shardval[t[r]]}}I_.exports.storeShard=$_;function $_(){let t=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!vP.isPOJO(t))return;let e=this.$__.shardval={},r=Object.keys(t),n=r.length,s;for(let i=0;i<n;++i)s=this.$__getValue(r[i]),s==null?e[r[i]]=s:vP.isMongooseObject(s)?e[r[i]]=s.toObject({depopulate:!0,_isNested:!0}):s instanceof Date||s[sre]?e[r[i]]=s:typeof s.valueOf=="function"?e[r[i]]=s.valueOf():e[r[i]]=s}});var VP=y((Rhe,UP)=>{"use strict";var kc=ee().arrayAtomicsSymbol,ym=ee().sessionNewDocuments,ire=ae();UP.exports=function(e){e.pre("save",function(){let n=this.$session();if(n!=null&&!(n.transaction==null||n[ym]==null))if(n[ym].has(this)){let s=n[ym].get(this);for(let i of Object.keys(this.$__.activePaths.getStatePaths("modify")))s.modifiedPaths.add(i);s.atomics=LP(this,s.atomics)}else{let s={};this.isNew&&(s.isNew=!0),this.$__schema.options.versionKey&&(s.versionKey=this.get(this.$__schema.options.versionKey)),s.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),s.atomics=LP(this),n[ym].set(this,s)}})};function LP(t,e){let r=new Map;e=e||new Map;let n=Object.keys(t.$__.activePaths.init).concat(Object.keys(t.$__.activePaths.modify));for(let i of n){let o=t.$__getValue(i);if(o!=null&&Array.isArray(o)&&ire.isMongooseDocumentArray(o)&&o.length&&o[kc]!=null&&Object.keys(o[kc]).length!==0){let u=e.get(i)||{};r.set(i,jP(u,o[kc]))}}let s=t.$__dirty();for(let i of s){let o=i.path,u=i.value;if(u!=null&&u[kc]!=null&&Object.keys(u[kc]).length!==0){let a=e.get(o)||{};r.set(o,jP(a,u[kc]))}}return r}function jP(t,e){return t=t||{},e.$pullAll!=null&&(t.$pullAll=(t.$pullAll||[]).concat(e.$pullAll)),e.$push!=null&&(t.$push=t.$push||{},t.$push.$each=(t.$push.$each||[]).concat(e.$push.$each)),e.$addToSet!=null&&(t.$addToSet=(t.$addToSet||[]).concat(e.$addToSet)),e.$set!=null&&(t.$set=Array.isArray(e.$set)?[...e.$set]:Object.assign({},e.$set)),t}});var WP=y((xhe,zP)=>{"use strict";zP.exports=function(e){e.pre("save",!1,function(s,i){let o=this;if(this.$isSubdocument)return s();let u=i&&typeof i=="object"&&"validateBeforeSave"in i,a;if(u?a=!!i.validateBeforeSave:a=this.$__schema.options.validateBeforeSave,a){let l=i&&typeof i=="object"&&"validateModifiedOnly"in i?{validateModifiedOnly:i.validateModifiedOnly}:null;this.$validate(l).then(()=>{this.$op="save",s()},f=>{o.$__schema.s.hooks.execPost("save:error",o,[o],{error:f},function(h){o.$op="save",s(h)})})}else s()},null,!0)}});var R_=y(Ll=>{"use strict";Ll.saveSubdocs=xP();Ll.sharding=qP();Ll.trackTransaction=VP();Ll.validateBeforeSave=WP()});var KP=y((khe,HP)=>{"use strict";var GP=R_();HP.exports=function(e){for(let r of Object.values(GP))r(e,{deduplicate:!0});e.plugins=Object.values(GP).map(r=>({fn:r,opts:{deduplicate:!0}})).concat(e.plugins)}});var JP=y((qhe,QP)=>{"use strict";var ore=m0(),ure=Su(),are=Xr(),cre=Fi(),YP=Co();QP.exports=function t(e,r,n,s){let i=Object.keys(r),o=0,u=i.length,a;if(n=n||"",s=s||new WeakSet,!s.has(r)){for(s.add(r);o<u;)if(a=i[o++],!(!n&&(a==="discriminators"||a==="base"||a==="_applyDiscriminators"||a==="_userProvidedOptions"||a==="options"||a==="tree"))&&!(n==="tree"&&r!=null&&r.instanceOfSchema)&&!ure.has(a)){if(e[a]==null)e[a]=r[a];else if(YP(r[a])){if(YP(e[a])||(e[a]={}),r[a]!=null){if(r[a].$isSingleNested&&e[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&e[a].$isSingleNested||r[a].$isMongooseDocumentArrayElement&&e[a].$isMongooseDocumentArrayElement)continue;if(r[a].instanceOfSchema){e[a].instanceOfSchema?ore(e[a],r[a].clone(),!0):e[a]=r[a].clone();continue}else if(are(r[a],"ObjectId")){e[a]=new cre(r[a]);continue}}t(e[a],r[a],n?n+"."+a:a,s)}}r!=null&&r.instanceOfSchema&&(e.tree=Object.assign({},r.tree,e.tree))}}});var gm=y((Lhe,eF)=>{"use strict";var XP=Tu(),lre=KP(),fre=_t(),hre=S0().defineKey,dre=pt(),x_=ae(),pre=JP(),ZP={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};eF.exports=function(e,r,n,s,i,o,u){if(!(n&&n.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(o=o??!0,e.schema.discriminatorMapping&&!e.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+r+'" can only be a discriminator of the root model');if(i){let h=dre(e.base,"options.applyPluginsToDiscriminators",!1)||!o;e.base._applyPlugins(n,{skipTopLevel:!h})}else o||lre(n);let a=e.schema.options.discriminatorKey,c=e.schema.path(a);if(c!=null)x_.hasUserDefinedProperty(c.options,"select")||(c.options.select=!0),c.options.$skipDiscriminatorCheck=!0;else{let h={};h[a]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},h[a][e.schema.options.typeKey]=String,e.schema.add(h),hre({prop:a,prototype:e.prototype,options:e.schema.options})}if(n.path(a)&&n.path(a).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+r+'" cannot have field with name "'+a+'"');let l=r;(typeof s=="string"&&s.length||s!=null)&&(l=s);function f(h,d){h._baseSchema=d,d.paths._id&&d.paths._id.options&&!d.paths._id.options.auto&&h.remove("_id");let p=Object.keys(d.paths),m=[];for(let T of p){if(h.nested[T]){m.push(T);continue}if(T.indexOf(".")===-1)continue;let V=T.split(".").slice(0,-1),z="";for(let R of V)z+=(z.length?".":"")+R,(h.paths[z]instanceof XP||h.singleNestedPaths[z]instanceof XP)&&m.push(T)}pre(h,d);for(let T of m)delete h.paths[T];h.childSchemas.forEach(T=>{T.model.prototype.$__setSchema(T.schema)});let g={};g[a]={default:l,select:!0,set:function(T){if(T===l||Array.isArray(l)&&x_.deepEqual(T,l))return l;throw new Error(`Can't set discriminator key "`+a+'"')},$skipDiscriminatorCheck:!0},g[a][h.options.typeKey]=c?c.options[h.options.typeKey]:String,h.add(g),h.discriminatorMapping={key:a,value:l,isRoot:!1},d.options.collection&&(h.options.collection=d.options.collection);let E=h.options.toJSON,_=h.options.toObject,A=h.options._id,C=h.options.id,x=Object.keys(h.options);h.options.discriminatorKey=d.options.discriminatorKey;let F=h._userProvidedOptions;for(let T of x)if(!ZP[T]&&T in F&&!x_.deepEqual(h.options[T],d.options[T]))throw new Error("Can't customize discriminator option "+T+" (can only modify "+Object.keys(ZP).join(", ")+")");h.options=fre(d.options);for(let T of Object.keys(F))h.options[T]=F[T];E&&(h.options.toJSON=E),_&&(h.options.toObject=_),typeof A<"u"&&(h.options._id=A),h.options.id=C,o&&(h.s.hooks=e.schema.s.hooks.merge(h.s.hooks)),i&&(h.plugins=Array.prototype.slice.call(d.plugins)),h.callQueue=d.callQueue.concat(h.callQueue),delete h._requiredpaths}if(f(n,e.schema),e.discriminators||(e.discriminators={}),e.schema.discriminatorMapping||(e.schema.discriminatorMapping={key:a,value:null,isRoot:!0}),e.schema.discriminators||(e.schema.discriminators={}),e.schema.discriminators[r]=n,e.discriminators[r]&&!n.options.overwriteModels&&!u)throw new Error('Discriminator with name "'+r+'" already exists');return n}});var Em=y((jhe,tF)=>{"use strict";var mre=Ps();tF.exports=function(e,r,n){let s=e.schema.options.discriminatorKey,i=r!=null&&r[s];if(i==null&&(i=n),e.discriminators&&i!=null)if(e.discriminators[i])e=e.discriminators[i];else{let o=mre(e.discriminators,i);o&&(e=o)}return e}});var v_=y((Uhe,rF)=>{"use strict";var yre=t_();rF.exports=function(e,r){return r==null||r._id==null||(e=e.clone(),r._id?e.paths._id||(yre(e),e.options._id=!0):(e.remove("_id"),e.options._id=!1)),e}});var k_=y((Vhe,nF)=>{"use strict";var gre=Je(),_m=class extends gre{constructor(e,r){let n=`Cannot create use schema for property "${e}" because the schema has the ${r} option enabled.`;super(n)}};Object.defineProperty(_m.prototype,"name",{value:"InvalidSchemaOptionError"});nF.exports=_m});var U_=y((zhe,uF)=>{"use strict";var sF=Nr(),q_=require("events").EventEmitter,Ere=f4(),_re=NP(),qc=Jt(),Are=O0(),Ore=h0(),iF=Rl().castToNumber,Cre=gm(),L_=D_(),j_=Em(),Sre=v_(),wre=bs().internalToObjectOptions,bre=bc(),Dre=ae(),Tre=k_(),Am;uF.exports=tt;function tt(t,e,r){if(t.options.timeseries)throw new Tre(e,"timeseries");let n=tt.defaultOptions&&tt.defaultOptions._id;n!=null&&(r=r||{},r._id=n),t=Sre(t,r),this.caster=oF(t,null,r),this.caster.path=e,this.caster.prototype.$basePath=e,this.schema=t,this.$isSingleNested=!0,this.base=t.base,qc.call(this,e,r,"Embedded")}tt.prototype=Object.create(qc.prototype);tt.prototype.constructor=tt;tt.prototype.OptionsConstructor=_re;function oF(t,e,r){Am||(Am=M0());let n=function(o,u,a){this.$__parent=a,Am.apply(this,arguments),a!=null&&this.$session(a.$session())};t._preCompile();let s=e!=null?e.prototype:Am.prototype;n.prototype=Object.create(s),n.prototype.$__setSchema(t),n.prototype.constructor=n,n.$__required=r?.required,n.base=t.base,n.schema=t,n.$isSingleNested=!0,n.events=new q_,n.prototype.toBSON=function(){return this.toObject(wre)};for(let i in t.methods)n.prototype[i]=t.methods[i];for(let i in t.statics)n[i]=t.statics[i];for(let i in q_.prototype)n[i]=q_.prototype[i];return n}tt.prototype.$conditionalHandlers.$geoWithin=function(e,r){return{$geometry:this.castForQuery(null,e.$geometry,r)}};tt.prototype.$conditionalHandlers.$near=tt.prototype.$conditionalHandlers.$nearSphere=L_.cast$near;tt.prototype.$conditionalHandlers.$within=tt.prototype.$conditionalHandlers.$geoWithin=L_.cast$within;tt.prototype.$conditionalHandlers.$geoIntersects=L_.cast$geoIntersects;tt.prototype.$conditionalHandlers.$minDistance=iF;tt.prototype.$conditionalHandlers.$maxDistance=iF;tt.prototype.$conditionalHandlers.$exists=Ore;tt.prototype.cast=function(t,e,r,n,s){if(t&&t.$isSingleNested&&t.parent===e)return t;if(t!=null&&(typeof t!="object"||Array.isArray(t)))throw new Ere(this.path,t);let i=this.schema.path(this.schema.options.discriminatorKey),o=i==null?null:i.getDefault(e),u=j_(this.caster,t,o),a,c=e&&e.$__&&e.$__.selected,l=this.path,f=c==null?null:Object.keys(c).reduce((h,d)=>(d.startsWith(l+".")&&(h=h||{},h[d.substring(l.length+1)]=c[d]),h),null);if(r){a=new u(void 0,f,e,!1,{defaults:!1}),delete a.$__.defaults,a.$init(t);let h=bre(f);Are(a,f,h)}else return s=Object.assign({},s,{priorDoc:n}),Object.keys(t).length===0?new u({},f,e,void 0,s):new u(t,f,e,void 0,s);return a};tt.prototype.castForQuery=function(t,e,r,n){let s;if(t!=null){if(s=this.$conditionalHandlers[t],!s)throw new Error("Can't use "+t);return s.call(this,e)}if(e==null)return e;let i=j_(this.caster,e);if(e instanceof i)return e;this.options.runSetters&&(e=this._applySetters(e,r));let o=n!=null&&n.strict!=null?n.strict:void 0;try{e=new i(e,o)}catch(u){throw u instanceof sF?u:new sF("Embedded",e,this.path,u,this)}return e};tt.prototype.doValidate=function(t,e,r,n){let s=j_(this.caster,t);if(t&&!(t instanceof s)&&(t=new s(t,null,r!=null&&r.$__!=null?r:null)),n&&n.skipSchemaValidators)return t?t.validate().then(()=>e(null),i=>e(i)):e(null);qc.prototype.doValidate.call(this,t,function(i){if(i)return e(i);if(!t)return e(null);t.validate().then(()=>e(null),o=>e(o))},r,n)};tt.prototype.doValidateSync=function(t,e,r){if(!r||!r.skipSchemaValidators){let n=qc.prototype.doValidateSync.call(this,t,e);if(n)return n}if(t)return t.validateSync()};tt.prototype.discriminator=function(t,e,r){r=r||{};let n=Dre.isPOJO(r)?r.value:r,s=typeof r.clone=="boolean"?r.clone:!0;return e.instanceOfSchema&&s&&(e=e.clone()),e=Cre(this.caster,t,e,n,null,null,r.overwriteExisting),this.caster.discriminators[t]=oF(e,this.caster),this.caster.discriminators[t]};tt.defaultOptions={};tt.set=qc.set;tt.setters=[];tt.get=qc.get;tt.prototype.toJSON=function(){return{path:this.path,options:this.options}};tt.prototype.clone=function(){let t=new this.constructor(this.schema,this.path,{...this.options,_skipApplyDiscriminators:!0});return t.validators=this.validators.slice(),this.requiredValidator!==void 0&&(t.requiredValidator=this.requiredValidator),t.caster.discriminators=Object.assign({},this.caster.discriminators),t}});var cF=y((Whe,aF)=>{"use strict";var Mre=ut(),V_=Jt(),Bre=U_(),Pre=Em();function Li(t,e){if(this.$parentSchemaType=e&&e.$parentSchemaType,!this.$parentSchemaType)throw new Mre("Cannot create DocumentArrayElement schematype without a parent");delete e.$parentSchemaType,V_.call(this,t,e,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}Li.schemaName="DocumentArrayElement";Li.defaultOptions={};Li.prototype=Object.create(V_.prototype);Li.prototype.constructor=Li;Li.prototype.cast=function(...t){return this.$parentSchemaType.cast(...t)[0]};Li.prototype.doValidate=function(t,e,r,n){let s=Pre(this.caster,t);return t&&!(t instanceof s)&&(t=new s(t,r,null,null,n&&n.index!=null?n.index:null)),Bre.prototype.doValidate.call(this,t,e,r,n)};Li.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;let t=V_.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,t.caster=this.caster,t.schema=this.schema,t};aF.exports=Li});var hF=y((Ghe,fF)=>{"use strict";var Fre=bn(),jl=class extends Fre{},lF=Yn();Object.defineProperty(jl.prototype,"excludeIndexes",lF);Object.defineProperty(jl.prototype,"_id",lF);fF.exports=jl});var AF=y((Hhe,_F)=>{"use strict";var dF=Nr(),Nre=cF(),z_=require("events").EventEmitter,gF=nm(),$re=hF(),Ul=Jt(),Ire=gm(),pF=v_(),Rre=b0(),Lc=ae(),Om=Em(),xre=k_(),mF=ee().arrayAtomicsSymbol,W_=ee().arrayPathSymbol,vre=ee().documentArrayParent,ji,xu;function Bt(t,e,r,n){if(e.options&&e.options.timeseries)throw new xre(t,"timeseries");let s=Bt.defaultOptions&&Bt.defaultOptions._id;s!=null&&(n=n||{},n._id=s),n!=null&&n._id!=null?e=pF(e,n):r!=null&&r._id!=null&&(e=pF(e,r));let i=EF(e,r);i.prototype.$basePath=t,gF.call(this,t,i,r),this.schema=e,this.schemaOptions=n||{},this.$isMongooseDocumentArray=!0,this.Constructor=i,i.base=e.base;let o=this.defaultValue;(!("defaultValue"in this)||o!==void 0)&&this.default(function(){let a=o.call(this);return a!=null&&!Array.isArray(a)&&(a=[a]),a});let u=this;this.$embeddedSchemaType=new Nre(t+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:u}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}Bt.schemaName="DocumentArray";Bt.options={castNonArrays:!0};Bt.prototype=Object.create(gF.prototype);Bt.prototype.constructor=Bt;Bt.prototype.OptionsConstructor=$re;function EF(t,e,r){xu||(xu=Dc());function n(){xu.apply(this,arguments),!(this.__parentArray==null||this.__parentArray.getArrayParent()==null)&&this.$session(this.__parentArray.getArrayParent().$session())}t._preCompile();let s=r!=null?r.prototype:xu.prototype;n.prototype=Object.create(s),n.prototype.$__setSchema(t),n.schema=t,n.prototype.constructor=n,n.$isArraySubdocument=!0,n.events=new z_,n.base=t.base;for(let i in t.methods)n.prototype[i]=t.methods[i];for(let i in t.statics)n[i]=t.statics[i];for(let i in z_.prototype)n[i]=z_.prototype[i];return n.options=e,n}Bt.prototype.discriminator=function(t,e,r){typeof t=="function"&&(t=Lc.getFunctionName(t)),r=r||{};let n=Lc.isPOJO(r)?r.value:r,s=typeof r.clone=="boolean"?r.clone:!0;e.instanceOfSchema&&s&&(e=e.clone()),e=Ire(this.casterConstructor,t,e,n,null,null,r?.overwriteExisting);let i=EF(e,null,this.casterConstructor);i.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(i,"name",{value:t})}catch{}return this.casterConstructor.discriminators[t]=i,this.casterConstructor.discriminators[t]};Bt.prototype.doValidate=function(t,e,r,n){ji||(ji=Bu());let s=this;try{Ul.prototype.doValidate.call(this,t,i,r)}catch(o){return e(o)}function i(o){if(o)return e(o);let u=t&&t.length,a;if(!u||n&&n.updateValidator)return e();Lc.isMongooseDocumentArray(t)||(t=new ji(t,s.path,r));function c(l){l!=null&&(a=l),--u||e(a)}for(let l=0,f=u;l<f;++l){let h=t[l];if(h==null){--u||e(a);continue}if(!(h instanceof xu)){let d=Om(s.casterConstructor,t[l]);h=t[l]=new d(h,t,void 0,void 0,l)}if(n!=null&&n.validateModifiedOnly&&!h.$isModified()){--u||e(a);continue}h.$__validate(null,n,c)}}};Bt.prototype.doValidateSync=function(t,e,r){let n=Ul.prototype.doValidateSync.call(this,t,e);if(n!=null)return n;let s=t&&t.length,i=null;if(s){for(let o=0,u=s;o<u;++o){let a=t[o];if(!a)continue;if(!(a instanceof xu)){let l=Om(this.casterConstructor,t[o]);a=t[o]=new l(a,t,void 0,void 0,o)}if(r!=null&&r.validateModifiedOnly&&!a.$isModified())continue;let c=a.validateSync(r);c&&i==null&&(i=c)}return i}};Bt.prototype.getDefault=function(t,e,r){let n=typeof this.defaultValue=="function"?this.defaultValue.call(t):this.defaultValue;if(n==null||r&&r.skipCast)return n;ji||(ji=Bu()),Array.isArray(n)||(n=[n]),n=new ji(n,this.path,t);for(let s=0;s<n.length;++s){let i=Om(this.casterConstructor,n[s]),o=new i({},n,void 0,void 0,s);o.$init(n[s]),o.isNew=!0,Object.assign(o.$__.activePaths.default,o.$__.activePaths.init),o.$__.activePaths.init={},n[s]=o}return n};var kre=Object.freeze({transform:!1,virtuals:!1}),yF=Object.freeze({skipId:!1,willInit:!0});Bt.prototype.cast=function(t,e,r,n,s){if(ji||(ji=Bu()),t!=null&&t[W_]!=null&&t===n)return t;let i,o;s=s||{};let u=s.path||this.path;if(!Array.isArray(t)){if(!r&&!Bt.options.castNonArrays)throw new dF("DocumentArray",t,this.path,null,this);return e&&r&&e.markModified(u),this.cast([t],e,r,n,s)}(!s.skipDocumentArrayCast||Lc.isMongooseDocumentArray(t))&&(t=new ji(t,u,e)),n!=null&&(t[mF]=n[mF]||{}),s.arrayPathIndex!=null&&(t[W_]=u+"."+s.arrayPathIndex);let a=Lc.isMongooseDocumentArray(t)?t.__array:t,c=a.length;for(let l=0;l<c;++l){if(!a[l])continue;let f=Om(this.casterConstructor,a[l]),h=Rre(a[l],!0);if(a[l]!==h&&(a[l]=h),a[l]instanceof xu){if(a[l][vre]!==e)if(r){let d=new f(null,t,yF,i,l);a[l]=d.$init(a[l])}else{let d=new f(a[l],t,void 0,void 0,l);a[l]=d}a[l].__index==null&&a[l].$setIndex(l)}else if(a[l]!=null)if(r)e?i||(i=qre(this,e.$__.selected,r)):i=!0,o=new f(null,t,yF,i,l),a[l]=o.$init(a[l]);else if(n&&typeof n.id=="function"&&(o=n.id(a[l]._id)),n&&o&&Lc.deepEqual(o.toObject(kre),a[l]))o.set(a[l]),a[l]=o;else try{o=new f(a[l],t,void 0,void 0,l),a[l]=o}catch(d){throw new dF("embedded",a[l],t[W_],d,this)}}return t};Bt.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.schema,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),e};Bt.prototype.applyGetters=function(t,e){return Ul.prototype.applyGetters.call(this,t,e)};function qre(t,e,r){if(!(r&&e))return;let n=t.path+".",s=Object.keys(e),i=s.length,o={},u,a,c;for(;i--;)if(a=s[i],a.startsWith(n)){if(c=a.substring(n.length),c==="$")continue;c.startsWith("$.")&&(c=c.substring(2)),u||(u=!0),o[c]=e[a]}return u&&o||void 0}Bt.defaultOptions={};Bt.set=Ul.set;Bt.setters=[];Bt.get=Ul.get;_F.exports=Bt});var CF=y((Khe,OF)=>{"use strict";var Lre=bn(),Cm=class extends Lre{},jre=Yn();Object.defineProperty(Cm.prototype,"of",jre);OF.exports=Cm});var bF=y((Yhe,wF)=>{"use strict";var G_=H0(),Ure=CF(),SF=Jt();var jc=class extends SF{constructor(e,r){super(e,r,"Map"),this.$isSchemaMap=!0}set(e,r){return SF.set(e,r)}cast(e,r,n){if(e instanceof G_)return e;let s=this.path;if(n){let i=new G_({},s,r,this.$__schemaType);if(e instanceof global.Map)for(let o of e.keys()){let u=e.get(o);u==null?u=i.$__schemaType._castNullish(u):u=i.$__schemaType.cast(u,r,!0,null,{path:s+"."+o}),i.$init(o,u)}else for(let o of Object.keys(e)){let u=e[o];u==null?u=i.$__schemaType._castNullish(u):u=i.$__schemaType.cast(u,r,!0,null,{path:s+"."+o}),i.$init(o,u)}return i}return new G_(e,s,r,this.$__schemaType)}clone(){let e=super.clone();return this.$__schemaType!=null&&(e.$__schemaType=this.$__schemaType.clone()),e}};jc.schemaName="Map";jc.prototype.OptionsConstructor=Ure;jc.defaultOptions={};wF.exports=jc});var MF=y((Qhe,TF)=>{"use strict";var Vre=bn(),Vl=class extends Vre{},DF=Yn();Object.defineProperty(Vl.prototype,"auto",DF);Object.defineProperty(Vl.prototype,"populate",DF);TF.exports=Vl});var NF=y((Jhe,FF)=>{"use strict";var zre=MF(),Ui=Jt(),Wre=T4(),Gre=Jr(),K_=Fi(),Y_=Xr(),BF=ae(),Hre=Ui.CastError,H_;function Pt(t,e){let r=typeof t=="string"&&t.length===24&&/^[a-f0-9]+$/i.test(t),n=e&&e.suppressWarning;(r||typeof t>"u")&&!n&&BF.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),Ui.call(this,t,e,"ObjectId")}Pt.schemaName="ObjectId";Pt.defaultOptions={};Pt.prototype=Object.create(Ui.prototype);Pt.prototype.constructor=Pt;Pt.prototype.OptionsConstructor=zre;Pt.get=Ui.get;Pt.set=Ui.set;Pt.setters=[];Pt.prototype.auto=function(t){return t&&(this.default(PF),this.set(Kre)),this};Pt._checkRequired=t=>Y_(t,"ObjectId");Pt._cast=Wre;Pt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Pt._defaultCaster=t=>{if(!Y_(t,"ObjectId"))throw new Error(t+" is not an instance of ObjectId");return t};Pt.checkRequired=Ui.checkRequired;Pt.prototype.checkRequired=function(e,r){return Ui._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():Pt.checkRequired())(e)};Pt.prototype.cast=function(t,e,r){if(!Y_(t,"ObjectId")&&Ui._isRef(this,t,e,r)){if((Gre(t)||"").toLowerCase()==="objectid")return new K_(t.toHexString());if(t==null||BF.isNonBuiltinObject(t))return this._castRef(t,e,r)}let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=Pt.cast();try{return n(t)}catch(s){throw new Hre("ObjectId",t,this.path,s,this)}};function Sm(t){return this.cast(t)}Pt.prototype.$conditionalHandlers={...Ui.prototype.$conditionalHandlers,$gt:Sm,$gte:Sm,$lt:Sm,$lte:Sm};function PF(){return new K_}PF.$runBeforeSetters=!0;function Kre(t){return H_||(H_=en()),this instanceof H_&&t===void 0?new K_:t}FF.exports=Pt});var IF=y((Xhe,$F)=>{"use strict";var Yre=bn(),Dn=class extends Yre{},ri=Yn();Object.defineProperty(Dn.prototype,"enum",ri);Object.defineProperty(Dn.prototype,"match",ri);Object.defineProperty(Dn.prototype,"lowercase",ri);Object.defineProperty(Dn.prototype,"trim",ri);Object.defineProperty(Dn.prototype,"uppercase",ri);Object.defineProperty(Dn.prototype,"minLength",ri);Object.defineProperty(Dn.prototype,"minlength",ri);Object.defineProperty(Dn.prototype,"maxLength",ri);Object.defineProperty(Dn.prototype,"maxlength",ri);Object.defineProperty(Dn.prototype,"populate",ri);$F.exports=Dn});var qF=y((Zhe,kF)=>{"use strict";var Vi=Jt(),Wl=Je(),Qre=IF(),Jre=m_(),RF=ae(),Xre=Xr(),vF=Vi.CastError;function Re(t,e){this.enumValues=[],this.regExp=null,Vi.call(this,t,e,"String")}Re.schemaName="String";Re.defaultOptions={};Re.prototype=Object.create(Vi.prototype);Re.prototype.constructor=Re;Object.defineProperty(Re.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:Qre});Re._cast=Jre;Re.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Re._defaultCaster=t=>{if(t!=null&&typeof t!="string")throw new Error;return t};Re.get=Vi.get;Re.set=Vi.set;Re.setters=[];Re._checkRequired=t=>(t instanceof String||typeof t=="string")&&t.length;Re.checkRequired=Vi.checkRequired;Re.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(n){return n.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;let t,e;RF.isObject(arguments[0])?Array.isArray(arguments[0].values)?(t=arguments[0].values,e=arguments[0].message):(t=RF.object.vals(arguments[0]),e=Wl.messages.String.enum):(t=arguments,e=Wl.messages.String.enum);for(let n of t)n!==void 0&&this.enumValues.push(this.cast(n));let r=this.enumValues;return this.enumValidator=function(n){return n==null||~r.indexOf(n)},this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:r}),this};Re.prototype.lowercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toLowerCase()))};Re.prototype.uppercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toUpperCase()))};Re.prototype.trim=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.trim()))};Re.prototype.minlength=function(t,e){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minlengthValidator},this)),t!=null){let r=e||Wl.messages.String.minlength;r=r.replace(/{MINLENGTH}/,t),this.validators.push({validator:this.minlengthValidator=function(n){return n===null||n.length>=t},message:r,type:"minlength",minlength:t})}return this};Re.prototype.minLength=Re.prototype.minlength;Re.prototype.maxlength=function(t,e){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxlengthValidator},this)),t!=null){let r=e||Wl.messages.String.maxlength;r=r.replace(/{MAXLENGTH}/,t),this.validators.push({validator:this.maxlengthValidator=function(n){return n===null||n.length<=t},message:r,type:"maxlength",maxlength:t})}return this};Re.prototype.maxLength=Re.prototype.maxlength;Re.prototype.match=function(e,r){let n=r||Wl.messages.String.match,s=function(i){return e?(e.lastIndex=0,i!=null&&i!==""?e.test(i):!0):!1};return this.validators.push({validator:s,message:n,type:"regexp",regexp:e}),this};Re.prototype.checkRequired=function(e,r){return typeof e=="object"&&Vi._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():Re.checkRequired())(e)};Re.prototype.cast=function(t,e,r){if(typeof t!="string"&&Vi._isRef(this,t,e,r))return this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=Re.cast();try{return n(t)}catch{throw new vF("string",t,this.path,null,this)}};function zl(t,e){return this.castForQuery(null,t,e)}function Zre(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}function xF(t){return t==null?this._castNullish(t):this.cast(t,this)}var ene={...Vi.prototype.$conditionalHandlers,$all:Zre,$gt:zl,$gte:zl,$lt:zl,$lte:zl,$options:xF,$regex:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"?e:xF.call(this,e)},$not:zl};Object.defineProperty(Re.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(ene)});Re.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with String.");return n.call(this,e,r)}if(Object.prototype.toString.call(e)==="[object RegExp]"||Xre(e,"BSONRegExp"))return e;try{return this.applySetters(e,r)}catch(s){throw s instanceof vF&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}};kF.exports=Re});var VF=y((ede,UF)=>{"use strict";var X_=Fl(),Po=Jt(),bm=Po.CastError,tne=ae(),wm=X0(),J_=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,rne=X_.Binary;function nne(t){return t!=null&&Buffer.from(t,"hex")}function sne(t){return t!=null&&t.toString("hex")}function LF(t){typeof t!="string"&&(t="");let e=t.replace(/[{}-]/g,""),r=nne(e),n=new X_(r);return n._subtype=4,n}function jF(t){let e;return typeof t!="string"&&t!=null?(e=sne(t),e.substring(0,8)+"-"+e.substring(8,8+4)+"-"+e.substring(12,12+4)+"-"+e.substring(16,16+4)+"-"+e.substring(20,20+12)):t}function Ft(t,e){Po.call(this,t,e,"UUID"),this.getters.push(function(r){return r!=null&&r.$__!=null?r:jF(r)})}Ft.schemaName="UUID";Ft.defaultOptions={};Ft.prototype=Object.create(Po.prototype);Ft.prototype.constructor=Ft;Ft._cast=function(t){if(t==null)return t;function e(r){let n=new X_(r);return n._subtype=4,n}if(typeof t=="string"){if(J_.test(t))return LF(t);throw new bm(Ft.schemaName,t,this.path)}if(Buffer.isBuffer(t))return e(t);if(t instanceof rne)return e(t.value(!0));if(t.toString&&t.toString!==Object.prototype.toString&&J_.test(t.toString()))return LF(t.toString());throw new bm(Ft.schemaName,t,this.path)};Ft.get=Po.get;Ft.set=Po.set;Ft.setters=[];Ft.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Ft._checkRequired=t=>t!=null;Ft.checkRequired=Po.checkRequired;Ft.prototype.checkRequired=function(e){return Buffer.isBuffer(e)&&(e=jF(e)),e!=null&&J_.test(e)};Ft.prototype.cast=function(t,e,r){if(tne.isNonBuiltinObject(t)&&Po._isRef(this,t,e,r))return this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=Ft.cast();try{return n(t)}catch(s){throw new bm(Ft.schemaName,t,this.path,s,this)}};function Gl(t){return this.cast(t)}function Q_(t){return t.map(e=>this.cast(e))}Ft.prototype.$conditionalHandlers={...Po.prototype.$conditionalHandlers,$bitsAllClear:wm,$bitsAnyClear:wm,$bitsAllSet:wm,$bitsAnySet:wm,$all:Q_,$gt:Gl,$gte:Gl,$in:Q_,$lt:Gl,$lte:Gl,$ne:Gl,$nin:Q_};Ft.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with UUID.");return n.call(this,e,r)}try{return this.applySetters(e,r)}catch(s){throw s instanceof bm&&s.path===this.path&&this.$fullPath!=null&&(s.path=this.$fullPath),s}};UF.exports=Ft});var Il=y(Et=>{"use strict";Et.Array=nm();Et.BigInt=lP();Et.Boolean=dP();Et.Buffer=EP();Et.Date=DP();Et.Decimal128=Et.Decimal=PP();Et.DocumentArray=AF();Et.Map=bF();Et.Mixed=Tu();Et.Number=C_();Et.ObjectId=NF();Et.String=qF();Et.Subdocument=U_();Et.UUID=VF();Et.Oid=Et.ObjectId;Et.Object=Et.Mixed;Et.Bool=Et.Boolean;Et.ObjectID=Et.ObjectId});var Mc=y((nA,eN)=>{"use strict";var ine=require("events").EventEmitter,one=mc(),vu=ut(),zF=Jt(),WF=bn(),une=UM(),tA=e_(),GF=t_(),$r=_t(),HF=pt(),ane=Jr(),cne=eB(),Tm=s_(),lne=nB(),fne=m0(),Dm=Ts(),hne=iB(),dne=mB(),ot=ae(),pne=gB(),mne=require("util"),yne=/\.\d+(\.|$)/,Fo,gne=W0().queryMiddlewareFunctions,Ene=G0().middlewareFunctions,KF=gne.concat(Ene).reduce((t,e)=>t.add(e),new Set),Z_=ot.isPOJO,YF=0,_ne=/^\d+$/;function J(t,e){if(!(this instanceof J))return new J(t,e);if(this.obj=t,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this._searchIndexes=[],this.methods=e&&e.methods||{},this.methodOptions={},this.statics=e&&e.statics||{},this.tree={},this.query=e&&e.query||{},this.childSchemas=[],this.plugins=[],this.$id=++YF,this.mapPaths=[],this.s={hooks:new one},this.options=this.defaultOptions(e),Array.isArray(t))for(let s of t)this.add(s);else t&&this.add(t);if(e&&e.virtuals){let s=e.virtuals,i=Object.keys(s);for(let o of i){let u=s[o].options?s[o].options:void 0,a=this.virtual(o,u);s[o].get&&a.get(s[o].get),s[o].set&&a.set(s[o].set)}}let r=t&&t._id&&ot.isObject(t._id);!this.paths._id&&this.options._id&&!r&&GF(this),this.setupTimestamp(this.options.timestamps)}function QF(t,e){for(let r of Object.keys(e)){let n=null;if(e[r]!=null)n=e[r];else{let i=HF(t.paths[r],"options");if(i==null)continue;n=i.alias}if(!n)continue;let s=t.paths[r].path;if(Array.isArray(n)){for(let i of n){if(typeof i!="string")throw new Error("Invalid value for alias option on "+s+", got "+i);t.aliases[i]=s,t.virtual(i).get(function(o){return function(){return typeof this.get=="function"?this.get(o):this[o]}}(s)).set(function(o){return function(u){return this.$set(o,u)}}(s))}continue}if(typeof n!="string")throw new Error("Invalid value for alias option on "+s+", got "+n);t.aliases[n]=s,t.virtual(n).get(function(i){return function(){return typeof this.get=="function"?this.get(i):this[i]}}(s)).set(function(i){return function(o){return this.$set(i,o)}}(s))}}J.prototype=Object.create(ine.prototype);J.prototype.constructor=J;J.prototype.instanceOfSchema=!0;Object.defineProperty(J.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(J.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(J.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});J.prototype.obj;J.prototype.paths;J.prototype.tree;J.prototype.clone=function(){let t=this._clone();return t.on("init",e=>this.emit("init",e)),t};J.prototype._clone=function(e){e=e||(this.base==null?J:this.base.Schema);let r=new e({},this._userProvidedOptions);r.base=this.base,r.obj=this.obj,r.options=$r(this.options),r.callQueue=this.callQueue.map(function(n){return n}),r.methods=$r(this.methods),r.methodOptions=$r(this.methodOptions),r.statics=$r(this.statics),r.query=$r(this.query),r.plugins=Array.prototype.slice.call(this.plugins),r._indexes=$r(this._indexes),r._searchIndexes=$r(this._searchIndexes),r.s.hooks=this.s.hooks.clone(),r.tree=$r(this.tree),r.paths=Object.fromEntries(Object.entries(this.paths).map(([n,s])=>[n,s.clone()])),r.nested=$r(this.nested),r.subpaths=$r(this.subpaths);for(let n of Object.values(r.paths))if(n.$isSingleNested){let s=n.path;for(let i of Object.keys(n.schema.paths))r.singleNestedPaths[s+"."+i]=n.schema.paths[i];for(let i of Object.keys(n.schema.singleNestedPaths))r.singleNestedPaths[s+"."+i]=n.schema.singleNestedPaths[i];for(let i of Object.keys(n.schema.subpaths))r.singleNestedPaths[s+"."+i]=n.schema.subpaths[i];for(let i of Object.keys(n.schema.nested))r.singleNestedPaths[s+"."+i]="nested"}return r.childSchemas=Ane(r),r.virtuals=$r(this.virtuals),r.$globalPluginsApplied=this.$globalPluginsApplied,r.$isRootDiscriminator=this.$isRootDiscriminator,r.$implicitlyCreated=this.$implicitlyCreated,r.$id=++YF,r.$originalSchemaId=this.$id,r.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(r.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(r.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(r._applyDiscriminators=new Map(this._applyDiscriminators)),r.aliases=Object.assign({},this.aliases),r};J.prototype.pick=function(t,e){let r=new J({},e||this.options);if(!Array.isArray(t))throw new vu('Schema#pick() only accepts an array argument, got "'+typeof t+'"');for(let n of t)if(this.nested[n])r.add({[n]:HF(this.tree,n)});else{let s=this.path(n);if(s==null)throw new vu("Path `"+n+"` is not in the schema");r.add({[n]:s})}return r};J.prototype.omit=function(t,e){let r=new J(this,e||this.options);if(!Array.isArray(t))throw new vu('Schema#omit() only accepts an array argument, got "'+typeof t+'"');r.remove(t);for(let n in r.singleNestedPaths)t.includes(n)&&delete r.singleNestedPaths[n];return r};J.prototype.defaultOptions=function(t){this._userProvidedOptions=t==null?{}:$r(t);let e=this.base&&this.base.options||{},r="strict"in e?e.strict:!0,n="strictQuery"in e?e.strictQuery:!1,s="id"in e?e.id:!0;if(t={strict:r,strictQuery:n,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:s,typeKey:"type",...t},t.versionKey&&typeof t.versionKey!="string")throw new vu("`versionKey` must be falsy or string, got `"+typeof t.versionKey+"`");if(typeof t.read=="string"?t.read=Tm(t.read):Array.isArray(t.read)&&typeof t.read[0]=="string"&&(t.read={mode:Tm(t.read[0]),tags:t.read[1]}),t.optimisticConcurrency&&!t.versionKey)throw new vu("Must set `versionKey` if using `optimisticConcurrency`");return t};J.prototype.discriminator=function(t,e,r){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(t,{schema:e,options:r}),this};J.prototype.add=function(e,r){if(e instanceof J||e!=null&&e.instanceOfSchema)return fne(this,e),this;if(e._id===!1&&r==null&&(this.options._id=!1),r=r||"",r==="__proto__."||r==="constructor."||r==="prototype.")return this;let n=Object.keys(e),s=this.options.typeKey;for(let o of n){if(ot.specialProperties.has(o))continue;let u=r+o,a=e[o];if(a==null)throw new TypeError("Invalid value for schema path `"+u+'`, got value "'+a+'"');if(o==="_id"&&a===!1)continue;let c=!1;if(typeof a=="string"){let l=this.base!=null?this.base.Schema.Types:J.Types,f=a.charAt(0).toUpperCase()+a.substring(1);c=l[f]!=null}if(o!=="_id"&&(typeof a!="object"&&typeof a!="function"&&!c||a==null))throw new TypeError(`Invalid schema configuration: \`${a}\` is not a valid type at path \`${o}\`. See https://bit.ly/mongoose-schematypes for a list of valid schema types.`);if(a instanceof tA||(a.constructor&&a.constructor.name||null)==="VirtualType"){this.virtual(a);continue}if(Array.isArray(a)&&a.length===1&&a[0]==null)throw new TypeError("Invalid value for schema Array path `"+u+'`, got value "'+a[0]+'"');if(Z_(a)||a instanceof WF)if(Object.keys(a).length<1)r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(u,a);else if(!a[s]||s==="type"&&Z_(a.type)&&a.type.type)this.nested[u]=!0,this.add(a,u+".");else{let l=a[s];if(Z_(l)&&Object.keys(l).length>0){r&&(this.nested[r.substring(0,r.length-1)]=!0);let f={};this._userProvidedOptions.typeKey&&(f.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(f.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(f.toObject=ot.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(f.toJSON=ot.omit(this._userProvidedOptions.toJSON,["transform"]));let h=new J(l,f);h.$implicitlyCreated=!0;let d=Object.assign({},a,{[s]:h});this.path(r+o,d)}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a!=null&&!a.instanceOfSchema&&ot.isPOJO(a.discriminators)){let f=this.path(r+o);for(let h in a.discriminators)f.discriminator(h,a.discriminators[h])}}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a[0]!=null&&!a[0].instanceOfSchema&&ot.isPOJO(a[0].discriminators)){let l=this.path(r+o);for(let f in a[0].discriminators)l.discriminator(f,a[0].discriminators[f])}}let i=Object.fromEntries(Object.entries(e).map(([o])=>[r+o,null]));return QF(this,i),this};J.prototype.alias=function(t,e){return QF(this,{[t]:e}),this};J.prototype.removeIndex=function(e){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof e!="object"&&typeof e!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof e=="object")for(let r=this._indexes.length-1;r>=0;--r)mne.isDeepStrictEqual(this._indexes[r][0],e)&&this._indexes.splice(r,1);else for(let r=this._indexes.length-1;r>=0;--r)this._indexes[r][1]!=null&&this._indexes[r][1].name===e&&this._indexes.splice(r,1);return this};J.prototype.clearIndexes=function(){return this._indexes.length=0,this};J.prototype.searchIndex=function(e){return this._searchIndexes.push(e),this};J.reserved=Object.create(null);J.prototype.reserved=J.reserved;var cr=J.reserved;cr.prototype=cr.emit=cr.listeners=cr.removeListener=cr.collection=cr.errors=cr.get=cr.init=cr.isModified=cr.isNew=cr.populated=cr.remove=cr.save=cr.toObject=cr.validate=1;cr.collection=1;J.prototype.path=function(t,e){if(e===void 0){if(this.paths[t]!=null)return this.paths[t];let a=JF(t),c=One(this,t,a);if(c!=null)return c;let l=XF(this,t);return l??(c=this.hasMixedParent(a),c??(yne.test(t)?Sne(this,t,a):void 0))}let r=t.split(".")[0];if(cr[r]&&!this.options.suppressReservedKeysWarning){let a=`\`${r}\` is a reserved schema pathname and may break some functionality. You are allowed to use it, but use at your own risk. To disable this warning pass \`suppressReservedKeysWarning\` as a schema option.`;ot.warn(a)}typeof e=="object"&&ot.hasUserDefinedProperty(e,"ref")&&pne(e.ref,t);let n=t.split(/\./),s=n.pop(),i=this.tree,o="";for(let a of n){if(ot.specialProperties.has(a))throw new Error("Cannot set special property `"+a+"` on a schema");if(o=o+=(o.length>0?".":"")+a,i[a]||(this.nested[o]=!0,i[a]={}),typeof i[a]!="object"){let c="Cannot set nested path `"+t+"`. Parent path `"+o+"` already set to type "+i[a].name+".";throw new Error(c)}i=i[a]}i[s]=$r(e),this.paths[t]=this.interpretAsType(t,e,this.options);let u=this.paths[t];if(u.$isSchemaMap){let a=t+".$*";this.paths[a]=u.$__schemaType,this.mapPaths.push(this.paths[a])}if(u.$isSingleNested){for(let a of Object.keys(u.schema.paths))this.singleNestedPaths[t+"."+a]=u.schema.paths[a];for(let a of Object.keys(u.schema.singleNestedPaths))this.singleNestedPaths[t+"."+a]=u.schema.singleNestedPaths[a];for(let a of Object.keys(u.schema.subpaths))this.singleNestedPaths[t+"."+a]=u.schema.subpaths[a];for(let a of Object.keys(u.schema.nested))this.singleNestedPaths[t+"."+a]="nested";Object.defineProperty(u.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),u.caster.base=this.base,this.childSchemas.push({schema:u.schema,model:u.caster})}else u.$isMongooseDocumentArray&&(Object.defineProperty(u.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),u.casterConstructor.base=this.base,this.childSchemas.push({schema:u.schema,model:u.casterConstructor}));if(u.$isMongooseArray&&u.caster instanceof zF){let a=t,c=u,l=[];for(;c.$isMongooseArray;)a=a+".$",c.$isMongooseDocumentArray?(c.$embeddedSchemaType._arrayPath=a,c.$embeddedSchemaType._arrayParentPath=t,c=c.$embeddedSchemaType):(c.caster._arrayPath=a,c.caster._arrayParentPath=t,c=c.caster),this.subpaths[a]=c;for(let f of l)this.subpaths[f.path]=f}if(u.$isMongooseDocumentArray){for(let a of Object.keys(u.schema.paths)){let c=u.schema.paths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}for(let a of Object.keys(u.schema.subpaths)){let c=u.schema.subpaths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}for(let a of Object.keys(u.schema.singleNestedPaths)){let c=u.schema.singleNestedPaths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}}return this};function Ane(t){let e=[];for(let r of Object.keys(t.paths)){let n=t.paths[r];(n.$isMongooseDocumentArray||n.$isSingleNested)&&e.push({schema:n.schema,model:n.caster})}return e}function One(t,e,r){if(t.paths.hasOwnProperty(e))return t.paths[e];if(t.subpaths.hasOwnProperty(r)){let n=t.subpaths[r];return n==="nested"?void 0:n}if(t.singleNestedPaths.hasOwnProperty(r)&&typeof t.singleNestedPaths[r]=="object"){let n=t.singleNestedPaths[r];return n==="nested"?void 0:n}return null}function JF(t){return/\.\d+/.test(t)?t.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):t}function XF(t,e){if(t.mapPaths.length===0)return null;for(let r of t.mapPaths){let n=r.path;if(new RegExp("^"+n.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(e))return t.paths[n]}return null}Object.defineProperty(J.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});J.prototype.interpretAsType=function(t,e,r){if(e instanceof zF){if(e.path===t)return e;let a=e.clone();return a.path=t,a}let n=this.base!=null?this.base.Schema.Types:J.Types,s=this.base!=null?this.base.Types:Pc();if(!ot.isPOJO(e)&&!(e instanceof WF)&&ot.getFunctionName(e.constructor)!=="Object"){let c=e;e={},e[r.typeKey]=c}let i=e[r.typeKey]&&(e[r.typeKey]instanceof Function||r.typeKey!=="type"||!e.type.type)?e[r.typeKey]:{},o;if(ot.isPOJO(i)||i==="mixed")return new n.Mixed(t,e);if(Array.isArray(i)||i===Array||i==="array"||i===n.Array){let a=i===Array||i==="array"?e.cast||e.of:i[0];if(a&&a.instanceOfSchema){if(!(a instanceof J))if(this.options._isMerging)a=new J(a);else throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a,e)}if(a&&a[r.typeKey]&&a[r.typeKey].instanceOfSchema){if(!(a[r.typeKey]instanceof J))if(this.options._isMerging)a[r.typeKey]=new J(a[r.typeKey]);else throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a[r.typeKey],e,a)}if(typeof a<"u"&&(Array.isArray(a)||a.type===Array||a.type=="Array"))return a&&a.type=="Array"&&(a.type=Array),new n.Array(t,this.interpretAsType(t,a,r),e);let c=a!=null&&a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a;if(typeof a=="string")a=n[a.charAt(0).toUpperCase()+a.substring(1)];else if(ot.isPOJO(c))if(Object.keys(c).length){let l={minimize:r.minimize};r.typeKey&&(l.typeKey=r.typeKey),r.hasOwnProperty("strict")&&(l.strict=r.strict),r.hasOwnProperty("strictQuery")&&(l.strictQuery=r.strictQuery),r.hasOwnProperty("toObject")&&(l.toObject=ot.omit(r.toObject,["transform"])),r.hasOwnProperty("toJSON")&&(l.toJSON=ot.omit(r.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?l._id=this._userProvidedOptions._id:J.Types.DocumentArray.defaultOptions._id!=null&&(l._id=J.Types.DocumentArray.defaultOptions._id);let f=new J(c,l);return f.$implicitlyCreated=!0,new n.DocumentArray(t,f,e)}else return new n.Array(t,n.Mixed,e);if(a){if(i=a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a,Array.isArray(i))return new n.Array(t,this.interpretAsType(t,i,r),e);if(o=typeof i=="string"?i:i.schemaName||ot.getFunctionName(i),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: Could not determine the embedded type for array \`${t}\`. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(!n.hasOwnProperty(o))throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type within the array \`${t}\`.See https://bit.ly/mongoose-schematypes for a list of valid schema types.`)}return new n.Array(t,a||n.Mixed,e,r)}if(i&&i.instanceOfSchema)return new n.Subdocument(i,t,e);if(Buffer.isBuffer(i)?o="Buffer":typeof i=="function"||typeof i=="object"?o=i.schemaName||ot.getFunctionName(i):i===s.ObjectId?o="ObjectId":i===s.Decimal128?o="Decimal128":o=i==null?""+i:i.toString(),o&&(o=o.charAt(0).toUpperCase()+o.substring(1)),o==="ObjectID"&&(o="ObjectId"),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: \`${t}\` schematype definition is invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(n[o]==null)throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type at path \`${t}\`. See https://bit.ly/mongoose-schematypes for a list of valid schema types.`);let u=new n[o](t,e);return u.$isSchemaMap&&Cne(this,u,t,e,r),u};function Cne(t,e,r,n,s){let i=r+".$*",o={type:{}};ot.hasUserDefinedProperty(n,"of")&&(ot.isPOJO(n.of)&&Object.keys(n.of).length>0&&!ot.hasUserDefinedProperty(n.of,t.options.typeKey)?o={[t.options.typeKey]:new J(n.of)}:ot.isPOJO(n.of)?o=Object.assign({},n.of):o={[t.options.typeKey]:n.of},o[t.options.typeKey]&&o[t.options.typeKey].instanceOfSchema&&o[t.options.typeKey].eachPath((c,l)=>{if(l.options.select===!0||l.options.select===!1)throw new vu('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+r+"."+c+'"')}),ot.hasUserDefinedProperty(n,"ref")&&(o.ref=n.ref)),e.$__schemaType=t.interpretAsType(i,o,s)}J.prototype.eachPath=function(t){let e=Object.keys(this.paths),r=e.length;for(let n=0;n<r;++n)t(e[n],this.paths[e[n]]);return this};J.prototype.requiredPaths=function(e){if(this._requiredpaths&&!e)return this._requiredpaths;let r=Object.keys(this.paths),n=r.length,s=[];for(;n--;){let i=r[n];this.paths[i].isRequired&&s.push(i)}return this._requiredpaths=s,this._requiredpaths};J.prototype.indexedPaths=function(){return this._indexedpaths?this._indexedpaths:(this._indexedpaths=this.indexes(),this._indexedpaths)};J.prototype.pathType=function(t){if(this.paths.hasOwnProperty(t))return"real";if(this.virtuals.hasOwnProperty(t))return"virtual";if(this.nested.hasOwnProperty(t))return"nested";let e=JF(t);if(this.subpaths.hasOwnProperty(e)||this.subpaths.hasOwnProperty(t))return"real";let r=this.singleNestedPaths.hasOwnProperty(e)||this.singleNestedPaths.hasOwnProperty(t);return r?r==="nested"?"nested":"real":XF(this,t)!=null?"real":/\.\d+\.|\.\d+$/.test(t)?ZF(this,t,e):"adhocOrUndefined"};J.prototype.hasMixedParent=function(t){let e=t.split(/\./g);t="";for(let r=0;r<e.length;++r)if(t=r>0?t+"."+e[r]:e[r],this.paths.hasOwnProperty(t)&&this.paths[t]instanceof Fo.Mixed)return this.paths[t];return null};J.prototype.setupTimestamp=function(t){return dne(this,t)};function ZF(t,e,r){let n=e.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(n.length<2)return t.paths.hasOwnProperty(n[0])?t.paths[n[0]]:"adhocOrUndefined";let s=t.path(n[0]),i=!1;if(!s)return"adhocOrUndefined";let o=n.length-1;for(let u=1;u<n.length;++u){i=!1;let a=n[u];if(u===o&&s&&!/\D/.test(a)){s.$isMongooseDocumentArray?s=s.$embeddedSchemaType:s instanceof Fo.Array?s=s.caster:s=void 0;break}if(!/\D/.test(a)){s instanceof Fo.Array&&u!==o&&(s=s.caster);continue}if(!(s&&s.schema)){s=void 0;break}i=s.schema.pathType(a)==="nested",s=s.schema.path(a)}return t.subpaths[r]=s,s?"real":i?"nested":"adhocOrUndefined"}function Sne(t,e,r){return ZF(t,e,r),t.subpaths[r]}J.prototype.queue=function(t,e){return this.callQueue.push([t,e]),this};J.prototype.pre=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of KF)t.test(r)&&this.pre.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.pre.apply(this,[r].concat(e));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};J.prototype.post=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of KF)t.test(r)&&this.post.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.post.apply(this,[r].concat(e));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};J.prototype.plugin=function(t,e){if(typeof t!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof t+'"');if(e&&e.deduplicate){for(let r of this.plugins)if(r.fn===t)return this}return this.plugins.push({fn:t,opts:e}),t(this,e),this};J.prototype.method=function(t,e,r){if(typeof t!="string")for(let n in t)this.methods[n]=t[n],this.methodOptions[n]=$r(r);else this.methods[t]=e,this.methodOptions[t]=$r(r);return this};J.prototype.static=function(t,e){if(typeof t!="string")for(let r in t)this.statics[r]=t[r];else this.statics[t]=e;return this};J.prototype.index=function(t,e){t||(t={}),e||(e={}),e.expires&&ot.expires(e);for(let r in t)this.aliases[r]&&(t=ot.renameObjKey(t,r,this.aliases[r]));for(let r of Object.keys(t))t[r]==="ascending"||t[r]==="asc"?t[r]=1:(t[r]==="descending"||t[r]==="desc")&&(t[r]=-1);return this._indexes.push([t,e]),this};J.prototype.set=function(t,e,r){if(arguments.length===1)return this.options[t];switch(t){case"read":typeof e=="string"?this.options[t]={mode:Tm(e),tags:r}:Array.isArray(e)&&typeof e[0]=="string"?this.options[t]={mode:Tm(e[0]),tags:e[1]}:this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break;case"timestamps":this.setupTimestamp(e),this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break;case"_id":this.options[t]=e,this._userProvidedOptions[t]=this.options[t],e&&!this.paths._id?GF(this):!e&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break}return t==="strict"&&Hl(this,{strict:e}),t==="strictQuery"&&Hl(this,{strictQuery:e}),t==="toObject"&&(e={...e},delete e.transform,Hl(this,{toObject:e})),t==="toJSON"&&(e={...e},delete e.transform,Hl(this,{toJSON:e})),this};function Hl(t,e){for(let{schema:r}of t.childSchemas)r.$implicitlyCreated&&(Object.assign(r.options,e),Hl(r,e))}J.prototype.get=function(t){return this.options[t]};var wne="2d 2dsphere hashed text".split(" ");Object.defineProperty(J,"indexTypes",{get:function(){return wne},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});J.prototype.indexes=function(){return cne(this)};J.prototype.virtual=function(t,e){if(t instanceof tA||ane(t)==="VirtualType")return this.virtual(t.path,t.options);if(e=new une(e),ot.hasUserDefinedProperty(e,["ref","refPath"])){if(e.localField==null)throw new Error("Reference virtuals require `localField` option");if(e.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");let s=this.virtual(t);s.options=e,this.pre("init",function(a,c){if(Dm.has(t,a)){let l=Dm.get(t,a);if(this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e.justOne||e.count?this.$$populatedVirtuals[t]=Array.isArray(l)?l[0]:l:this.$$populatedVirtuals[t]=Array.isArray(l)?l:l==null?[]:[l],c?.hydratedPopulatedDocs&&!e.count){let f=s._getModelNamesForPopulate(this),h=this.$$populatedVirtuals[t];if(!Array.isArray(h)&&!h.$__&&f?.length===1){let d=this.db.model(f[0]);this.$$populatedVirtuals[t]=d.hydrate(h)}else if(Array.isArray(h)&&f?.length===1){let d=this.db.model(f[0]);for(let p=0;p<h.length;++p)h[p].$__||(h[p]=d.hydrate(h[p]))}}Dm.unset(t,a)}}),s.set(function(u){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),hne(this.$$populatedVirtuals,t,u,e)}),typeof e.get=="function"&&s.get(e.get);let i=t.split("."),o=i[0];for(let u=0;u<i.length-1;++u)if(this.paths[o]!=null){if(this.paths[o].$isMongooseDocumentArray||this.paths[o].$isSingleNested){let a=i.slice(u+1).join(".");this.paths[o].schema.virtual(a,e);break}o+="."+i[u+1]}return s}let r=this.virtuals,n=t.split(".");if(this.pathType(t)==="real")throw new Error('Virtual path "'+t+'" conflicts with a real path in the schema');return r[t]=n.reduce(function(s,i,o){return s[i]||(s[i]=o===n.length-1?new tA(e,t):{}),s[i]},this.tree),r[t]};J.prototype.virtualpath=function(t){return this.virtuals.hasOwnProperty(t)?this.virtuals[t]:null};J.prototype.remove=function(t){return typeof t=="string"&&(t=[t]),Array.isArray(t)&&t.forEach(function(e){if(!(this.path(e)==null&&!this.nested[e])){if(this.nested[e]){let r=Object.keys(this.paths).concat(Object.keys(this.nested));for(let n of r)n.startsWith(e+".")&&(delete this.paths[n],delete this.nested[n],eA(this,n));delete this.nested[e],eA(this,e);return}delete this.paths[e],eA(this,e)}},this),this};function eA(t,e){let r=e.split("."),n=r.pop(),s=t.tree;for(let i of r)s=s[i];delete s[n]}J.prototype.removeVirtual=function(t){if(typeof t=="string"&&(t=[t]),Array.isArray(t)){for(let e of t)if(this.virtuals[e]==null)throw new vu(`Attempting to remove virtual "${e}" that does not exist.`);for(let e of t)delete this.paths[e],delete this.virtuals[e],e.indexOf(".")!==-1?Dm.unset(e,this.tree):delete this.tree[e]}return this};J.prototype.loadClass=function(t,e){return t===Object.prototype||t===Function.prototype||t.prototype.hasOwnProperty("$isMongooseModelPrototype")||t.prototype.hasOwnProperty("$isMongooseDocumentPrototype")?this:(this.loadClass(Object.getPrototypeOf(t),e),e||Object.getOwnPropertyNames(t).forEach(function(r){if(r.match(/^(length|name|prototype|constructor|__proto__)$/))return;let n=Object.getOwnPropertyDescriptor(t,r);n.hasOwnProperty("value")&&this.static(r,n.value)},this),Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(r.match(/^(constructor)$/))return;let n=Object.getOwnPropertyDescriptor(t.prototype,r);e||typeof n.value=="function"&&this.method(r,n.value),typeof n.get=="function"&&(this.virtuals[r]&&(this.virtuals[r].getters=[]),this.virtual(r).get(n.get)),typeof n.set=="function"&&(this.virtuals[r]&&(this.virtuals[r].setters=[]),this.virtual(r).set(n.set))},this),this)};J.prototype._getSchema=function(t){let e=this,r=e.path(t),n=[];if(r)return r.$fullPath=t,r;function s(o,u){let a=o.length+1,c,l;for(;a--;)if(l=o.slice(0,a).join("."),c=u.path(l),c){if(n.push(l),c.caster){if(c.caster instanceof Fo.Mixed)return c.caster.$fullPath=n.join("."),c.caster;if(a!==o.length&&c.schema){let f;return o[a]==="$"||rA(o[a])?a+1===o.length?c.$embeddedSchemaType:(f=s(o.slice(a+1),c.schema),f&&(f.$parentSchemaDocArray=f.$parentSchemaDocArray||(c.schema.$isSingleNested?null:c)),f):(f=s(o.slice(a),c.schema),f&&(f.$parentSchemaDocArray=f.$parentSchemaDocArray||(c.schema.$isSingleNested?null:c)),f)}}else if(c.$isSchemaMap){if(a>=o.length)return c;if(a+1>=o.length||c.$__schemaType instanceof Fo.Mixed)return c.$__schemaType;if(c.$__schemaType.schema!=null)return s(o.slice(a+1),c.$__schemaType.schema)}return c.$fullPath=n.join("."),c}}let i=t.split(".");for(let o=0;o<i.length;++o)(i[o]==="$"||rA(i[o]))&&(i[o]="0"),_ne.test(i[o])&&(i[o]="$");return s(i,e)};J.prototype._getPathType=function(t){let e=this;if(e.path(t))return"real";function n(s,i){let o=s.length+1,u,a;for(;o--;){if(a=s.slice(0,o).join("."),u=i.path(a),u)return u.caster?u.caster instanceof Fo.Mixed?{schema:u,pathType:"mixed"}:o!==s.length&&u.schema?s[o]==="$"||rA(s[o])?o===s.length-1?{schema:u,pathType:"nested"}:n(s.slice(o+1),u.schema):n(s.slice(o),u.schema):{schema:u,pathType:u.$isSingleNested?"nested":"array"}:{schema:u,pathType:"real"};if(o===s.length&&i.nested[a])return{schema:i,pathType:"nested"}}return{schema:u||i,pathType:"undefined"}}return n(t.split("."),e)};function rA(t){return t.startsWith("$[")&&t.endsWith("]")}J.prototype._preCompile=function(){this.plugin(lne,{deduplicate:!0})};eN.exports=nA=J;J.Types=Fo=Il();nA.ObjectId=Fo.ObjectId});var rN=y((rde,tN)=>{"use strict";var bne=ut(),Mm=class extends bne{constructor(e,r){super(e),this.errors=r}};Object.defineProperty(Mm.prototype,"name",{value:"SyncIndexesError"});tN.exports=Mm});var sA=y((nde,nN)=>{"use strict";nN.exports=function t(e,r,n,s){if(e[s])return;if(e[s]=!0,!n||!n.skipTopLevel){let a=null;for(let c of r){let l=c[1]==null?null:c[1].tags;if(!Array.isArray(l)){e.plugin(c[0],c[1]);continue}a=a||new Set(e.options.pluginTags||[]),l.find(f=>a.has(f))&&e.plugin(c[0],c[1])}}if(n=Object.assign({},n),delete n.skipTopLevel,n.applyPluginsToChildSchemas!==!1)for(let a of Object.keys(e.paths)){let c=e.paths[a];c.schema!=null&&(t(c.schema,r,n,s),c.caster.prototype.$__setSchema(c.schema))}let i=e.discriminators;if(i==null)return;let o=n.applyPluginsToDiscriminators,u=Object.keys(i);for(let a of u){let c=i[a];t(c,r,{skipTopLevel:!o},s)}}});var iN=y((sde,sN)=>{"use strict";var Dne=ut(),Bm=class extends Dne{constructor(e,r){super(e),this.errors=r}};Object.defineProperty(Bm.prototype,"name",{value:"CreateCollectionsError"});sN.exports=Bm});var cN=y((ide,aN)=>{"use strict";var Tne=JE(),iA=require("events").EventEmitter,Mne=Mc(),rt=Vu(),an=Je(),Bne=i4(),Pne=rN(),Fne=sA(),Nne=_t(),$ne=yf(),Ine=pt(),oN=fn(),oA=ae(),Rne=iN(),xne=ee().arrayAtomicsSymbol,Kl=ee().sessionNewDocuments,vne=["MONGODB-X509"];function se(t){this.base=t,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=rt,this._readyState=rt.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof t>"u"||!t.connections.length?this.id=0:this.id=t.nextConnectionId,this._queue=[]}Object.setPrototypeOf(se.prototype,iA.prototype);Object.defineProperty(se.prototype,"readyState",{get:function(){return this._readyState},set:function(t){if(!(t in rt))throw new Error("Invalid connection state: "+t);if(this._readyState!==t){this._readyState=t;for(let e of this.otherDbs)e.readyState=t;rt.connected===t&&(this._hasOpened=!0),this.emit(rt[t])}}});se.prototype.get=function(t){return this.config.hasOwnProperty(t)?this.config[t]:Ine(this.options,t)};se.prototype.set=function(t,e){return this.config.hasOwnProperty(t)?(this.config[t]=e,e):(this.options=this.options||{},this.options[t]=e,e)};se.prototype.collections;se.prototype.name;se.prototype.models;se.prototype.id;Object.defineProperty(se.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(se.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(se.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(se.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(se.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});se.prototype.db;se.prototype.client;se.prototype.config;se.prototype.createCollection=async function(e,r){if(typeof r=="function"||arguments.length>=3&&typeof arguments[2]=="function")throw new an("Connection.prototype.createCollection() no longer accepts a callback");return(this.readyState===rt.connecting||this.readyState===rt.disconnected)&&this._shouldBufferCommands()&&await new Promise(n=>{this._queue.push({fn:n})}),this.db.createCollection(e,r)};se.prototype.createCollections=async function(e={}){let r={},n={},{continueOnError:s}=e;delete e.continueOnError;for(let i of Object.values(this.models))try{r[i.modelName]=await i.createCollection({})}catch(o){if(s)r[i.modelName]=o;else{n[i.modelName]=o;break}}if(!s&&Object.keys(n).length){let i=Object.entries(n).map(([u,a])=>`${u}: ${a.message}`).join(", ");throw new Rne(i,n)}return r};se.prototype.withSession=async function(e){if(arguments.length===0)throw new Error("Please provide an executor function");return await this.client.withSession(e)};se.prototype.startSession=async function(e){if(arguments.length>=2&&typeof arguments[1]=="function")throw new an("Connection.prototype.startSession() no longer accepts a callback");return(this.readyState===rt.connecting||this.readyState===rt.disconnected)&&this._shouldBufferCommands()&&await new Promise(n=>{this._queue.push({fn:n})}),this.client.startSession(e)};se.prototype.transaction=function(e,r){return this.startSession().then(n=>(n[Kl]=new Map,n.withTransaction(()=>kne(e,n),r).then(s=>(delete n[Kl],s)).catch(s=>{throw delete n[Kl],s}).finally(()=>{n.endSession().catch(()=>{})})))};async function kne(t,e){try{return await t(e)}catch(r){throw qne(e),r}}function qne(t){for(let e of t[Kl].keys()){let r=t[Kl].get(e);r.hasOwnProperty("isNew")&&(e.$isNew=r.isNew),r.hasOwnProperty("versionKey")&&e.set(e.schema.options.versionKey,r.versionKey),r.modifiedPaths.length>0&&e.$__.activePaths.states.modify==null&&(e.$__.activePaths.states.modify={});for(let n of r.modifiedPaths){let s=e.$__.activePaths.paths[n];s!=null&&delete e.$__.activePaths[s][n],e.$__.activePaths.paths[n]="modify",e.$__.activePaths.states.modify[n]=!0}for(let n of r.atomics.keys()){let s=e.$__getValue(n);s!=null&&(s[xne]=r.atomics.get(n))}}}se.prototype.dropCollection=async function(e){if(arguments.length>=2&&typeof arguments[1]=="function")throw new an("Connection.prototype.dropCollection() no longer accepts a callback");return(this.readyState===rt.connecting||this.readyState===rt.disconnected)&&this._shouldBufferCommands()&&await new Promise(r=>{this._queue.push({fn:r})}),this.db.dropCollection(e)};se.prototype.listCollections=async function(){return(this.readyState===rt.connecting||this.readyState===rt.disconnected)&&this._shouldBufferCommands()&&await new Promise(r=>{this._queue.push({fn:r})}),await this.db.listCollections().toArray()};se.prototype.dropDatabase=async function(){if(arguments.length>=1&&typeof arguments[0]=="function")throw new an("Connection.prototype.dropDatabase() no longer accepts a callback");(this.readyState===rt.connecting||this.readyState===rt.disconnected)&&this._shouldBufferCommands()&&await new Promise(e=>{this._queue.push({fn:e})});for(let e of Object.values(this.models))delete e.$init;return this.db.dropDatabase()};se.prototype._shouldBufferCommands=function(){return this.config.bufferCommands!=null?this.config.bufferCommands:this.base.get("bufferCommands")!=null?this.base.get("bufferCommands"):!0};se.prototype.error=function(t,e){return e?(e(t),null):(this.listeners("error").length>0&&this.emit("error",t),Promise.reject(t))};se.prototype.onOpen=function(){this.readyState=rt.connected;for(let t of this._queue)t.fn.apply(t.ctx,t.args);this._queue=[];for(let t in this.collections)oA.object.hasOwnProperty(this.collections,t)&&this.collections[t].onOpen();this.emit("open")};se.prototype.openUri=async function(e,r){if((this.readyState===rt.connecting||this.readyState===rt.connected)&&this._connectionString===e)return this;this._closeCalled=!1;let n=!1;r&&"_fireAndForget"in r&&(n=r._fireAndForget,delete r._fireAndForget);try{Lne.apply(arguments)}catch(s){throw n||(this.$initialConnection=Promise.reject(s)),s}this.$initialConnection=this.createClient(e,r).then(()=>this).catch(s=>{throw this.readyState=rt.disconnected,this.listeners("error").length>0&&oN(()=>this.emit("error",s)),s});for(let s of Object.values(this.models))s.init().catch(function(){});if(n)return this;try{await this.$initialConnection}catch(s){throw uN(s)}return this};se.prototype.on=function(e,r){return e==="error"&&this.$initialConnection&&this.$initialConnection.catch(()=>{}),iA.prototype.on.call(this,e,r)};se.prototype.once=function(e,r){return e==="error"&&this.$initialConnection&&this.$initialConnection.catch(()=>{}),iA.prototype.once.call(this,e,r)};function Lne(t,e,r){if(typeof e=="function"&&r==null)throw new an("Connection.prototype.openUri() no longer accepts a callback");if(typeof r=="function")throw new an("Connection.prototype.openUri() no longer accepts a callback")}function uN(t){if(t?.name==="MongoServerSelectionError"){let e=t;t=new Bne,t.assimilateError(e)}return t}se.prototype.destroy=async function(e){if(typeof e=="function"||arguments.length===2&&typeof arguments[1]=="function")throw new an("Connection.prototype.destroy() no longer accepts a callback");return e!=null&&typeof e=="object"?this.$wasForceClosed=!!e.force:this.$wasForceClosed=!!e,this._close(e,!0)};se.prototype.close=async function(e){if(typeof e=="function"||arguments.length===2&&typeof arguments[1]=="function")throw new an("Connection.prototype.close() no longer accepts a callback");e!=null&&typeof e=="object"?this.$wasForceClosed=!!e.force:this.$wasForceClosed=!!e;for(let r of Object.values(this.models))delete r.$init;return this._close(e,!1)};se.prototype._close=async function(e,r){let n=this,s=this._closeCalled;this._closeCalled=!0,this._destroyCalled=r,this.client!=null&&(this.client._closeCalled=!0,this.client._destroyCalled=r);let i=this;switch(this.readyState){case rt.disconnected:r&&this.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),s||(await this.doClose(e),this.onClose(e));break;case rt.connected:this.readyState=rt.disconnecting,await this.doClose(e),r&&n.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),this.onClose(e);break;case rt.connecting:return new Promise((o,u)=>{let a=()=>{this.removeListener("open",a),this.removeListener("error",a),r?this.destroy(e).then(o,u):this.close(e).then(o,u)};this.once("open",a),this.once("error",a)});case rt.disconnecting:return new Promise(o=>{this.once("close",()=>{r&&this.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),o()})})}return this};se.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};se.prototype.onClose=function(t){this.readyState=rt.disconnected;for(let e in this.collections)oA.object.hasOwnProperty(this.collections,e)&&this.collections[e].onClose(t);this.emit("close",t);for(let e of this.otherDbs)this._destroyCalled?e.destroy({force:t,skipCloseClient:!0}):e.close({force:t,skipCloseClient:!0})};se.prototype.collection=function(t,e){let r={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate,autoSearchIndex:this.config.autoSearchIndex!=null?this.config.autoSearchIndex:this.base.options.autoSearchIndex};e=Object.assign({},r,e?Nne(e):{}),e.$wasForceClosed=this.$wasForceClosed;let n=this.base&&this.base.__driver&&this.base.__driver.Collection||$ne.get().Collection;return t in this.collections||(this.collections[t]=new n(t,this,e)),this.collections[t]};se.prototype.plugin=function(t,e){return this.plugins.push([t,e]),this};se.prototype.model=function(t,e,r,n){if(!(this instanceof se))throw new an("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let s;if(typeof t=="function"&&(s=t,t=s.name),typeof e=="string"&&(r=e,e=!1),oA.isObject(e)&&(e.instanceOfSchema?e instanceof this.base.Schema||(e=e._clone(this.base.Schema)):e=new Mne(e)),e&&!e.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");let i={cache:!1,overwriteModels:this.base.options.overwriteModels},o=Object.assign(i,n,{connection:this});if(this.models[t]&&!r&&o.overwriteModels!==!0){if(e&&e.instanceOfSchema&&e!==this.models[t].schema)throw new an.OverwriteModelError(t);return this.models[t]}let u;if(e&&e.instanceOfSchema)return Fne(e,this.plugins,null,"$connectionPluginsApplied"),u=this.base._model(s||t,e,r,o),this.models[t]||(this.models[t]=u),u.init().catch(function(){}),u;if(this.models[t]&&r)return u=this.models[t],e=u.prototype.schema,u.__subclass(this,e,r);if(arguments.length===1){if(u=this.models[t],!u)throw new an.MissingSchemaError(t);return u}if(!u)throw new an.MissingSchemaError(t);return this===u.prototype.db&&(!r||r===u.collection.name)?(this.models[t]||(this.models[t]=u),u):(this.models[t]=u.__subclass(this,e,r),this.models[t])};se.prototype.deleteModel=function(t){if(typeof t=="string"){let e=this.model(t);if(e==null)return this;let r=e.collection.name;delete this.models[t],delete this.collections[r],this.emit("deleteModel",e)}else if(t instanceof RegExp){let e=t,r=this.modelNames();for(let n of r)e.test(n)&&this.deleteModel(n)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+t+'"');return this};se.prototype.watch=function(t,e){let r=s=>{oN(()=>{if(this.readyState===rt.connecting)this.once("open",function(){let i=this.db.watch(t,e);s(null,i)});else{let i=this.db.watch(t,e);s(null,i)}})};return new Tne(r,t,e)};se.prototype.asPromise=async function(){try{return await this.$initialConnection,this}catch(e){throw uN(e)}};se.prototype.modelNames=function(){return Object.keys(this.models)};se.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};se.prototype.authMechanismDoesNotRequirePassword=function(){return this.options&&this.options.auth?vne.indexOf(this.options.auth.authMechanism)>=0:!0};se.prototype.optionsProvideAuthenticationData=function(t){return t&&t.user&&(t.pass||this.authMechanismDoesNotRequirePassword())};se.prototype.getClient=function(){return this.client};se.prototype.setClient=function(){throw new an("Connection#setClient not implemented by driver")};se.prototype.createClient=function(){throw new an("Connection#createClient not implemented by driver")};se.prototype.syncIndexes=async function(e={}){let r={},n={},{continueOnError:s}=e;delete e.continueOnError;for(let i of Object.values(this.models))try{r[i.modelName]=await i.syncIndexes(e)}catch(o){if(s)r[i.modelName]=o;else{n[i.modelName]=o;break}}if(!s&&Object.keys(n).length){let i=Object.entries(n).map(([u,a])=>`${u}: ${a.message}`).join(", ");throw new Pne(i,n)}return r};se.STATES=rt;aN.exports=se});var uA=y((ode,jne)=>{jne.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"8.3.3",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^6.5.0",kareem:"2.6.3",mongodb:"6.5.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.24.3","@babel/preset-env":"7.24.3","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.4.5",dox:"1.0.0",eslint:"8.57.0","eslint-plugin-markdown":"^4.0.1","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.2.0","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.12.1",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.4.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"17.0.1","stream-browserify":"3.0.0",tsd:"0.31.0",typescript:"5.4.3",uuid:"9.0.1",webpack:"5.91.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:generate":"node ./scripts/website.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:test":"npm run docs:generate","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"git checkout gh-pages && git merge master && npm run docs:generate","docs:prepare:publish:5x":"git checkout 5.x && git merge 5.x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && git checkout gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"git checkout 6.x && git merge 6.x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && mv ./docs/6.x ./tmp && git checkout gh-pages && npm run docs:copy:tmp:6x","docs:prepare:publish:7x":"env DOCS_DEPLOY=true npm run docs:generate && git checkout gh-pages && rimraf ./docs/7.x && mv ./tmp ./docs/7.x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":'markdownlint-cli2 "**/*.md"',"build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag 6x",mongo:"node ./tools/repl.js","publish-7x":"npm publish --tag 7x",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=16.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var fN=y((ude,lN)=>{"use strict";var Une=_t(),Vne=Je();function zne(t,e){let r=e||{},n=r.readPreference?r.readPreference:Kne(t),s=Une(r);return n&&n!=="primary"&&n!=="primaryPreferred"?Wne(n,s):s}function Wne(t,e){if(Gne(e)&&Hne(t))Qne();else return Yne(e)}function Gne(t){let e=t.config&&t.config.autoIndex,{autoCreate:r,autoIndex:n}=t;return!!(e||r||n)}function Hne(t){return t==="secondary"||t==="secondaryPreferred"}function Kne(t){let r=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(t);return r?r[1]:null}function Yne(t){return t.config={autoIndex:!1},t.autoCreate=!1,t.autoIndex=!1,t}function Qne(){throw new Vne('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')}lN.exports=zne});var dN=y(hN=>{"use strict";hN.setTimeout=setTimeout});var EN=y((cde,gN)=>{"use strict";var pN=cN(),ku=Je(),cn=Vu(),mN=Kp(),Jne=uA(),Xne=fN(),Zne=dN().setTimeout,yN=ae();function No(){pN.apply(this,arguments),this._listening=!1}No.STATES=cn;Object.setPrototypeOf(No.prototype,pN.prototype);No.prototype.useDb=function(t,e){if(e=e||{},e.useCache&&this.relatedDbs[t])return this.relatedDbs[t];let r=new this.constructor;r.name=t,r.base=this.base,r.collections={},r.models={},r.replica=this.replica,r.config=Object.assign({},this.config,r.config),r.name=this.name,r.options=this.options,r._readyState=this._readyState,r._closeCalled=this._closeCalled,r._hasOpened=this._hasOpened,r._listening=!1,r._parent=this,r.host=this.host,r.port=this.port,r.user=this.user,r.pass=this.pass;let n=this;r.client=n.client,this.db&&this._readyState===cn.connected?s():this.once("connected",s);function s(){r.client=n.client;let i={};e.hasOwnProperty("noListener")&&(i.noListener=e.noListener),r.db=n.client.db(t,i),r.onOpen()}return r.name=t,e.noListener!==!0&&this.otherDbs.push(r),r.otherDbs.push(this),e&&e.useCache&&(this.relatedDbs[r.name]=r,r.relatedDbs=this.relatedDbs),r};No.prototype.removeDb=function(e){let r=this.otherDbs.filter(n=>n.name===e);if(!r.length)throw new ku(`No connections to database "${e}" found`);for(let n of r)n._closeCalled=!0,n._destroyCalled=!0,n._readyState=cn.disconnected,n.$wasForceClosed=!0;delete this.relatedDbs[e],this.otherDbs=this.otherDbs.filter(n=>n.name!==e)};No.prototype.doClose=async function(e){if(this.client==null)return this;let r=!1;return e!=null&&typeof e=="object"&&(r=e.skipCloseClient,e=e.force),r?this:(await this.client.close(e),await new Promise(n=>Zne(n,1)),this)};No.prototype.createClient=async function(e,r){if(typeof e!="string")throw new ku(`The \`uri\` parameter to \`openUri()\` must be a string, got "${typeof e}". Make sure the first parameter to \`mongoose.connect()\` or \`mongoose.createConnection()\` is a string.`);if(this._destroyCalled)throw new ku("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if((this.readyState===cn.connecting||this.readyState===cn.connected)&&this._connectionString!==e)throw new ku("Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections");if(r=Xne(e,r),r){let i=r.config&&r.config.autoIndex!=null?r.config.autoIndex:r.autoIndex;i!=null&&(this.config.autoIndex=i!==!1,delete r.config,delete r.autoIndex),"autoCreate"in r&&(this.config.autoCreate=!!r.autoCreate,delete r.autoCreate),"sanitizeFilter"in r&&(this.config.sanitizeFilter=r.sanitizeFilter,delete r.sanitizeFilter),"autoSearchIndex"in r&&(this.config.autoSearchIndex=r.autoSearchIndex,delete r.autoSearchIndex),(r.user||r.pass)&&(r.auth=r.auth||{},r.auth.username=r.user,r.auth.password=r.pass,this.user=r.user,this.pass=r.pass),delete r.user,delete r.pass,r.bufferCommands!=null&&(this.config.bufferCommands=r.bufferCommands,delete r.bufferCommands)}else r={};this._connectionOptions=r;let n=r.dbName;n!=null&&(this.$dbName=n),delete r.dbName,yN.hasUserDefinedProperty(r,"driverInfo")||(r.driverInfo={name:"Mongoose",version:Jne.version}),this.readyState=cn.connecting,this._connectionString=e;let s;try{s=new mN.MongoClient(e,r)}catch(i){throw this.readyState=cn.disconnected,i}this.client=s,s.setMaxListeners(0),await s.connect(),aA(this,s,r,n);for(let i of this.otherDbs)aA(i,s,{},i.name);return this};No.prototype.setClient=function(e){if(!(e instanceof mN.MongoClient))throw new ku("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==cn.disconnected)throw new ku("Cannot call `setClient()` on a connection that is already connected.");if(e.topology==null)throw new ku("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=e.s.url,aA(this,e,{},e.s.options.dbName);for(let r of Object.values(this.models))r.init().catch(function(){});return this};function aA(t,e,r,n){let s=n!=null?e.db(n):e.db();t.db=s,t.client=e,t.host=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].host||void 0,t.port=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].port||void 0,t.name=n??s.databaseName,t._closeCalled=e._closeCalled;let i=()=>{t.readyState!==cn.connected&&(t.readyState=cn.connected,t.emit("reconnect"),t.emit("reconnected"),t.onOpen())},o=e&&e.topology&&e.topology.description&&e.topology.description.type||"";o==="Single"?e.on("serverDescriptionChanged",u=>{u.newDescription.type==="Unknown"?t.readyState=cn.disconnected:i()}):o.startsWith("ReplicaSet")&&e.on("topologyDescriptionChanged",u=>{let a=u.newDescription;t.readyState===cn.connected&&a.type!=="ReplicaSetWithPrimary"?t.readyState=cn.disconnected:t.readyState===cn.disconnected&&a.type==="ReplicaSetWithPrimary"&&i()}),t.onOpen();for(let u in t.collections)yN.object.hasOwnProperty(t.collections,u)&&t.collections[u].onOpen()}gN.exports=No});var _N=y(cA=>{"use strict";cA.Collection=Nb();cA.Connection=EN()});var ON=y((fde,AN)=>{"use strict";var ese=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","autoSearchIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);AN.exports=ese});var SN=y((hde,CN)=>{"use strict";var tse=Je(),Pm=class extends tse{constructor(e){let r=e.map(n=>n.message).join(", ");r.length>50&&(r=r.slice(0,50)+"..."),super(`eachAsync() finished with ${e.length} errors: ${r}`),this.errors=e}};Object.defineProperty(Pm.prototype,"name",{value:"EachAsyncMultiError"});CN.exports=Pm});var fA=y((dde,bN)=>{"use strict";var rse=SN(),lA=fn();bN.exports=async function(e,r,n){let s=n.parallel||1,i=n.batchSize,o=n.signal,u=n.continueOnError,a=[],c=nse(),l=!1;return new Promise((d,p)=>{if(o!=null){if(o.aborted)return d(null);o.addEventListener("abort",()=>(l=!0,d(null)),{once:!0})}if(i!=null){if(typeof i!="number")throw new TypeError("batchSize must be a number");if(Number.isInteger(i)){if(i<1)throw new TypeError("batchSize must be at least 1")}else throw new TypeError("batchSize must be an integer")}f((m,g)=>{if(m!=null)return p(m);d(g)})});function f(d){let p=0,m=0,g=null;for(let _=0;_<s;++_)c(E());function E(){let _=[],A=!1;return C;function C(x){if(A||l)return x();if(g)return x();e(function(F,T){if(g!=null)return x();if(F!=null)if(F.name==="MongoCursorExhaustedError")T=null;else if(u)a.push(F);else return g=F,d(F),x();if(T==null){if(A=!0,p<=0){let R=u?wN(a):g;d(R)}else i&&_.length&&h(_,m++,z);return x()}if(++p,lA(()=>x()),i&&_.push(T),i&&_.length!==i){lA(()=>c(C));return}let V=i?_:T;function z(R){if(i?(p-=_.length,_=[]):--p,R!=null)if(u)a.push(R);else return g=R,d(R);if((A||l)&&p<=0){let M=u?wN(a):g;return d(M)}lA(()=>c(C))}h(V,m++,z)})}}}function h(d,p,m){let g;try{g=r(d,p)}catch(E){return m(E)}g&&typeof g.then=="function"?g.then(function(){m(null)},function(E){m(E||new Error("`eachAsync()` promise rejected without error"))}):m(null)}};function nse(){let t=[],e=null,r=0;return function(i){if(e===null&&t.length===0)return e=r++,i(n);t.push(i)};function n(){t.length!==0?(e=r++,t.shift()(n)):e=null}}function wN(t){return t.length===0?null:new rse(t)}});var IN=y((pde,$N)=>{"use strict";var Nm=ut(),BN=require("stream").Readable,sse=fA(),PN=wl(),ise=mc(),hA=fn(),FN=require("util");function ln(t){BN.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=t;let e=t.model;this._mongooseOptions={},this._transforms=[],this.model=e,this.options={},e.hooks.execPre("find",t,r=>{if(r!=null){if(r instanceof ise.skipWrappedFunction){let n=r.args[0];if(n!=null&&(!Array.isArray(n)||n.length)){let s=new Nm('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+FN.inspect(n)+'".');this._markError(s),this.listeners("error").length>0&&this.emit("error",s);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(r),this.listeners("error").length>0&&this.emit("error",r);return}Object.assign(this.options,t._optionsForExec()),this._transforms=this._transforms.concat(t._transforms.slice()),this.options.transform&&this._transforms.push(this.options.transform),this.options.batchSize&&(this.options._populateBatchSize=Math.min(this.options.batchSize,5e3)),e.collection._shouldBufferCommands()&&e.collection.buffer?e.collection.queue.push([()=>DN(t,this)]):DN(t,this)})}FN.inherits(ln,BN);function DN(t,e){try{let r=t.model.collection.find(t._conditions,e.options);e.cursor=r,e.emit("cursor",r)}catch(r){e._markError(r),e.listeners("error").length>0&&e.emit("error",e._error)}}ln.prototype._read=function(){$m(this,(t,e)=>{if(t)return this.emit("error",t);if(!e){this.push(null),this.cursor.close(function(r){if(r)return this.emit("error",r)});return}this.push(e)})};Object.defineProperty(ln.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});ln.prototype._markError=function(t){return this._error=t,this};ln.prototype.close=async function(){if(typeof arguments[0]=="function")throw new Nm("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(e){throw this.listeners("error").length>0&&this.emit("error",e),e}};ln.prototype.rewind=function(){return NN(this,()=>{this.cursor.rewind()}),this};ln.prototype.next=async function(){if(typeof arguments[0]=="function")throw new Nm("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((e,r)=>{$m(this,function(n,s){if(n)return r(n);e(s)})})};ln.prototype.eachAsync=function(t,e){if(typeof arguments[2]=="function")throw new Nm("QueryCursor.prototype.eachAsync() no longer accepts a callback");return typeof e=="function"&&(e={}),e=e||{},sse(r=>$m(this,r),t,e)};ln.prototype.options;ln.prototype.addCursorFlag=function(t,e){return NN(this,()=>{this.cursor.addCursorFlag(t,e)}),this};ln.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};ln.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(TN)===-1&&this.map(TN),this};Symbol.asyncIterator!=null&&(ln.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});function TN(t){return t==null?{done:!0}:{value:t,done:!1}}function $m(t,e){let r=e;if(t._transforms.length&&(r=function(n,s){if(n||s===null&&!t._mongooseOptions.transformNull)return e(n,s);e(n,t._transforms.reduce(function(i,o){return o.call(t,i)},s))}),t._error)return hA(function(){r(t._error)});if(t.skipped)return hA(()=>r(null,null));if(t.cursor)if(t.query._mongooseOptions.populate&&!t._pop&&(t._pop=PN.preparePopulationOptionsMQ(t.query,t.query._mongooseOptions),t._pop.__noPromise=!0),t.query._mongooseOptions.populate&&t.options._populateBatchSize>1){if(t._batchDocs&&t._batchDocs.length)return Fm(t,t._batchDocs.shift(),t._pop,r);if(t._batchExhausted)return r(null,null);t._batchDocs=[],t.cursor.next().then(n=>{Uc.call({ctx:t,callback:r},null,n)},n=>{Uc.call({ctx:t,callback:r},n)});return}else return t.cursor.next().then(n=>{if(!n){r(null,null);return}if(!t.query._mongooseOptions.populate)return Fm(t,n,null,r);t.query.model.populate(n,t._pop).then(s=>{Fm(t,s,t._pop,r)},s=>{r(s)})},n=>{r(n)});else t.once("error",e),t.once("cursor",function(n){if(t.removeListener("error",e),n==null)return t.skipped?e(null,null):void 0;$m(t,e)})}function Uc(t,e){if(t)return this.callback(t);if(!e)return this.ctx._batchExhausted=!0,MN.call(this);if(this.ctx._batchDocs.push(e),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1e3===0)return hA(()=>this.ctx.cursor.next().then(r=>{Uc.call(this,null,r)},r=>{Uc.call(this,r)}));this.ctx.cursor.next().then(r=>{Uc.call(this,null,r)},r=>{Uc.call(this,r)})}else MN.call(this)}function MN(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{Fm(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},t=>{this.callback(t)})}function Fm(t,e,r,n){if(t.query._mongooseOptions.lean)return t.model.hooks.execPost("find",t.query,[[e]],a=>{if(a!=null)return n(a);n(null,e)});let{model:s,_fields:i,_userProvidedFields:o,options:u}=t.query;PN.createModelAndInit(s,e,i,o,u,r,(a,c)=>{if(a!=null)return n(a);t.model.hooks.execPost("find",t.query,[[c]],l=>{if(l!=null)return n(l);n(null,c)})})}function NN(t,e){if(t.cursor)return e();t.once("cursor",function(r){r!=null&&e()})}$N.exports=ln});var pA=y((mde,xN)=>{"use strict";var dA=ae();function ose(t,e,r){RN(t,e,r,"maxTimeMS")}function use(t,e,r){RN(t,e,r,"allowDiskUse")}xN.exports={applyGlobalMaxTimeMS:ose,applyGlobalDiskUse:use};function RN(t,e,r,n){dA.hasUserDefinedProperty(t,n)||(dA.hasUserDefinedProperty(e,n)?t[n]=e[n]:dA.hasUserDefinedProperty(r,n)&&(t[n]=r[n]))}});var mA=y((yde,vN)=>{"use strict";var ase=pt();vN.exports=function(e,r){if(r.writeConcern!=null||r&&r.session&&r.session.transaction)return;let n=ase(e,"options.writeConcern",{});Object.keys(n).length!=0?(r.writeConcern={},!("w"in r)&&n.w!=null&&(r.writeConcern.w=n.w),!("j"in r)&&n.j!=null&&(r.writeConcern.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.writeConcern.wtimeout=n.wtimeout)):(!("w"in r)&&n.w!=null&&(r.w=n.w),!("j"in r)&&n.j!=null&&(r.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.wtimeout=n.wtimeout))}});var LN=y((gde,qN)=>{"use strict";var kN=Q0();qN.exports=function(e,r,n){if(!Object.keys(n).some(kN))return r.castForQuery(null,n,e);let i=Object.keys(n),o=i.length;for(;o--;){let u=i[o],a=n[u];if(u==="$not"){if(a&&r&&!r.caster){let c=Object.keys(a);if(c.length&&kN(c[0]))for(let l of Object.keys(a))a[l]=r.castForQuery(l,a[l],e);else n[u]=r.castForQuery(u,a,e);continue}}else n[u]=r.castForQuery(u,a,e)}return n}});var UN=y((Ede,jN)=>{"use strict";var cse=/^\d+$/;jN.exports=function(e,r){let n=e.path(r);if(n!=null)return n;let s=r.split("."),i="",o=!1;for(let u of s)o&&cse.test(u)||(i=i.length===0?u:i+"."+u,n=e.path(i),n!=null&&n.schema&&(e=n.schema,i="",!o&&n.$isMongooseDocumentArray&&(o=!0)));return n}});var yA=y((_de,zN)=>{"use strict";var VN=Sc().modifiedPaths;zN.exports=function(e){let r=Object.keys(e),n={},s={};for(let i of r){if(i.startsWith("$")){VN(e[i],"",n);continue}s[i]=e[i]}return VN(s,"",n),n}});var gA=y((Ade,WN)=>{"use strict";var lse=yA();WN.exports=function(e){if(e==null)return{};let r=lse(e);return Object.keys(r).reduce((n,s)=>{let i=s.match(/\$\[[^\]]+\]/g);if(i==null)return n;for(let o of i){let u=s.indexOf(o);if(u!==s.lastIndexOf(o))throw new Error(`Path '${s}' contains the same array filter multiple times`);n[o.substring(2,o.length-1)]=s.substring(0,u-1).replace(/\$\[[^\]]+\]/g,"0")}return n},{})}});var QN=y((Ode,YN)=>{"use strict";var fse=LN(),GN=Bl(),HN=UN(),hse=gA();YN.exports=function(e){let r=e.options.arrayFilters,n=e.getUpdate(),s=e.schema,i=hse(n),o=s.options.strict;e._mongooseOptions.strict!=null&&(o=e._mongooseOptions.strict),e.model&&e.model.base.options.strictQuery!=null&&(o=e.model.base.options.strictQuery),s._userProvidedOptions.strictQuery!=null&&(o=s._userProvidedOptions.strictQuery),e._mongooseOptions.strictQuery!=null&&(o=e._mongooseOptions.strictQuery),KN(r,s,o,i,e)};function KN(t,e,r,n,s){if(Array.isArray(t))for(let i of t){if(i==null)throw new Error(`Got null array filter in ${t}`);let o=Object.keys(i).filter(d=>i[d]!=null);if(o.length===0)continue;let u=o[0];if(u==="$and"||u==="$or"){for(let d of o)KN(i[d],e,r,n,s);continue}let a=u.indexOf("."),c=a===-1?u:u.substring(0,a);if(n[c]==null)continue;let l=GN(n[c]),f=HN(e,l),h=f!=null?f.schema:null;h!=null&&h.discriminators!=null&&i[c+"."+h.options.discriminatorKey]&&(h=h.discriminators[i[c+"."+h.options.discriminatorKey]]||h);for(let d of o){if(n[d]===null||Object.keys(n).length===0)continue;let p=d.indexOf("."),m=p===-1?null:d.substring(p),g;if(m==null||h==null?g=f:(m=GN(m),g=HN(h,m)),g==null){if(!r)return;let E=m==null?l+".0":l+".0"+m;throw new Error(`Could not find path "${E}" in schema`)}typeof i[d]=="object"?i[d]=fse(s,g,i[d]):i[d]=g.castForQuery(null,i[d])}}}});var ZN=y((Cde,XN)=>{"use strict";var dse=Bl(),JN=pt(),pse=Ps(),mse=gA();XN.exports=function(e,r,n,s,i){let o=s.split("."),u=null,a="adhocOrUndefined";n=n||{},r=r||{};let c=i!=null&&Array.isArray(i.arrayFilters)?i.arrayFilters:[],l=mse(r);for(let f=0;f<o.length;++f){let h=dse(o.slice(0,f+1).join("."));if(u=e.path(h),u!=null&&(a=e.pathType(h),(u.$isSingleNested||u.$isMongooseDocumentArrayElement)&&u.schema.discriminators!=null)){let d=JN(u,"schema.options.discriminatorKey"),p=h+"."+d,m=p.replace(/\.\d+\./,"."),g=null;p in n&&(g=n[p]),m in n&&(g=n[m]);let E=h.replace(/\.\d+$/,"");u.$isMongooseDocumentArrayElement&&JN(n[E],"$elemMatch."+d)!=null&&(g=n[E].$elemMatch[d]),p in r&&(g=r[p]);for(let x of Object.keys(l)){let F=l[x]+"."+d,T=x+"."+d;if(F===m){let V=c.find(z=>z.hasOwnProperty(T));V!=null&&(g=V[T])}}if(g==null)continue;let _=pse(u.caster.discriminators,g),A=_&&_.schema;if(A==null)continue;let C=o.slice(f+1).join(".");if(u=A.path(C),u!=null){a=A._getPathType(C);break}}}return{type:a,schematype:u}}});var t$=y((Sde,e$)=>{"use strict";var yse=So();e$.exports=function(e,r,n,s,i,o){if(e==null||!e.options||!e.options.immutable)return!1;let u=e.options.immutable;if(typeof u=="function"&&(u=u.call(o,o)),!u||r===!1)return!1;if(r==="throw")throw new yse(null,`Field ${i} is immutable and strict = 'throw'`);return delete n[s],!0}});var s$=y((wde,n$)=>{"use strict";var gse=pt();n$.exports=function(e,r,n){if(r==null)return;let s=Object.keys(r);for(let i of s){let o=i.startsWith("$");if(i==="$set"){let u=Object.keys(r[i]);for(let a of u)r$(e,r[i],a,r,n)}else o||r$(e,r,i,r,n)}};function r$(t,e,r,n,s){let i=t.path(r);if(i==null)return;let o=gse(i,"options.immutable",null);o!=null&&(typeof o=="function"&&(o=o.call(s,s)),o&&(n.$setOnInsert=n.$setOnInsert||{},n.$setOnInsert[r]=e[r],delete e[r]))}});var _A=y((bde,i$)=>{"use strict";var EA=Su();i$.exports=function(e,r,n){if(r.indexOf(".")===-1){if(EA.has(r))return;e[r]=n;return}let s=r.split("."),i=s.pop(),o=e;for(let u of s)EA.has(u)||(o[u]==null&&(o[u]={}),o=o[u]);EA.has(i)||(o[i]=n)}});var bA=y((Dde,d$)=>{"use strict";var AA=Nr(),Yl=ut(),o$=So(),Ese=wu(),OA=Nl(),_se=$c(),Ase=Jr(),u$=ZN(),a$=t$(),Ose=s$(),f$=Du().schemaMixedSymbol,Cse=_A(),wA=ae(),{internalToObjectOptions:Sse}=bs(),CA=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);d$.exports=function(e,r,n,s,i){if(r==null)return;if(n=n||{},Array.isArray(r)){let f=r.length;for(let h=0;h<f;++h){let d=Object.keys(r[h]);for(let p of d)r[h][p]=wse(p,r[h][p])}return r}n.upsert&&Ose(e,r,s);let o=Object.keys(r),u=o.length,a={},c,l=!1;for(i=i||{};u--;){let f=o[u];CA.has(f)?f==="$set"&&a.$set||(a[f]=r[f]):(a.$set||(r.$set?a.$set=r.$set:a.$set={}),a.$set[f]=r[f],o.splice(u,1),~o.indexOf("$set")||o.push("$set"))}for(u=o.length;u--;){let f=o[u];if(c=a[f],l=l||f.startsWith("$"),c!=null&&c.$__&&(c=c.toObject(Sse),a[f]=c),c&&typeof c=="object"&&!Buffer.isBuffer(c)&&CA.has(f))h$(e,c,f,n,s,i);else{let h="Invalid atomic update value for "+f+". Expected an object, received "+typeof c;throw new Error(h)}f.startsWith("$")&&wA.isEmptyObject(c)&&delete a[f]}return Object.keys(a).length===0&&n.upsert&&Object.keys(i).length>0?{$setOnInsert:{...i}}:a};function wse(t,e){if(t==="$unset"){if(typeof e!="string"&&(!Array.isArray(e)||e.find(r=>typeof r!="string")))throw new Yl("Invalid $unset in pipeline, must be  a string or an array of strings");return e}if(t==="$project"){if(e==null||typeof e!="object")throw new Yl("Invalid $project in pipeline, must be an object");return e}if(t==="$addFields"||t==="$set"){if(e==null||typeof e!="object")throw new Yl("Invalid "+t+" in pipeline, must be an object");return e}else if(t==="$replaceRoot"||t==="$replaceWith"){if(e==null||typeof e!="object")throw new Yl("Invalid "+t+" in pipeline, must be an object");return e}throw new Yl('Invalid update pipeline operator: "'+t+'"')}function h$(t,e,r,n,s,i,o){let u=n.strict,a=o?o+".":"",c=Object.keys(e),l=c.length,f=!1,h,d,p,m=null,g=u??t.options.strict;for(;l--;){if(d=c[l],p=e[d],r==="$pull"&&(h=t._getSchema(a+d),h!=null&&h.schema!=null)){e[d]=_se(h.schema,e[d],n,s),f=!0;continue}let E=a?a+d:d;if(t.discriminatorMapping!=null&&E===t.options.discriminatorKey&&t.discriminatorMapping.value!==e[d]&&!n.overwriteDiscriminatorKey){if(g==="throw"){let _=new Error(`Can't modify discriminator key "`+E+'" on discriminator model');m=Vc(_,s,E,m);continue}else if(g){delete e[d];continue}}if(Ase(p)==="Object"){if(h=t._getSchema(a+d),h==null){let _=u$(t,e,i,a+d,n);_.schematype!=null&&(h=_.schematype)}if(r!=="$setOnInsert"&&a$(h,u,e,d,a+d,s))continue;if(h&&h.caster&&r in SA)if("$each"in p){f=!0;try{e[d]={$each:Ql(h,p.$each,r,d,s,a+d)}}catch(_){m=Vc(_,s,d,m)}p.$slice!=null&&(e[d].$slice=p.$slice|0),p.$sort&&(e[d].$sort=p.$sort),p.$position!=null&&(e[d].$position=OA(p.$position))}else{if(h!=null&&h.$isSingleNested){let _=u??h.schema.options.strict;try{e[d]=h.castForQuery(null,p,s,{strict:_})}catch(A){m=Vc(A,s,d,m)}}else try{e[d]=Ql(h,p,r,d,s,a+d)}catch(_){m=Vc(_,s,d,m)}if(e[d]===void 0){delete e[d];continue}f=!0}else if(r==="$currentDate"||r in SA&&h){try{e[d]=Ql(h,p,r,d,s,a+d)}catch(_){m=Vc(_,s,d,m)}if(e[d]===void 0){delete e[d];continue}f=!0}else{let _=a+d,A=t._getPathType(_),C=u;if(A&&A.schema&&C==null&&(C=A.schema.options.strict),A.pathType==="undefined"){if(C==="throw")throw new o$(_);if(C){delete e[d];continue}}f|=h$(t,p,r,n,s,i,a+d)||wA.isObject(p)&&Object.keys(p).length===0}}else{let _=d==="$each"||d==="$or"||d==="$and"||d==="$in"?o:a+d;if(h=t._getSchema(_),r!=="$setOnInsert"&&a$(h,u,e,d,a+d,s))continue;let A=t._getPathType(_);if(h==null){let F=u$(t,e,i,_,n);F.schematype!=null&&(h=F.schematype,A=F.type)}let C=u;if(A&&A.schema&&u==null&&(C=A.schema.options.strict),C&&!h&&!/real|nested/.test(A.pathType)){if(C==="throw"&&t.virtuals[_]==null)throw new o$(a+d);delete e[d]}else{if(r==="$rename"){f=!0;continue}try{a.length===0||d.indexOf(".")===-1?e[d]=Ql(h,p,r,d,s,a+d):(C!==!1||h!=null)&&(Cse(e,d,Ql(h,p,r,d,s,a+d)),delete e[d])}catch(F){m=Vc(F,s,d,m)}if(Array.isArray(e[d])&&(r==="$addToSet"||r==="$push")&&d!=="$each"&&h&&h.caster&&!h.caster.$isMongooseArray&&!h.caster[f$]&&(e[d]={$each:e[d]}),e[d]===void 0){delete e[d];continue}f=!0}}}if(m!=null)throw m;return f}function Vc(t,e,r,n){if(typeof e!="object"||!e.options.multipleCastError)throw t;return n=n||new Ese,n.addError(r,t),n}var c$={$pop:1,$inc:1},bse={$unset:1},SA={$push:1,$addToSet:1,$set:1,$setOnInsert:1};var l$={$set:1,$setOnInsert:1};function Ql(t,e,r,n,s,i){if(!t){if(r in c$)try{return OA(e)}catch{throw new AA("number",e,i)}return e}if(t.caster&&r in SA&&(wA.isObject(e)||Array.isArray(e))&&!l$[r]){let u=0,a=t;for(;a.$isMongooseArray;)++u,a=a.caster;let c=0,l=e;for(;Array.isArray(l);)++c,l=l[0];let f=u-c;for(;c<u;)e=[e],++c;let h=t.applySetters(Array.isArray(e)?e:[e],s);for(let d=0;d<f;++d)h=h[0];return h}if(r in bse)return e;if(r in c$){if(e==null)throw new AA("number",e,t.path);if(r==="$inc")return t.castForQuery(null,e,s);try{return OA(e)}catch{throw new AA("number",e,t.path)}}if(r==="$currentDate")return typeof e=="object"?{$type:e.$type}:!!e;if(CA.has(n))return t.castForQuery(n,e,s);if(l$[r]){let u=e!=null&&t.$isMongooseArray&&t.$fullPath!=null&&!t.$fullPath.match(/\d+$/),a=t[f$]!=null;return u||a?t.applySetters(e,s):t.castForQuery(null,e,s)}return t.castForQuery(null,e,s)}});var Im=y((Tde,p$)=>{"use strict";var Dse=wc();p$.exports=function t(e){if(e==null)return!1;let r=Object.keys(e),n=r.length;if(n===0)return!1;for(let s=0;s<n;++s){let i=r[s];if(!i.startsWith("+")&&Dse(e[i])&&e[i])return e[i]!=null&&typeof e[i]=="object"?t(e[i]):!!e[i]}return!1}});var y$=y((Mde,m$)=>{"use strict";m$.exports=function(e,r){return e===r||r.startsWith(e+".")}});var g$=y(qt=>{"use strict";var DA=["__proto__","constructor","prototype"],Rm=qt.clone=function t(e,r){if(e==null)return e;if(Array.isArray(e))return qt.cloneArray(e,r);if(e.constructor){if(/ObjectI[dD]$/.test(e.constructor.name))return typeof e.clone=="function"?e.clone():new e.constructor(e.id);if(e.constructor.name==="ReadPreference")return new e.constructor(e.mode,t(e.tags,r));if(e._bsontype=="Binary"&&e.buffer&&e.value)return typeof e.clone=="function"?e.clone():new e.constructor(e.value(!0),e.sub_type);if(e.constructor.name==="Date"||e.constructor.name==="Function")return new e.constructor(+e);if(e.constructor.name==="RegExp")return new RegExp(e);if(e.constructor.name==="Buffer")return Buffer.from(e)}if(Mse(e))return qt.cloneObject(e,r);if(e.valueOf)return e.valueOf()};qt.cloneObject=function(e,r){let n=r&&r.minimize,s={},i=Object.keys(e),o=i.length,u=!1,a,c="",l=0;for(l=0;l<o;++l)c=i[l],DA.indexOf(c)===-1&&(a=Rm(e[c],r),(!n||typeof a<"u")&&(u||(u=!0),s[c]=a));return n?u&&s:s};qt.cloneArray=function(e,r){let n=[],s=e.length,i=0;for(;i<s;i++)n.push(Rm(e[i],r));return n};qt.merge=function t(e,r){let n=Object.keys(r);for(let s of n)DA.indexOf(s)===-1&&(typeof e[s]>"u"?e[s]=r[s]:qt.isObject(r[s])?t(e[s],r[s]):e[s]=r[s])};qt.mergeClone=function t(e,r){let n=Object.keys(r);for(let s of n)DA.indexOf(s)===-1&&(typeof e[s]>"u"?e[s]=Rm(r[s]):qt.isObject(r[s])?t(e[s],r[s]):e[s]=Rm(r[s]))};qt.readPref=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return e};qt.readConcern=function(e){if(typeof e=="string"){switch(e){case"l":e="local";break;case"a":e="available";break;case"m":e="majority";break;case"lz":e="linearizable";break;case"s":e="snapshot";break}e={level:e}}return e};var Tse=Object.prototype.toString;qt.toString=function(t){return Tse.call(t)};var Mse=qt.isObject=function(t){return qt.toString(t)=="[object Object]"};qt.keys=Object.keys;qt.create=typeof Object.create=="function"?Object.create:Bse;function Bse(t){if(arguments.length>1)throw new Error("Adding properties is not supported");function e(){}return e.prototype=t,new e}qt.inherits=function(t,e){t.prototype=qt.create(e.prototype),t.prototype.constructor=t};qt.isArgumentsObject=function(t){return Object.prototype.toString.call(t)==="[object Arguments]"}});var _$=y((Pde,E$)=>{var zc=1e3,Wc=zc*60,Gc=Wc*60,qu=Gc*24,Pse=qu*7,Fse=qu*365.25;E$.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Nse(t);if(r==="number"&&isFinite(t))return e.long?Ise(t):$se(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Nse(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Fse;case"weeks":case"week":case"w":return r*Pse;case"days":case"day":case"d":return r*qu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gc;case"minutes":case"minute":case"mins":case"min":case"m":return r*Wc;case"seconds":case"second":case"secs":case"sec":case"s":return r*zc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function $se(t){var e=Math.abs(t);return e>=qu?Math.round(t/qu)+"d":e>=Gc?Math.round(t/Gc)+"h":e>=Wc?Math.round(t/Wc)+"m":e>=zc?Math.round(t/zc)+"s":t+"ms"}function Ise(t){var e=Math.abs(t);return e>=qu?xm(t,e,qu,"day"):e>=Gc?xm(t,e,Gc,"hour"):e>=Wc?xm(t,e,Wc,"minute"):e>=zc?xm(t,e,zc,"second"):t+" ms"}function xm(t,e,r,n){var s=e>=r*1.5;return Math.round(t/r)+" "+n+(s?"s":"")}});var TA=y((Fde,A$)=>{function Rse(t){r.debug=r,r.default=r,r.coerce=a,r.disable=i,r.enable=s,r.enabled=o,r.humanize=_$(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,d,p;function m(...g){if(!m.enabled)return;let E=m,_=Number(new Date),A=_-(f||_);E.diff=A,E.prev=f,E.curr=_,f=_,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let C=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(F,T)=>{if(F==="%%")return"%";C++;let V=r.formatters[T];if(typeof V=="function"){let z=g[C];F=V.call(E,z),g.splice(C,1),C--}return F}),r.formatArgs.call(E,g),(E.log||r.log).apply(E,g)}return m.namespace=l,m.useColors=r.useColors(),m.color=r.selectColor(l),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(l)),p),set:g=>{h=g}}),typeof r.init=="function"&&r.init(m),m}function n(l,f){let h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function s(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f,h=(typeof l=="string"?l:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function i(){let l=[...r.names.map(u),...r.skips.map(u).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function a(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}A$.exports=Rse});var O$=y((Tn,vm)=>{Tn.formatArgs=vse;Tn.save=kse;Tn.load=qse;Tn.useColors=xse;Tn.storage=Lse();Tn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Tn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xse(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function vse(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+vm.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),t.splice(n,0,e)}Tn.log=console.debug||console.log||(()=>{});function kse(t){try{t?Tn.storage.setItem("debug",t):Tn.storage.removeItem("debug")}catch{}}function qse(){let t;try{t=Tn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Lse(){try{return localStorage}catch{}}vm.exports=TA()(Tn);var{formatters:jse}=vm.exports;jse.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var S$=y((lr,qm)=>{var Use=require("tty"),km=require("util");lr.init=Yse;lr.log=Gse;lr.formatArgs=zse;lr.save=Hse;lr.load=Kse;lr.useColors=Vse;lr.destroy=km.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");lr.colors=[6,2,3,4,5,1];try{let t=require("supports-color");t&&(t.stderr||t).level>=2&&(lr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}lr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Vse(){return"colors"in lr.inspectOpts?!!lr.inspectOpts.colors:Use.isatty(process.stderr.fd)}function zse(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(s+"m+"+qm.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Wse()+e+" "+t[0]}function Wse(){return lr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Gse(...t){return process.stderr.write(km.format(...t)+`
`)}function Hse(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Kse(){return process.env.DEBUG}function Yse(t){t.inspectOpts={};let e=Object.keys(lr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=lr.inspectOpts[e[r]]}qm.exports=TA()(lr);var{formatters:C$}=qm.exports;C$.o=function(t){return this.inspectOpts.colors=this.useColors,km.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};C$.O=function(t){return this.inspectOpts.colors=this.useColors,km.inspect(t,this.inspectOpts)}});var w$=y((Nde,MA)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?MA.exports=O$():MA.exports=S$()});var D$=y(b$=>{"use strict";var wt=b$;wt.distinct=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(wt.distinct),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};wt.distinct.select=wt.distinct.slice=wt.distinct.sort=wt.distinct.limit=wt.distinct.skip=wt.distinct.batchSize=wt.distinct.hint=wt.distinct.tailable=!0;wt.findOneAndUpdate=wt.findOneAndRemove=function(t){let e=Object.keys(wt.findOneAndUpdate),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};wt.findOneAndUpdate.limit=wt.findOneAndUpdate.skip=wt.findOneAndUpdate.batchSize=wt.findOneAndUpdate.tailable=!0;wt.count=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(wt.count),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};wt.count.slice=wt.count.batchSize=wt.count.tailable=!0});var BA=y((Is,T$)=>{"use strict";Is.isNode=typeof process<"u"&&typeof T$=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;Is.isMongo=!Is.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";Is.isBrowser=!Is.isNode&&!Is.isMongo&&typeof window<"u";Is.type=Is.isNode?"node":Is.isMongo?"mongo":Is.isBrowser?"browser":"unknown"});var Jl=y((M$,B$)=>{"use strict";var PA=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];function FA(){}for(let t=0,e=PA.length;t<e;++t){let r=PA[t];FA.prototype[r]=Qse(r)}B$.exports=M$=FA;FA.methods=PA;function Qse(t){return function(){throw new Error("collection."+t+" not implemented")}}});var N$=y((P$,F$)=>{"use strict";var Jse=Jl(),NA=class extends Jse{constructor(e){super(),this.collection=e,this.collectionName=e.collectionName}async find(e,r){return this.collection.find(e,r).toArray()}async findOne(e,r){return this.collection.findOne(e,r)}async count(e,r){return this.collection.count(e,r)}async distinct(e,r,n){return this.collection.distinct(e,r,n)}async updateMany(e,r,n){return this.collection.updateMany(e,r,n)}async updateOne(e,r,n){return this.collection.updateOne(e,r,n)}async replaceOne(e,r,n){return this.collection.replaceOne(e,r,n)}async deleteOne(e,r){return this.collection.deleteOne(e,r)}async deleteMany(e,r){return this.collection.deleteMany(e,r)}async findOneAndDelete(e,r){return this.collection.findOneAndDelete(e,r)}async findOneAndUpdate(e,r,n){return this.collection.findOneAndUpdate(e,r,n)}findCursor(e,r){return this.collection.find(e,r)}};F$.exports=P$=NA});var I$=y((Ide,$$)=>{"use strict";var $A=BA();if($A.type=="unknown")throw new Error("Unknown environment");$$.exports=$A.isNode?N$():$A.isMongo?Jl():Jl()});var vA=y((x$,v$)=>{"use strict";var Xse=require("assert"),Zse=require("util"),Ne=g$(),zi=w$()("mquery");function j(t,e){if(!(this instanceof j))return new j(t,e);let r=this.constructor.prototype;this.op=r.op||void 0,this.options=Object.assign({},r.options),this._conditions=r._conditions?Ne.clone(r._conditions):{},this._fields=r._fields?Ne.clone(r._fields):void 0,this._updateDoc=r._updateDoc?Ne.clone(r._updateDoc):void 0,this._path=r._path||void 0,this._distinctDoc=r._distinctDoc||void 0,this._collection=r._collection||void 0,this._traceFunction=r._traceFunction||void 0,e&&this.setOptions(e),t&&this.find(t)}var Lu="$geoWithin";Object.defineProperty(j,"use$geoWithin",{get:function(){return Lu=="$geoWithin"},set:function(t){t===!0?Lu="$geoWithin":Lu="$within"}});j.prototype.toConstructor=function(){function e(n,s){if(!(this instanceof e))return new e(n,s);j.call(this,n,s)}Ne.inherits(e,j);let r=e.prototype;return r.options={},r.setOptions(this.options),r.op=this.op,r._conditions=Ne.clone(this._conditions),r._fields=Ne.clone(this._fields),r._updateDoc=Ne.clone(this._updateDoc),r._path=this._path,r._distinctDoc=this._distinctDoc,r._collection=this._collection,r._traceFunction=this._traceFunction,e};j.prototype.setOptions=function(t){if(!(t&&Ne.isObject(t)))return this;let e=Ne.keys(t),r;for(let n=0;n<e.length;++n)if(r=e[n],typeof this[r]=="function"){let s=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,s)}else this.options[r]=t[r];return this};j.prototype.collection=function(e){return this._collection=new j.Collection(e),this};j.prototype.collation=function(t){return this.options.collation=t,this};j.prototype.$where=function(t){return this._conditions.$where=t,this};j.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");let t=typeof arguments[0];if(t=="string")return this._path=arguments[0],arguments.length===2&&(this._conditions[this._path]=arguments[1]),this;if(t=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};j.prototype.equals=function(e){this._ensurePath("equals");let r=this._path;return this._conditions[r]=e,this};j.prototype.eq=function(e){this._ensurePath("eq");let r=this._path;return this._conditions[r]=e,this};j.prototype.or=function(e){let r=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};j.prototype.nor=function(e){let r=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};j.prototype.and=function(e){let r=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(t){j.prototype[t]=function(){let e,r;arguments.length===1?(this._ensurePath(t),r=arguments[0],e=this._path):(r=arguments[1],e=arguments[0]);let n=this._conditions[e]===null||typeof this._conditions[e]=="object"?this._conditions[e]:this._conditions[e]={};return n["$"+t]=r,this}});j.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};j.prototype.exists=function(){let t,e;arguments.length===0?(this._ensurePath("exists"),t=this._path,e=!0):arguments.length===1?typeof arguments[0]=="boolean"?(this._ensurePath("exists"),t=this._path,e=arguments[0]):(t=arguments[0],e=!0):arguments.length===2&&(t=arguments[0],e=arguments[1]);let r=this._conditions[t]||(this._conditions[t]={});return r.$exists=e,this};j.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let t,e,r;if(typeof arguments[0]=="function")this._ensurePath("elemMatch"),e=this._path,t=arguments[0];else if(Ne.isObject(arguments[0]))this._ensurePath("elemMatch"),e=this._path,r=arguments[0];else if(typeof arguments[1]=="function")e=arguments[0],t=arguments[1];else if(arguments[1]&&Ne.isObject(arguments[1]))e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");t&&(r=new j,t(r),r=r._conditions);let n=this._conditions[e]||(this._conditions[e]={});return n.$elemMatch=r,this};j.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=Lu,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);let e=arguments[0];if(!e)throw new TypeError("Invalid argument");if(e.center)return this.circle(e);if(e.box)return this.box.apply(this,e.box);if(e.polygon)return this.polygon.apply(this,e.polygon);if(e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};j.prototype.box=function(){let t,e;if(arguments.length===3)t=arguments[0],e=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),t=this._path,e=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");let r=this._conditions[t]||(this._conditions[t]={});return r[this._geoComparison||Lu]={$box:e},this};j.prototype.polygon=function(){let t,e;typeof arguments[0]=="string"?(t=Array.from(arguments),e=t.shift()):(this._ensurePath("polygon"),e=this._path,t=Array.from(arguments));let r=this._conditions[e]||(this._conditions[e]={});return r[this._geoComparison||Lu]={$polygon:t},this};j.prototype.circle=function(){let t,e;if(arguments.length===1)this._ensurePath("circle"),t=this._path,e=arguments[0];else if(arguments.length===2)t=arguments[0],e=arguments[1];else throw new TypeError("Invalid argument");if(!("radius"in e&&e.center))throw new Error("center and radius are required");let r=this._conditions[t]||(this._conditions[t]={}),n=e.spherical?"$centerSphere":"$center",s=this._geoComparison||Lu;return r[s]={},r[s][n]=[e.center,e.radius],"unique"in e&&(r[s].$uniqueDocs=!!e.unique),this};j.prototype.near=function(){let e,r;if(this._geoComparison="$near",arguments.length===0)return this;if(arguments.length===1)this._ensurePath("near"),e=this._path,r=arguments[0];else if(arguments.length===2)e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");if(!r.center)throw new Error("center is required");let n=this._conditions[e]||(this._conditions[e]={}),s=r.spherical?"$nearSphere":"$near";if(Array.isArray(r.center)){n[s]=r.center;let i="maxDistance"in r?r.maxDistance:null;i!=null&&(n.$maxDistance=i),r.minDistance!=null&&(n.$minDistance=r.minDistance)}else{if(r.center.type!="Point"||!Array.isArray(r.center.coordinates))throw new Error(Zse.format("Invalid GeoJSON specified for %s",s));n[s]={$geometry:r.center},"maxDistance"in r&&(n[s].$maxDistance=r.maxDistance),"minDistance"in r&&(n[s].$minDistance=r.minDistance)}return this};j.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;let e=arguments[0];if(e!=null&&e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};j.prototype.geometry=function(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let e,r;if(arguments.length===1)this._ensurePath("geometry"),r=this._path,e=arguments[0];else throw new TypeError("Invalid argument");if(!(e.type&&Array.isArray(e.coordinates)))throw new TypeError("Invalid argument");let n=this._conditions[r]||(this._conditions[r]={});return n[this._geoComparison]={$geometry:e},this};j.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=typeof e,s,i;if((n=="string"||Ne.isArgumentsObject(e))&&typeof e.length=="number"||Array.isArray(e)){for(n=="string"&&(e=e.split(/\s+/)),s=0,i=e.length;s<i;++s){let o=e[s];if(!o)continue;let u=o[0]=="-"?0:1;u===0&&(o=o.substring(1)),r[o]=u}return this}if(Ne.isObject(e)){let o=Ne.keys(e);for(s=0;s<o.length;++s)r[o[s]]=e[o[s]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};j.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n),i=s.length;for(let o=0;o<i;++o)this.slice(s[o],n[s[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r=this._fields||(this._fields={});return r[t]={$slice:e},this};j.prototype.sort=function(t){if(!t)return this;let e,r,n;this._validate("sort");let s=typeof t;if(Array.isArray(t)){for(r=t.length,e=0;e<t.length;++e){if(!Array.isArray(t[e]))throw new Error("Invalid sort() argument, must be array of arrays");eie(this.options,t[e][0],t[e][1])}return this}if(arguments.length===1&&s=="string"){for(t=t.split(/\s+/),r=t.length,e=0;e<r;++e){if(n=t[e],!n)continue;let i=n[0]=="-"?-1:1;i===-1&&(n=n.substring(1)),R$(this.options,n,i)}return this}if(Ne.isObject(t)){let i=Ne.keys(t);for(e=0;e<i.length;++e)n=i[e],R$(this.options,n,t[n]);return this}if(typeof Map<"u"&&t instanceof Map)return tie(this.options,t),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var IA={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function R$(t,e,r){if(Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n;if(r&&r.$meta){n=t.sort||(t.sort={}),n[e]={$meta:r.$meta};return}n=t.sort||(t.sort={});let s=String(r||1).toLowerCase();if(s=IA[s],!s)throw new TypeError("Invalid sort value: { "+e+": "+r+" }");n[e]=s}function eie(t,e,r){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n=String(r||1).toLowerCase();if(n=IA[n],!n)throw new TypeError("Invalid sort value: [ "+e+", "+r+" ]");t.sort.push([e,n])}function tie(t,e){if(t.sort=t.sort||new Map,!(t.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");e.forEach(function(r,n){let s=String(r||1).toLowerCase();if(s=IA[s],!s)throw new TypeError("Invalid sort value: < "+n+": "+r+" >");t.sort.set(n,s)})}["limit","skip","batchSize","comment"].forEach(function(t){j.prototype[t]=function(e){return this._validate(t),this.options[t]=e,this}});j.prototype.maxTime=j.prototype.maxTimeMS=function(t){return this._validate("maxTime"),this.options.maxTimeMS=t,this};j.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");let t=arguments[0];if(Ne.isObject(t)){let e=this.options.hint||(this.options.hint={});for(let r in t)e[r]=t[r];return this}if(typeof t=="string")return this.options.hint=t,this;throw new TypeError("Invalid hint. "+t)};j.prototype.j=function(e){return this.options.j=e,this};j.prototype.slaveOk=function(t){return this.options.slaveOk=arguments.length?!!t:!0,this};j.prototype.read=j.prototype.setReadPreference=function(t){return arguments.length>1&&!j.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),j.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=Ne.readPref(t),this};j.prototype.readConcern=j.prototype.r=function(t){return this.options.readConcern=Ne.readConcern(t),this};j.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};j.prototype.writeConcern=j.prototype.w=function(e){return typeof e=="object"?(typeof e.j<"u"&&(this.options.j=e.j),typeof e.w<"u"&&(this.options.w=e.w),typeof e.wtimeout<"u"&&(this.options.wtimeout=e.wtimeout)):this.options.w=e==="m"?"majority":e,this};j.prototype.wtimeout=j.prototype.wTimeout=function(e){return this.options.wtimeout=e,this};j.prototype.merge=function(t){if(!t)return this;if(!j.canMerge(t))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return t instanceof j?(t._conditions&&Ne.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),Ne.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),Ne.merge(this.options,t.options)),t._updateDoc&&(this._updateDoc||(this._updateDoc={}),Ne.mergeClone(this._updateDoc,t._updateDoc)),t._distinctDoc&&(this._distinctDoc=t._distinctDoc),this):(Ne.merge(this._conditions,t),this)};j.prototype.find=function(t){return this.op="find",j.canMerge(t)&&this.merge(t),this};j.prototype._find=async function(){let e=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),zi("_find",this._collection.collectionName,e,r),this._collection.find(e,r)};j.prototype.cursor=function(e){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(e);let r=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),zi("findCursor",this._collection.collectionName,r,n),this._collection.findCursor(r,n)};j.prototype.findOne=function(t){return this.op="findOne",j.canMerge(t)&&this.merge(t),this};j.prototype._findOne=async function(){let e=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),zi("findOne",this._collection.collectionName,e,r),this._collection.findOne(e,r)};j.prototype.count=function(t){return this.op="count",this._validate(),j.canMerge(t)&&this.merge(t),this};j.prototype._count=async function(){let e=this._conditions,r=this._optionsForExec();return zi("count",this._collection.collectionName,e,r),this._collection.count(e,r)};j.prototype.distinct=function(t,e){return this.op="distinct",this._validate(),!e&&typeof t=="string"&&(e=t,t=void 0),typeof e=="string"&&(this._distinctDoc=e),j.canMerge(t)&&this.merge(t),this};j.prototype._distinct=async function(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");let e=this._conditions,r=this._optionsForExec();return zi("distinct",this._collection.collectionName,e,r),this._collection.distinct(this._distinctDoc,e,r)};j.prototype.updateMany=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),RA(this,"updateMany",e,r,n)};j.prototype._updateMany=async function(){return xA(this,"updateMany")};j.prototype.updateOne=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),RA(this,"updateOne",e,r,n)};j.prototype._updateOne=async function(){return xA(this,"updateOne")};j.prototype.replaceOne=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),this.setOptions({overwrite:!0}),RA(this,"replaceOne",e,r,n)};j.prototype._replaceOne=async function(){return xA(this,"replaceOne")};function RA(t,e,r,n,s){return t.op=e,j.canMerge(r)&&t.merge(r),n&&t._mergeUpdate(n),Ne.isObject(s)&&t.setOptions(s),t}async function xA(t,e){let r=t._optionsForExec(),n=t._conditions,s=t._updateForExec();return zi("update",t._collection.collectionName,n,s,r),t._collection[e](n,s,r)}j.prototype.deleteOne=function(t){return this.op="deleteOne",j.canMerge(t)&&this.merge(t),this};j.prototype._deleteOne=async function(){let t=this._optionsForExec();delete t.justOne;let e=this._conditions;return zi("deleteOne",this._collection.collectionName,e,t),this._collection.deleteOne(e,t)};j.prototype.deleteMany=function(t){return this.op="deleteMany",j.canMerge(t)&&this.merge(t),this};j.prototype._deleteMany=async function(){let t=this._optionsForExec();delete t.justOne;let e=this._conditions;return zi("deleteOne",this._collection.collectionName,e,t),this._collection.deleteMany(e,t)};j.prototype.findOneAndUpdate=function(t,e,r){return this.op="findOneAndUpdate",this._validate(),arguments.length===1&&(e=t,t=r=void 0),j.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),r&&this.setOptions(r),this};j.prototype._findOneAndUpdate=async function(){let t=this._conditions,e=this._updateForExec(),r=this._optionsForExec();return this._collection.findOneAndUpdate(t,e,r)};j.prototype.findOneAndRemove=j.prototype.findOneAndDelete=function(t,e){return this.op="findOneAndRemove",this._validate(),j.canMerge(t)&&this.merge(t),e&&this.setOptions(e),this};j.prototype._findOneAndRemove=async function(){let t=this._optionsForExec(),e=this._conditions;return this._collection.findOneAndDelete(e,t)};j.prototype.setTraceFunction=function(t){return this._traceFunction=t,this};j.prototype.exec=async function(e){typeof e=="string"&&(this.op=e),Xse.ok(this.op,"Missing query type: (find, etc)");let r="_"+this.op;if(typeof this[r]!="function")throw new TypeError(`this[${r}] is not a function`);return this[r]()};j.prototype.then=async function(t,e){return this.exec().then(t,e)};j.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");let t=this._conditions,e=this._optionsForExec();return this.$useProjection?e.projection=this._fieldsForExec():e.fields=this._fieldsForExec(),zi("cursor",this._collection.collectionName,t,e),this._collection.findCursor(t,e)};j.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)};j.prototype.selectedInclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0||this._fields[n]&&typeof this._fields[n]=="object"&&this._fields[n].$meta)return!1}return!0};j.prototype.selectedExclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0)return!0}return!1};j.prototype._mergeUpdate=function(t){this._updateDoc||(this._updateDoc={}),t instanceof j?t._updateDoc&&Ne.mergeClone(this._updateDoc,t._updateDoc):Ne.mergeClone(this._updateDoc,t)};j.prototype._optionsForExec=function(){return Ne.clone(this.options)};j.prototype._fieldsForExec=function(){return Ne.clone(this._fields)};j.prototype._updateForExec=function(){let t=Ne.clone(this._updateDoc),e=Ne.keys(t),r={};for(let n of e){if(this.options.overwrite){r[n]=t[n];continue}n[0]!=="$"?(r.$set||(t.$set?r.$set=t.$set:r.$set={}),r.$set[n]=t[n],~e.indexOf("$set")||e.push("$set")):n==="$set"&&r.$set||(r[n]=t[n])}return this._compiledUpdate=r,r};j.prototype._ensurePath=function(t){if(!this._path){let e=t+"() must be used after where() when called with these arguments";throw new Error(e)}};j.permissions=D$();j._isPermitted=function(t,e){let r=j.permissions[e];return r?r[t]!==!0:!0};j.prototype._validate=function(t){let e,r;if(t===void 0){if(r=j.permissions[this.op],typeof r!="function")return!0;e=r(this)}else j._isPermitted(t,this.op)||(e=t);if(e)throw new Error(e+" cannot be used with "+this.op)};j.canMerge=function(t){return t instanceof j||Ne.isObject(t)};j.setGlobalTraceFunction=function(t){j.traceFunction=t};j.utils=Ne;j.env=BA();j.Collection=I$();j.BaseCollection=Jl();v$.exports=x$=j});var kA=y((Rde,k$)=>{"use strict";k$.exports=function(e,r){if(typeof e==="string"&&(e=e.split(/\s+/)),!Array.isArray(e)&&Object.prototype.toString.call(e)!=="[object Arguments]")return e;let s=e.length,i={};for(let o=0;o<s;++o){let u=e[o];if(!u)continue;let a=u[0]=="-"?0:1;!r&&a===0&&(u=u.substring(1)),i[u]=a}return i}});var j$=y((xde,L$)=>{"use strict";L$.exports=function(e,r){let n=Object.keys(e).map(s=>Object.keys(e[s])).reduce((s,i)=>s.concat(i),[]);return r.filter(s=>q$(s,n))};function q$(t,e){let r=Object.keys(t)[0];if(r==="$and"||r==="$or")return Array.isArray(t[r])?t[r].find(i=>q$(i,e))!=null:!1;let n=r.indexOf("."),s=n===-1?r:r.slice(0,n);return e.find(i=>i.includes("$["+s+"]"))!=null}});var Lm=y((vde,U$)=>{"use strict";U$.exports=function(e){if(typeof e!="object"||e===null)return!1;let r=Object.keys(e),n=r.length;for(let s=0;s<n;++s)if(r[s][0]==="$")return!0;return!1}});var qA=y((kde,V$)=>{"use strict";var rie=Lm(),{trustedSymbol:nie}=dc();V$.exports=function t(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e)){for(let n of e)t(n);return e}let r=Object.keys(e);for(let n of r){let s=e[n];if(!(s!=null&&s[nie])){if(n==="$and"||n==="$or"){t(s);continue}if(rie(s)){let i=Object.keys(s);if(i.length===1&&i[0]==="$eq")continue;e[n]={$eq:e[n]}}}}return e}});var W$=y((qde,z$)=>{"use strict";z$.exports=function(e){if(e==null)return;let r=Object.keys(e);for(let n=0;n<r.length;++n)typeof e[r[n]]=="string"&&(e[r[n]]=1)}});var K$=y((Lde,H$)=>{"use strict";var sie=bc(),iie=Im();H$.exports=function(e,r,n){if(n==null)return;let s=Object.keys(n);if(r=r||{},iie(e))for(let i of s){G$(r,i)?r[i]===0&&delete e[i]:e[i]=1;let o=n[i]?.refPath;typeof o=="string"&&(G$(r,o)?r[o]===0&&delete e[o]:e[o]=1)}else if(sie(e))for(let i of s){r[i]==null&&delete e[i];let o=n[i]?.refPath;typeof o=="string"&&r[o]==null&&delete e[o]}};function G$(t,e){let r=e.split("."),n=r.length,s=r[0];for(let i=1;i<n;++i){if(t[s]!=null||t[s+".$"]!=null)return!0;s+="."+r[i]}return t[s]!=null||t[s+".$"]!=null}});var LA=y((jde,Q$)=>{"use strict";var Y$=Sc().modifiedPaths,oie=pt();Q$.exports=function(t,e,r,n){n=n||{};let s=n.setDefaultsOnInsert!=null?n.setDefaultsOnInsert:e.base.options.setDefaultsOnInsert;if(!n.upsert||s===!1)return r;let i=Object.keys(r||{}),o={},u={},a=i.length,c={},l=!1;for(let d=0;d<a;++d)i[d].startsWith("$")&&(Y$(r[i[d]],"",c),l=!0);l||Y$(r,"",c);let f=Object.keys(t),h=f.length;for(let d=0;d<h;++d){let p=f[d],m=t[p];if(m&&typeof m=="object"){let g=Object.keys(m),E=g.length,_=!1;for(let A=0;A<E;++A)if(g[A].startsWith("$")){_=!0;break}if(_)continue}o[p]=!0,c[p]=!0}return n&&n.overwrite&&!l||e.eachPath(function(d,p){if(p.path==="_id"&&p.options.auto)return;let m=p.getDefault(null,!0);uie(c,d)||typeof m>"u"||p.splitPath().includes("$*")||(r=r||{},r.$setOnInsert=r.$setOnInsert||{},oie(r,d)==null&&(r.$setOnInsert[d]=m),u[d]=m)}),r};function uie(t,e){if(t[e])return!0;let r=e.split("."),n=r[0];for(let i=1;i<r.length;++i){if(t[n])return!0;n+="."+r[i]}let s=Object.keys(t);if(s.length){let i=e+".";for(let o of s)if(o.slice(0,e.length+1)===i)return!0}return!1}});var tI=y((Ude,eI)=>{"use strict";var J$=wu(),aie=Bl(),X$=Sc().flatten,Z$=Sc().modifiedPaths;eI.exports=function(t,e,r,n,s){let i=Object.keys(r||{}),o={},u={},a={},c={},l=i.length,f=!1,h={},d,p,m;for(m=0;m<l;++m)if(i[m].startsWith("$")){if(f=!0,i[m]==="$push"||i[m]==="$addToSet"){let q=Object.keys(r[i[m]]);for(let K=0;K<q.length;++K)d=r[i[m]][q[K]],d&&d.$each?c[q[K]]=(c[q[K]]||[]).concat(d.$each):c[q[K]]=(c[q[K]]||[]).concat([d]);continue}Z$(r[i[m]],"",h);let R=X$(r[i[m]],null,null,e),M=Object.keys(R),N=M.length;for(let q=0;q<N;++q){let K=aie(M[q]);p=i[m],!K.includes("$")&&(p==="$set"||p==="$setOnInsert"||p==="$pull"||p==="$pullAll"?(u[K]=R[M[q]],a[K]=p==="$pull"||p==="$pullAll"):p==="$unset"&&(u[K]=void 0),o[K]=!0)}}f||(Z$(r,"",h),u=X$(r,null,null,e),o=Object.keys(u));let g=Object.keys(u),E=g.length,_=[],A=[],C=[],x=t;function F(R,M){let N=e._getSchema(g[R]);if(N!=null&&!(N.instance==="Mixed"&&N.path!==g[R]))if(M&&Array.isArray(M.$in))M.$in.forEach((q,K)=>{_.push(function(Ue){N.doValidate(q,function(hr){hr&&(hr.path=g[K]+".$in."+K,A.push(hr)),Ue(null)},x,{updateValidator:!0})})});else{if(a[g[R]]&&N.$isMongooseArray)return;N.$isMongooseDocumentArrayElement&&M!=null&&M.$__!=null?(C.push(g[R]),_.push(function(q){N.doValidate(M,function(K){if(K)if(K.errors)for(let Ue of Object.keys(K.errors)){let hr=K.errors[Ue];hr.path=g[R]+"."+Ue,A.push(hr)}else K.path=g[R],A.push(K);return q(null)},x,{updateValidator:!0})})):_.push(function(q){for(let K of C)if(g[R].startsWith(K+"."))return q(null);N.doValidate(M,function(K){if(N.schema!=null&&N.schema.options.storeSubdocValidationError===!1&&K instanceof J$)return q(null);K&&(K.path=g[R],A.push(K)),q(null)},x,{updateValidator:!0})})}}for(m=0;m<E;++m)F(m,u[g[m]]);let T=Object.keys(c);for(let R of T){let M=e._getSchema(R);if(M&&M.$isMongooseDocumentArray)_.push(function(N){M.doValidate(c[R],z(R,A,N),n&&n.context==="query"?t:null)});else{M=e._getSchema(R+".0");for(let N of c[R])_.push(function(q){M.doValidate(N,z(R,A,q),n&&n.context==="query"?t:null,{updateValidator:!0})})}}if(s!=null){let R=_.length;if(R===0)return V(s);for(let M of _)M(function(){--R<=0&&V(s)});return}return function(R){let M=_.length;if(M===0)return V(R);for(let N of _)N(function(){--M<=0&&V(R)})};function V(R){if(A.length){let M=new J$(null);for(let N of A)M.addError(N.path,N);return R(M)}R(null)}function z(R,M,N){return function(q){q&&(q.path=R,M.push(q)),N(null)}}}});var Vm=y((Vde,mI)=>{"use strict";var Zl=Nr(),cie=t0(),VA=mc(),Ir=ut(),$o=_0(),rI=IN(),nI=wu(),{applyGlobalMaxTimeMS:ef,applyGlobalDiskUse:tf}=pA(),lie=s_(),fie=mA(),hie=$c(),die=QN(),Um=Nl(),pie=bA(),Rr=_t(),oI=Ps(),rf=wl(),jA=fn(),mie=bs().internalToObjectOptions,yie=bc(),gie=Im(),Eie=D0(),sI=y$(),uI=Ts(),Mn=vA(),_ie=kA(),Aie=j$(),Oie=qA(),Cie=W$(),Sie=K$(),aI=LA(),jm=Su(),wie=tI(),Xl=require("util"),At=ae(),bie=W0().queryMiddlewareFunctions,Die=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);function U(t,e,r,n){this._mongooseOptions||(this._mongooseOptions={}),e=e||{},this._transforms=[],this._hooks=new VA,this._executionStack=null;let s=Object.keys(e);for(let o of s)this._mongooseOptions[o]=e[o];n&&(this.mongooseCollection=n),r&&(this.model=r,this.schema=r.schema),this.model&&this.model._mapreduce&&this.lean(),Mn.call(this,null,e),n&&this.collection(n),t&&this.find(t),this.options=this.options||{},this.$useProjection=!0;let i=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;i!=null&&(this.options.collation=i)}U.prototype=new Mn;U.prototype.constructor=U;U.base=Mn.prototype;Object.defineProperty(U.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});U.use$geoWithin=Mn.use$geoWithin;U.prototype.toConstructor=function(){let e=this.model,r=this.mongooseCollection,n=function(o,u){if(!(this instanceof n))return new n(o,u);this._mongooseOptions=Rr(s._mongooseOptions),U.call(this,o,u||null,e,r)};Xl.inherits(n,e.Query);let s=n.prototype;s.options={};let i=Object.assign({},this.options);return i.sort!=null&&(s.sort(i.sort),delete i.sort),s.setOptions(i),s.op=this.op,s._validateOp(),s._conditions=Rr(this._conditions),s._fields=Rr(this._fields),s._update=Rr(this._update,{flattenDecimals:!1}),s._path=this._path,s._distinct=this._distinct,s._collection=this._collection,s._mongooseOptions=this._mongooseOptions,n};U.prototype.clone=function(){let t=this.model,e=this.mongooseCollection,r=new this.model.Query({},{},t,e),n=Object.assign({},this.options);return n.sort!=null&&(r.sort(n.sort),delete n.sort),r.setOptions(n),r.op=this.op,r._validateOp(),r._conditions=Rr(this._conditions),r._fields=Rr(this._fields),r._update=Rr(this._update,{flattenDecimals:!1}),r._path=this._path,r._distinct=this._distinct,r._collection=this._collection,r._mongooseOptions=this._mongooseOptions,r};U.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n),i=s.length;for(let o=0;o<i;++o)this.slice(s[o],n[s[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r={};return r[t]={$slice:e},this.select(r),this};var Tie=new Set(bie);U.prototype._validateOp=function(){this.op!=null&&!Tie.has(this.op)&&this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};U.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};U.prototype.limit=function(e){if(this._validate("limit"),typeof e=="string")try{e=Um(e)}catch{throw new Zl("Number",e,"limit")}return this.options.limit=e,this};U.prototype.skip=function(e){if(this._validate("skip"),typeof e=="string")try{e=Um(e)}catch{throw new Zl("Number",e,"skip")}return this.options.skip=e,this};U.prototype.projection=function(t){return arguments.length===0?this._fields:(this._fields={},this._userProvidedFields={},this.select(t),this._fields)};U.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=this._userProvidedFields||(this._userProvidedFields={}),s;this.model!=null&&At.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection")?s=this.model.db.options.sanitizeProjection:this.model!=null&&At.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection")?s=this.model.base.options.sanitizeProjection:s=this._mongooseOptions.sanitizeProjection;function i(o){return typeof o=="string"&&s?o=1:o}if(e=_ie(e,!0),At.isObject(e)){if(this.selectedInclusively())Object.entries(e).forEach(([o,u])=>{u?(r["-"+o]!=null&&delete r["-"+o],r[o]=n[o]=i(u)):Object.keys(n).forEach(a=>{sI(o,a)&&(delete r[a],delete n[a])})});else if(this.selectedExclusively())Object.entries(e).forEach(([o,u])=>{u?Object.keys(n).forEach(a=>{sI(o,a)&&(delete r[a],delete n[a])}):(r["+"+o]!=null&&delete r["+"+o],r[o]=n[o]=i(u))});else{let o=Object.keys(e);for(let u=0;u<o.length;++u){let a=e[o[u]],c=o[u];r[c]=i(a),n[c]=i(a)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};U.prototype.read=function(e,r){return typeof e=="string"?(e=lie(e),this.options.readPreference={mode:e,tags:r}):this.options.readPreference=e,this};U.prototype.toString=function(){return this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="remove"?`${this.model.modelName}.${this.op}(${Xl.inspect(this._conditions)})`:this.op==="distinct"?`${this.model.modelName}.distinct('${this._distinct}', ${Xl.inspect(this._conditions)})`:this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne"?`${this.model.modelName}.${this.op}(${Xl.inspect(this._conditions)}, ${Xl.inspect(this._update)})`:`${this.model.modelName}.${this.op}()`};U.prototype.session=function(e){return e==null&&delete this.options.session,this.options.session=e,this};U.prototype.writeConcern=function(e){return e==null?(delete this.options.writeConcern,this):(this.options.writeConcern=e,this)};U.prototype.w=function(e){return e==null&&delete this.options.w,this.options.writeConcern!=null?this.options.writeConcern.w=e:this.options.w=e,this};U.prototype.j=function(e){return e==null&&delete this.options.j,this.options.writeConcern!=null?this.options.writeConcern.j=e:this.options.j=e,this};U.prototype.wtimeout=function(e){return e==null&&delete this.options.wtimeout,this.options.writeConcern!=null?this.options.writeConcern.wtimeout=e:this.options.wtimeout=e,this};U.prototype.getOptions=function(){return this.options};U.prototype.setOptions=function(t,e){if(e)return this._mongooseOptions=t&&Rr(t)||{},this.options=t||{},"populate"in t&&this.populate(this._mongooseOptions),this;if(t==null)return this;if(typeof t!="object")throw new Error('Options must be an object, got "'+t+'"');if(t=Object.assign({},t),Array.isArray(t.populate)){let r=t.populate;delete t.populate;let n=r.length;for(let s=0;s<n;++s)this.populate(r[s])}if("setDefaultsOnInsert"in t&&(this._mongooseOptions.setDefaultsOnInsert=t.setDefaultsOnInsert,delete t.setDefaultsOnInsert),"overwriteDiscriminatorKey"in t&&(this._mongooseOptions.overwriteDiscriminatorKey=t.overwriteDiscriminatorKey,delete t.overwriteDiscriminatorKey),"sanitizeProjection"in t&&(t.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection&&Cie(this._fields),this._mongooseOptions.sanitizeProjection=t.sanitizeProjection,delete t.sanitizeProjection),"sanitizeFilter"in t&&(this._mongooseOptions.sanitizeFilter=t.sanitizeFilter,delete t.sanitizeFilter),"timestamps"in t&&(this._mongooseOptions.timestamps=t.timestamps,delete t.timestamps),"defaults"in t&&(this._mongooseOptions.defaults=t.defaults),"translateAliases"in t&&(this._mongooseOptions.translateAliases=t.translateAliases,delete t.translateAliases),t.lean==null&&this.schema&&"lean"in this.schema.options&&(this._mongooseOptions.lean=this.schema.options.lean),typeof t.limit=="string")try{t.limit=Um(t.limit)}catch{throw new Zl("Number",t.limit,"limit")}if(typeof t.skip=="string")try{t.skip=Um(t.skip)}catch{throw new Zl("Number",t.skip,"skip")}for(let r of Object.keys(t))if(Die.has(r)){let n=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,n)}else this.options[r]=t[r];return this};U.prototype.explain=function(e){return arguments.length===0?this.options.explain=!0:e===!1?delete this.options.explain:this.options.explain=e,this};U.prototype.allowDiskUse=function(t){return arguments.length===0?this.options.allowDiskUse=!0:t===!1?delete this.options.allowDiskUse:this.options.allowDiskUse=t,this};U.prototype.maxTimeMS=function(t){return this.options.maxTimeMS=t,this};U.prototype.getFilter=function(){return this._conditions};U.prototype.getQuery=function(){return this._conditions};U.prototype.setQuery=function(t){this._conditions=t};U.prototype.getUpdate=function(){return this._update};U.prototype.setUpdate=function(t){this._update=t};U.prototype._fieldsForExec=function(){return this._fields==null||Object.keys(this._fields).length===0?null:Rr(this._fields)};U.prototype._updateForExec=function(){let t=Rr(this._update,{transform:!1,depopulate:!0}),e=Object.keys(t),r=e.length,n={};for(;r--;){let s=e[r];s[0]!=="$"?(n.$set||(t.$set?n.$set=t.$set:n.$set={}),n.$set[s]=t[s],e.splice(r,1),~e.indexOf("$set")||e.push("$set")):s==="$set"&&n.$set||(n[s]=t[s])}return n};U.prototype._optionsForExec=function(t){let e=Rr(this.options);if(delete e.populate,t=t||this.model,!t)return e;fie(t.schema,e);let r=t&&t.schema&&t.schema.options&&t.schema.options.read;if(!("readPreference"in e)&&r&&(e.readPreference=r),e.upsert!==void 0&&(e.upsert=!!e.upsert),e.writeConcern&&(e.j&&(e.writeConcern.j=e.j,delete e.j),e.w&&(e.writeConcern.w=e.w,delete e.w),e.wtimeout&&(e.writeConcern.wtimeout=e.wtimeout,delete e.wtimeout)),this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);let n=this._fieldsForExec();n!=null&&(e.projection=n)}return e};U.prototype.lean=function(t){return this._mongooseOptions.lean=arguments.length?t:!0,this};U.prototype.set=function(t,e){if(typeof t=="object"){let r=Object.keys(t);for(let n of r)this.set(n,t[n]);return this}return this._update=this._update||{},t in this._update&&delete this._update[t],this._update.$set=this._update.$set||{},this._update.$set[t]=e,this};U.prototype.get=function(e){let r=this._update;if(r==null)return;let n=r.$set;if(n==null||At.hasUserDefinedProperty(r,e))return r[e];if(At.hasUserDefinedProperty(n,e))return n[e]};U.prototype.error=function(e){return arguments.length===0?this._error:(this._error=e,this)};U.prototype._unsetCastError=function(){if(!(this._error!=null&&!(this._error instanceof Zl)))return this.error(null)};U.prototype.mongooseOptions=function(t){return arguments.length>0&&(this._mongooseOptions=t),this._mongooseOptions};U.prototype._castConditions=function(){let t;this.model!=null&&At.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter")?t=this.model.db.options.sanitizeFilter:this.model!=null&&At.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter")?t=this.model.base.options.sanitizeFilter:t=this._mongooseOptions.sanitizeFilter,t&&Oie(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(e){this.error(e)}};function cI(t){try{die(t)}catch(e){t.error(e)}}U.prototype._find=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._mongooseOptions,r=this,n=r._userProvidedFields||{};ef(this.options,this.model.db.options,this.model.base.options),tf(this.options,this.model.db.options,this.model.base.options);let s=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:e.lean||null}),i=this._optionsForExec();this._applyTranslateAliases(i);let o=this._conditions,u=i.projection,a=await this.mongooseCollection.find(o,i);if(i.explain)return a.explain();let c=await a.toArray();if(c.length===0)return c;if(!e.populate){let f=r.schema.options.versionKey;return e.lean&&e.lean.versionKey===!1&&f&&c.forEach(h=>{f in h&&delete h[f]}),e.lean?fI(r.model.schema,c,null,s):r._completeMany(c,u,n,s)}let l=rf.preparePopulationOptionsMQ(r,e);return e.lean?r.model.populate(c,l):(c=await r._completeMany(c,u,n,s),await this.model.populate(c,l),c)};U.prototype.find=function(t){if(typeof t=="function"||typeof arguments[1]=="function")throw new Ir("Query.prototype.find() no longer accepts a callback");return this.op="find",Mn.canMerge(t)?(this.merge(t),nf(this)):t!=null&&this.error(new $o(t,"filter","find")),this};U.prototype.merge=function(t){if(!t)return this;let e={overwrite:!0};return t instanceof U?(t._conditions&&(e.omit={},this._conditions&&this._conditions.$and&&t._conditions.$and&&(e.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(t._conditions.$and)),this._conditions&&this._conditions.$or&&t._conditions.$or&&(e.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(t._conditions.$or)),At.merge(this._conditions,t._conditions,e)),t._fields&&(this._fields||(this._fields={}),At.merge(this._fields,t._fields,e)),t.options&&(this.options||(this.options={}),At.merge(this.options,t.options,e)),t._update&&(this._update||(this._update={}),At.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),At.merge(this._mongooseOptions,t._mongooseOptions),this):this.model!=null&&t instanceof this.model.base.Types.ObjectId?(At.merge(this._conditions,{_id:t},e),this):(t&&t.$__&&(t=t.toObject(mie)),e.omit={},this._conditions&&this._conditions.$and&&t.$and&&(e.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(t.$and)),this._conditions&&this._conditions.$or&&t.$or&&(e.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(t.$or)),At.merge(this._conditions,t,e),this)};U.prototype.collation=function(t){return this.options==null&&(this.options={}),this.options.collation=t,this};U.prototype._completeOne=function(t,e,r){if(!t&&!this.options.includeResultMetadata)return r(null,null);let n=this.model,s=Rr(this._fields),i=this._userProvidedFields||{},o=this._mongooseOptions,u=this.options;if(!u.lean&&o.lean&&(u.lean=o.lean),u.explain)return r(null,t);if(!o.populate){let c=this.schema.options.versionKey;return o.lean&&o.lean.versionKey===!1&&c&&c in t&&delete t[c],o.lean?zA(n.schema,t,null,e,u,r):iI(n,t,e,u,s,i,null,r)}let a=rf.preparePopulationOptionsMQ(this,this._mongooseOptions);if(o.lean)return n.populate(t,a).then(c=>{zA(n.schema,c,null,e,u,r)},c=>{r(c)});iI(n,t,e,u,s,i,[],(c,l)=>{if(c!=null)return r(c);n.populate(l,a).then(f=>{r(null,f)},f=>{r(f)})})};U.prototype._completeMany=async function(e,r,n,s){let i=this.model;return Promise.all(e.map(o=>new Promise((u,a)=>{let c=o;o=rf.createModel(i,o,r,n),s.session!=null&&o.$session(s.session),o.$init(c,s,l=>{if(l!=null)return a(l);u(o)})})))};U.prototype._findOne=async function(){if(this._castConditions(),this.error())throw this.error();ef(this.options,this.model.db.options,this.model.base.options),tf(this.options,this.model.db.options,this.model.base.options);let e=this._optionsForExec();this._applyTranslateAliases(e);let r=await this.mongooseCollection.findOne(this._conditions,e);return new Promise((n,s)=>{this._completeOne(r,null,(i,o)=>{if(i)return s(i);n(o)})})};U.prototype.findOne=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[3]=="function")throw new Ir("Query.prototype.findOne() no longer accepts a callback");return this.op="findOne",this._validateOp(),r&&this.setOptions(r),e&&this.select(e),Mn.canMerge(t)?(this.merge(t),nf(this)):t!=null&&this.error(new $o(t,"filter","findOne")),this};U.prototype._countDocuments=async function(){try{this.cast(this.model)}catch(n){this.error(n)}if(this.error())throw this.error();ef(this.options,this.model.db.options,this.model.base.options),tf(this.options,this.model.db.options,this.model.base.options);let e=this._optionsForExec();this._applyTranslateAliases(e);let r=this._conditions;return this.mongooseCollection.countDocuments(r,e)};U.prototype._applyTranslateAliases=function(e){let r=!1;"translateAliases"in this._mongooseOptions?r=this._mongooseOptions.translateAliases:this.model?.schema?._userProvidedOptions?.translateAliases!=null?r=this.model.schema._userProvidedOptions.translateAliases:this.model?.base?.options?.translateAliases!=null&&(r=this.model.base.options.translateAliases),r&&this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0&&(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(e.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null&&(this._distinct=this.model.schema.aliases[this._distinct]))};U.prototype._estimatedDocumentCount=async function(){if(this.error())throw this.error();let e=this._optionsForExec();return this.mongooseCollection.estimatedDocumentCount(e)};U.prototype.estimatedDocumentCount=function(t){if(typeof t=="function"||typeof arguments[1]=="function")throw new Ir("Query.prototype.estimatedDocumentCount() no longer accepts a callback");return this.op="estimatedDocumentCount",this._validateOp(),typeof t=="object"&&t!=null&&this.setOptions(t),this};U.prototype.countDocuments=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new Ir("Query.prototype.countDocuments() no longer accepts a callback");return this.op="countDocuments",this._validateOp(),Mn.canMerge(t)&&this.merge(t),typeof e=="object"&&e!=null&&this.setOptions(e),this};U.prototype.__distinct=async function(){if(this._castConditions(),this.error())throw this.error();ef(this.options,this.model.db.options,this.model.base.options),tf(this.options,this.model.db.options,this.model.base.options);let e=this._optionsForExec();return this._applyTranslateAliases(e),this.mongooseCollection.distinct(this._distinct,this._conditions,e)};U.prototype.distinct=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new Ir("Query.prototype.distinct() no longer accepts a callback");return this.op="distinct",this._validateOp(),Mn.canMerge(e)?(this.merge(e),nf(this)):e!=null&&this.error(new $o(e,"filter","distinct")),t!=null&&(this._distinct=t),this};U.prototype.sort=function(t,e){if(arguments.length>2)throw new Error("sort() takes at most 2 arguments");if(e!=null&&typeof e!="object")throw new Error("sort() options argument must be an object or nullish");this.options.sort==null&&(this.options.sort={}),e&&e.override&&(this.options.sort={});let r=this.options.sort;if(typeof t=="string"){let n=t.indexOf(" ")===-1?[t]:t.split(" ");for(let s of n){let i=s[0]=="-"?-1:1;i===-1&&(s=s.slice(1)),!jm.has(s)&&(r[s]=i)}}else if(Array.isArray(t))for(let n of t){if(!Array.isArray(n))throw new TypeError("Invalid sort() argument, must be array of arrays");let s=""+n[0];jm.has(s)||(r[s]=UA(n[1],s))}else if(typeof t=="object"&&t!=null&&!(t instanceof Map))for(let n of Object.keys(t))jm.has(n)||(r[n]=UA(t[n],n));else if(t instanceof Map)for(let n of t.keys())n=""+n,!jm.has(n)&&(r[n]=UA(t.get(n),n));else if(t!=null)throw new TypeError("Invalid sort() argument. Must be a string, object, array, or map.");return this};function UA(t,e){if(t===1||t==="asc"||t==="ascending")return 1;if(t===-1||t==="desc"||t==="descending")return-1;if(t?.$meta!=null)return{$meta:t.$meta};throw new TypeError("Invalid sort value: { "+e+": "+t+" }")}U.prototype.deleteOne=function(e,r){if(typeof e=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new Ir("Query.prototype.deleteOne() no longer accepts a callback");return this.op="deleteOne",this.setOptions(r),Mn.canMerge(e)?(this.merge(e),nf(this)):e!=null&&this.error(new $o(e,"filter","deleteOne")),this};U.prototype._deleteOne=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._optionsForExec();return this._applyTranslateAliases(e),this.mongooseCollection.deleteOne(this._conditions,e)};U.prototype.deleteMany=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new Ir("Query.prototype.deleteMany() no longer accepts a callback");return this.setOptions(e),this.op="deleteMany",Mn.canMerge(t)?(this.merge(t),nf(this)):t!=null&&this.error(new $o(t,"filter","deleteMany")),this};U.prototype._deleteMany=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._optionsForExec();return this._applyTranslateAliases(e),this.mongooseCollection.deleteMany(this._conditions,e)};function iI(t,e,r,n,s,i,o,u){if(n.includeResultMetadata&&e==null)return a(null),null;rf.createModelAndInit(t,e,s,i,n,o,a);function a(c,l){if(c)return jA(()=>u(c));if(n.includeResultMetadata)return e&&l?(n.session!=null&&l.$session(n.session),r.value=l):r.value=null,jA(()=>u(null,r));n.session!=null&&l.$session(n.session),jA(()=>u(null,l))}}function nf(t){if(!t||!t.model||!t.model.schema)return;let e=t.model.schema;e&&e.discriminatorMapping&&!e.discriminatorMapping.isRoot&&(t._conditions[e.discriminatorMapping.key]=e.discriminatorMapping.value)}U.prototype.findOneAndUpdate=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[3]=="function")throw new Ir("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:r=void 0;break;case 1:e=t,t=r=void 0;break}Mn.canMerge(t)?this.merge(t):t!=null&&this.error(new $o(t,"filter","findOneAndUpdate")),e&&this._mergeUpdate(e),r=r?Rr(r):{},r.projection&&(this.select(r.projection),delete r.projection),r.fields&&(this.select(r.fields),delete r.fields);let n=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&n!=null&&(r.returnOriginal=n),this.setOptions(r),this};U.prototype._findOneAndUpdate=async function(){if(this._castConditions(),cI(this),this.error())throw this.error();ef(this.options,this.model.db.options,this.model.base.options),tf(this.options,this.model.db.options,this.model.base.options),"strict"in this.options&&(this._mongooseOptions.strict=this.options.strict);let e=this._optionsForExec(this.model);lI(e),this._applyTranslateAliases(e),this._update=this._castUpdate(this._update);let r=Object.assign({},e,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=aI(this._conditions,this.model.schema,this._update,r),!this._update||Object.keys(this._update).length===0)if(e.upsert){let o=Rr(this._update);delete o._id,this._update={$set:o}}else return this._executionStack=null,await this._findOne();else{if(this._update instanceof Error)throw this._update;this._update.$set&&Object.keys(this._update.$set).length===0&&delete this._update.$set}WA(this,"runValidators",!1)&&await this.validate(this._update,e,!1),this._update.toBSON&&(this._update=this._update.toBSON());let s=await this.mongooseCollection.findOneAndUpdate(this._conditions,this._update,e);for(let o of this._transforms)s=o(s);let i=e.includeResultMetadata?s.value:s;return new Promise((o,u)=>{this._completeOne(i,s,(a,c)=>{if(a)return u(a);o(c)})})};U.prototype.findOneAndDelete=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new Ir("Query.prototype.findOneAndDelete() no longer accepts a callback");return this.op="findOneAndDelete",this._validateOp(),this._validate(),Mn.canMerge(t)&&this.merge(t),e&&this.setOptions(e),this};U.prototype._findOneAndDelete=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this.options.includeResultMetadata,r=this._conditions,n=this._optionsForExec(this.model);this._applyTranslateAliases(n);let s=await this.mongooseCollection.findOneAndDelete(r,n);for(let o of this._transforms)s=o(s);let i=e?s.value:s;return new Promise((o,u)=>{this._completeOne(i,s,(a,c)=>{if(a)return u(a);o(c)})})};U.prototype.findOneAndReplace=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[4]=="function")throw new Ir("Query.prototype.findOneAndReplace() no longer accepts a callback");this.op="findOneAndReplace",this._validateOp(),this._validate(),Mn.canMerge(t)?this.merge(t):t!=null&&this.error(new $o(t,"filter","findOneAndReplace")),e!=null&&this._mergeUpdate(e),r=r||{};let n=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&n!=null&&(r.returnOriginal=n),this.setOptions(r),this};U.prototype._findOneAndReplace=async function(){if(this._castConditions(),this.error()!=null)throw this.error();"strict"in this.options&&(this._mongooseOptions.strict=this.options.strict,delete this.options.strict);let e=this._conditions,r=this._optionsForExec();this._applyTranslateAliases(r),lI(r);let n=this.options.includeResultMetadata,s={skipId:!0};"strict"in this._mongooseOptions&&(s.strict=this._mongooseOptions.strict);let i=WA(this,"runValidators",!1);try{let a=new this.model(this._update,null,s);if(i)await a.validate();else if(a.$__.validationError)throw a.$__.validationError;this._update=a.toBSON()}catch(a){if(a instanceof nI)throw a;let c=new nI;throw c.errors[a.path]=a,c}let o=await this.mongooseCollection.findOneAndReplace(e,this._update,r);for(let a of this._transforms)o=a(o);let u=n?o.value:o;return new Promise((a,c)=>{this._completeOne(u,o,(l,f)=>{if(l)return c(l);a(f)})})};function lI(t){"new"in t&&(t.returnDocument=t.new?"after":"before",delete t.new),"returnOriginal"in t&&(t.returnDocument=t.returnOriginal?"before":"after",delete t.returnOriginal),typeof t.returnDocument=="string"&&(t.returnOriginal=t.returnDocument==="before")}function WA(t,e,r){let n=t._optionsForExec(t.model);return e in n?n[e]:e in t.model.base.options?t.model.base.options[e]:r}function zA(t,e,r,n,s,i){if(s.lean&&typeof s.lean.transform=="function"){s.lean.transform(e);for(let o=0;o<t.childSchemas.length;o++){let u=r?r+"."+t.childSchemas[o].model.path:t.childSchemas[o].model.path,a=t.childSchemas[o].schema,c=uI.get(u,e);if(c!=null){if(Array.isArray(c))for(let l=0;l<c.length;l++)s.lean.transform(c[l]);else s.lean.transform(c);zA(a,c,u,n,s)}}return i?i(null,e):void 0}return s.includeResultMetadata?i(null,n):i(null,e)}function fI(t,e,r,n){if(n.lean&&typeof n.lean.transform=="function"){for(let s of e)n.lean.transform(s);for(let s=0;s<t.childSchemas.length;s++){let i=r?r+"."+t.childSchemas[s].model.path:t.childSchemas[s].model.path,o=t.childSchemas[s].schema,u=uI.get(i,e);if(u!=null){u=u.flat();for(let a=0;a<u.length;a++)n.lean.transform(u[a]);fI(o,u,i,n)}}}return e}U.prototype._mergeUpdate=function(t){if(this._update||(this._update=Array.isArray(t)?[]:{}),!(t==null||typeof t=="object"&&Object.keys(t).length===0))if(t instanceof U){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");t._update&&At.mergeClone(this._update,t._update)}else if(Array.isArray(t)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(t)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");At.mergeClone(this._update,t)}};async function GA(t){if(this._castConditions(),cI(this),this.error()!=null)throw this.error();let e=this._conditions,r=this._optionsForExec(this.model);this._applyTranslateAliases(r),this._update=Rr(this._update,r);let n=t==="replaceOne";if(n)this._update=new this.model(this._update,null,!0);else{if(this._update=this._castUpdate(this._update),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};let i=Object.assign({},r,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=aI(this._conditions,this.model.schema,this._update,i)}return Array.isArray(r.arrayFilters)&&(r.arrayFilters=Aie(this._update,r.arrayFilters)),WA(this,"runValidators",!1)&&await this.validate(this._update,r,n),this._update.toBSON&&(this._update=this._update.toBSON()),this.mongooseCollection[t](e,this._update,r)}U.prototype.validate=async function(e,r,n){if(typeof arguments[3]=="function")throw new Ir("Query.prototype.validate() no longer accepts a callback");await dI(this,"validate"),n?await e.$validate():await new Promise((s,i)=>{wie(this,this.model.schema,e,r,o=>{if(o!=null)return i(o);s()})}),await hI(this,null,null,"validate")};U.prototype._updateMany=async function(){return GA.call(this,"updateMany")};U.prototype._updateOne=async function(){return GA.call(this,"updateOne")};U.prototype._replaceOne=async function(){return GA.call(this,"replaceOne")};U.prototype.updateMany=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),HA(this,"updateMany",t,e,r,n)};U.prototype.updateOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),HA(this,"updateOne",t,e,r,n)};U.prototype.replaceOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),HA(this,"replaceOne",t,e,r,n)};function HA(t,e,r,n,s,i){return t.op=e,t._validateOp(),n=n||{},s!=null&&"strict"in s&&(t._mongooseOptions.strict=s.strict),!(r instanceof U)&&r!=null&&r.toString()!=="[object Object]"?t.error(new $o(r,"filter",e)):t.merge(r),At.isObject(s)&&t.setOptions(s),t._mergeUpdate(n),i&&t.exec(i),t}U.prototype.transform=function(t){return this._transforms.push(t),this};U.prototype.orFail=function(t){return this.transform(e=>{switch(this.op){case"find":if(e.length===0)throw Hc(t,this);break;case"findOne":if(e==null)throw Hc(t,this);break;case"replaceOne":case"updateMany":case"updateOne":if(e&&e.matchedCount===0)throw Hc(t,this);break;case"findOneAndDelete":case"findOneAndUpdate":case"findOneAndReplace":if(this.options.includeResultMetadata&&e!=null&&e.value==null)throw Hc(t,this);if(!this.options.includeResultMetadata&&e==null)throw Hc(t,this);break;case"deleteMany":case"deleteOne":if(e.deletedCount===0)throw Hc(t,this);break;default:break}return e}),this};function Hc(t,e){return typeof t=="function"&&(t=t.call(e)),t==null&&(t=new cie(e.getQuery(),e.model.modelName)),t}U.prototype.isPathSelectedInclusive=function(t){return Eie(this._fields,t)};U.prototype.exec=async function(e){if(typeof e=="function"||arguments.length>=2&&typeof arguments[1]=="function")throw new Ir("Query.prototype.exec() no longer accepts a callback");if(typeof e=="string"&&(this.op=e),this.op==null)throw new Ir("Query must have `op` before executing");if(this.model==null)throw new Ir("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort&&Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()');let r="_"+this.op;if(this.op==="distinct"&&(r="__distinct"),this._executionStack!=null){let o=this.toString();o.length>60&&(o=o.slice(0,60)+"...");let u=new Ir("Query was already executed: "+o);throw u.originalStack=this._executionStack.stack,u}else this._executionStack=new Error;let n=null;try{await Bie(this)}catch(o){if(o instanceof VA.skipWrappedFunction)n=o;else throw o}let s,i=null;try{await dI(this),s=n?n.args[0]:await this[r]();for(let o of this._transforms)s=o(s)}catch(o){o instanceof VA.skipWrappedFunction?s=o.args[0]:i=o}return s=await hI(this,s,i),await Mie(this),s};function Mie(t){return new Promise((e,r)=>{t._hooks.execPost("exec",t,[],{},n=>{if(n)return r(n);e()})})}function hI(t,e,r,n){if(t._queryMiddleware==null){if(r!=null)throw r;return e}return new Promise((s,i)=>{let o=r?{error:r}:{};t._queryMiddleware.execPost(n||t.op,t,[e],o,(u,a)=>{if(u)return i(u);s(a)})})}function Bie(t){return new Promise((e,r)=>{t._hooks.execPre("exec",t,[],n=>{if(n!=null)return r(n);e()})})}function dI(t,e){if(t._queryMiddleware!=null)return new Promise((r,n)=>{t._queryMiddleware.execPre(e||t.op,t,[],s=>{if(s!=null)return n(s);r()})})}U.prototype.then=function(t,e){return this.exec().then(t,e)};U.prototype.catch=function(t){return this.exec().then(null,t)};U.prototype.finally=function(t){return this.exec().finally(t)};U.prototype[Symbol.toStringTag]=function(){return`Query { ${this.op} }`};U.prototype.pre=function(t){return this._hooks.pre("exec",t),this};U.prototype.post=function(t){return this._hooks.post("exec",t),this};U.prototype._castUpdate=function(e){let r=this.schema,n=r.options.discriminatorKey,s=r._baseSchema?r._baseSchema:r;if(this._mongooseOptions.overwriteDiscriminatorKey&&e[n]!=null&&s.discriminators){let u=Object.values(s.discriminators).find(a=>a.discriminatorMapping.value===e[n]);u!=null&&(r=u)}let i;"upsert"in this.options&&(i=this.options.upsert);let o=this._conditions;if(r!=null&&At.hasUserDefinedProperty(o,r.options.discriminatorKey)&&typeof o[r.options.discriminatorKey]!="object"&&r.discriminators!=null){let u=o[r.options.discriminatorKey],a=oI(this.model.discriminators,u);r=r.discriminators[u]||a&&a.schema||r}return pie(r,e,{strict:this._mongooseOptions.strict,upsert:i,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};U.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;let t=At.populate.apply(null,arguments);if(this.options!=null){let n=this.options.readConcern,s=this.options.readPreference;for(let i of t)n!=null&&(i&&i.options&&i.options.readConcern)==null&&(i.options=i.options||{},i.options.readConcern=n),s!=null&&(i&&i.options&&i.options.readPreference)==null&&(i.options=i.options||{},i.options.readPreference=s)}let e=this._mongooseOptions;if(e.lean!=null){let n=e.lean;for(let s of t)(s&&s.options&&s.options.lean)==null&&(s.options=s.options||{},s.options.lean=n)}At.isObject(e.populate)||(e.populate={});let r=e.populate;for(let n of t){let s=n.path;r[s]&&r[s].populate&&n.populate&&(n.populate=r[s].populate.concat(n.populate)),r[n.path]=n}return this};U.prototype.getPopulatedPaths=function(){let e=this._mongooseOptions.populate||{},r=Object.keys(e);for(let n of Object.keys(e)){let s=e[n];Array.isArray(s.populate)&&pI(r,s.populate,n+".")}return r};function pI(t,e,r){for(let n of e)t.push(r+n.path),Array.isArray(n.populate)&&pI(t,n.populate,r+n.path+".")}U.prototype.cast=function(t,e){e||(e=this._conditions),t=t||this.model;let r=t.schema.options.discriminatorKey;e!=null&&e.hasOwnProperty(r)&&(t=oI(t.discriminators,e[r])||t);let n={upsert:this.options&&this.options.upsert};this.options&&("strict"in this.options&&(n.strict=this.options.strict),"strictQuery"in this.options&&(n.strictQuery=this.options.strictQuery));try{return hie(t.schema,e,n,this)}catch(s){throw typeof s.setModel=="function"&&s.setModel(t),s}};U.prototype._castFields=function(e){let r,n,s,i,o;if(e){s=Object.keys(e),n=[];for(let u=0;u<s.length;++u)i=s[u],e[i].$elemMatch&&(r||(r={}),r[i]=e[i],n.push(i))}if(r){try{o=this.cast(this.model,r)}catch(u){return u}for(let u=0;u<n.length;++u)i=n[u],e[i]=o[i]}return e};U.prototype._applyPaths=function(){if(!this.model)return;this._fields=this._fields||{},rf.applyPaths(this._fields,this.model.schema);let e=!0;"selectPopulatedPaths"in this.model.base.options&&(e=this.model.base.options.selectPopulatedPaths),"selectPopulatedPaths"in this.model.schema.options&&(e=this.model.schema.options.selectPopulatedPaths),e&&Sie(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};U.prototype.cursor=function(e){e&&this.setOptions(e);try{this.cast(this.model)}catch(r){return new rI(this)._markError(r)}return new rI(this)};U.prototype.tailable=function(t,e){if(t!=null&&typeof t.constructor=="function"&&t.constructor.name==="Object"&&(e=t,t=!0),t===void 0&&(t=!0),e&&typeof e=="object")for(let r of Object.keys(e))r==="awaitData"||r==="awaitdata"?this.options.awaitData=!!e[r]:this.options[r]=e[r];return this.options.tailable=arguments.length?!!t:!0,this};U.prototype.near=function(){let t=[],e=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))t.push({center:arguments[0],spherical:e});else if(typeof arguments[0]=="string")t.push(arguments[0]);else if(At.isObject(arguments[0]))typeof arguments[0].spherical!="boolean"&&(arguments[0].spherical=e),t.push(arguments[0]);else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]=="number"&&typeof arguments[1]=="number")t.push({center:[arguments[0],arguments[1]],spherical:e});else if(typeof arguments[0]=="string"&&Array.isArray(arguments[1]))t.push(arguments[0]),t.push({center:arguments[1],spherical:e});else if(typeof arguments[0]=="string"&&At.isObject(arguments[1]))t.push(arguments[0]),typeof arguments[1].spherical!="boolean"&&(arguments[1].spherical=e),t.push(arguments[1]);else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]=="string"&&typeof arguments[1]=="number"&&typeof arguments[2]=="number")t.push(arguments[0]),t.push({center:[arguments[1],arguments[2]],spherical:e});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return U.base.near.apply(this,t)};U.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};Symbol.asyncIterator!=null&&(U.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()});U.prototype.box=function(t,e){return!Array.isArray(t)&&At.isObject(t)&&(e=t.ur,t=t.ll),U.base.box.call(this,t,e)};U.prototype.center=U.base.circle;U.prototype.centerSphere=function(){arguments[0]!=null&&typeof arguments[0].constructor=="function"&&arguments[0].constructor.name==="Object"&&(arguments[0].spherical=!0),arguments[1]!=null&&typeof arguments[1].constructor=="function"&&arguments[1].constructor.name==="Object"&&(arguments[1].spherical=!0),U.base.circle.apply(this,arguments)};U.prototype.selectedInclusively=function(){return gie(this._fields)};U.prototype.selectedExclusively=function(){return yie(this._fields)};U.prototype.model;mI.exports=U});var _I=y((zde,EI)=>{"use strict";var zm=ut(),gI=require("stream").Readable,Pie=fA(),Fie=fn(),Nie=require("util");function Bn(t){gI.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=t,this._transforms=[];let e=t._model;delete t.options.cursor.useMongooseAggCursor,this._mongooseOptions={},$ie(e,this,t)}Nie.inherits(Bn,gI);function $ie(t,e,r){t.collection.buffer?t.collection.emitter.once("queue",function(){t.hooks.execPre("aggregate",r,function(){typeof r.options?.cursor?.transform=="function"&&e._transforms.push(r.options.cursor.transform),e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}):t.hooks.execPre("aggregate",r,function(){typeof r.options?.cursor?.transform=="function"&&e._transforms.push(r.options.cursor.transform),e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}Bn.prototype._read=function(){let t=this;Wm(this,function(e,r){if(e)return t.emit("error",e);if(!r){t.push(null),t.cursor.close(function(n){if(n)return t.emit("error",n)});return}t.push(r)})};if(Symbol.asyncIterator!=null){let t="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";Bn.prototype[Symbol.asyncIterator]=function(){throw new zm(t)}}Object.defineProperty(Bn.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});Bn.prototype._markError=function(t){return this._error=t,this};Bn.prototype.close=async function(){if(typeof arguments[0]=="function")throw new zm("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(e){throw this.listeners("error").length>0&&this.emit("error",e),e}this.emit("close")};Bn.prototype.next=async function(){if(typeof arguments[0]=="function")throw new zm("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((e,r)=>{Wm(this,(n,s)=>{if(n!=null)return r(n);e(s)})})};Bn.prototype.eachAsync=function(t,e){if(typeof arguments[2]=="function")throw new zm("AggregationCursor.prototype.eachAsync() no longer accepts a callback");let r=this;return typeof e=="function"&&(e={}),e=e||{},Pie(function(n){return Wm(r,n)},t,e)};Symbol.asyncIterator!=null&&(Bn.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});Bn.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(yI)===-1&&this.map(yI),this};Bn.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};function yI(t){return t==null?{done:!0}:{value:t,done:!1}}Bn.prototype.addCursorFlag=function(t,e){let r=this;return Iie(this,function(){r.cursor.addCursorFlag(t,e)}),this};function Iie(t,e){if(t.cursor)return e();t.once("cursor",function(){e()})}function Wm(t,e){let r=e;if(t._transforms.length&&(r=function(n,s){if(n||s===null&&!t._mongooseOptions.transformNull)return e(n,s);e(n,t._transforms.reduce(function(i,o){return o(i)},s))}),t._error)return Fie(function(){r(t._error)});if(t.cursor)return t.cursor.next().then(n=>{if(!n)return r(null,null);r(null,n)},n=>r(n));t.once("cursor",function(){Wm(t,e)})}EI.exports=Bn});var KA=y((Wde,AI)=>{"use strict";AI.exports=function(e,r,n){let s=r&&r.discriminatorMapping;if(n=n||"",s&&!s.isRoot){let i=e,o=(n.length>0?n+".":n)+s.key,u=s.value;if(i[0]!=null&&i[0].$match&&(i[0].$match[o]===void 0||i[0].$match[o]===u))i[0].$match[o]=u;else if(i[0]!=null&&i[0].$geoNear)i[0].$geoNear.query=i[0].$geoNear.query||{},i[0].$geoNear.query[o]=u;else if(i[0]!=null&&i[0].$search)if(i[1]&&i[1].$match!=null)i[1].$match[o]=i[1].$match[o]||u;else{let a={};a[o]=u,i.splice(1,0,{$match:a})}else{let a={};a[o]=u,i.unshift({$match:a})}}}});var CI=y((Gde,OI)=>{"use strict";OI.exports=function t(e){if(Array.isArray(e))for(let r of e){if(r==null)continue;let n=r.$group||r.$bucket||r.$bucketAuto;if(n!=null)for(let i of Object.keys(n))Rie(n[i]);let s=Object.keys(r)[0];if(s&&typeof r[s]=="object"){let i=r[s];for(let o of Object.keys(i))i[o]!=null&&i[o].$function!=null&&typeof i[o].$function.body=="function"&&(i[o].$function.body=i[o].$function.body.toString())}if(r.$facet!=null)for(let i of Object.keys(r.$facet))t(r.$facet[i])}};function Rie(t){if(!(t==null||t.$accumulator==null))for(let e of["init","accumulate","merge","finalize"])typeof t.$accumulator[e]=="function"&&(t.$accumulator[e]=String(t.$accumulator[e]))}});var JA=y((Hde,TI)=>{"use strict";var bI=_I(),YA=ut(),DI=Vm(),{applyGlobalMaxTimeMS:xie,applyGlobalDiskUse:vie}=pA(),kie=_t(),qie=Jr(),QA=KA(),Lie=CI(),SI=ae(),jie=DI.prototype.read,Uie=DI.prototype.readConcern,wI=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);function we(t,e){this._pipeline=[],this._model=e,this.options={},arguments.length===1&&Array.isArray(t)&&this.append.apply(this,t)}we.prototype.options;we.prototype.model=function(t){return arguments.length===0?this._model:(this._model=t,t.schema!=null&&(this.options.readPreference==null&&t.schema.options.read!=null&&(this.options.readPreference=t.schema.options.read),this.options.collation==null&&t.schema.options.collation!=null&&(this.options.collation=t.schema.options.collation)),t)};we.prototype.append=function(){let t=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!t.every(Vie))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(t),this};we.prototype.addFields=function(t){if(typeof t!="object"||t===null||Array.isArray(t))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},t)})};we.prototype.project=function(t){let e={};if(typeof t=="object"&&!Array.isArray(t))Object.keys(t).forEach(function(r){e[r]=t[r]});else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?0:1;n===0&&(r=r.substring(1)),e[r]=n});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:e})};we.prototype.near=function(t){let e={};return e.$geoNear=t,this.append(e)};"group match skip limit out densify fill".split(" ").forEach(function(t){we.prototype[t]=function(e){let r={};return r["$"+t]=e,this.append(r)}});we.prototype.unwind=function(){let t=[...arguments],e=[];for(let r of t)if(r&&typeof r=="object")e.push({$unwind:r});else if(typeof r=="string")e.push({$unwind:r[0]==="$"?r:"$"+r});else throw new Error('Invalid arg "'+r+'" to unwind(), must be string or object');return this.append.apply(this,e)};we.prototype.replaceRoot=function(t){let e;return typeof t=="string"?e=t.startsWith("$")?t:"$"+t:e=t,this.append({$replaceRoot:{newRoot:e}})};we.prototype.count=function(t){return this.append({$count:t})};we.prototype.sortByCount=function(t){if(t&&typeof t=="object")return this.append({$sortByCount:t});if(typeof t=="string")return this.append({$sortByCount:t[0]==="$"?t:"$"+t});throw new TypeError('Invalid arg "'+t+'" to sortByCount(), must be string or object')};we.prototype.lookup=function(t){return this.append({$lookup:t})};we.prototype.graphLookup=function(t){let e={};if(t){if(!SI.isObject(t))throw new TypeError("Invalid graphLookup() argument. Must be an object.");SI.mergeClone(e,t);let r=e.startWith;r&&typeof r=="string"&&(e.startWith=e.startWith.startsWith("$")?e.startWith:"$"+e.startWith)}return this.append({$graphLookup:e})};we.prototype.sample=function(t){return this.append({$sample:{size:t}})};we.prototype.sort=function(t){let e={};if(qie(t)==="Object"){let r=["desc","descending",-1];Object.keys(t).forEach(function(n){if(t[n]instanceof Object&&t[n].$meta){e[n]=t[n];return}e[n]=r.indexOf(t[n])===-1?1:-1})}else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?-1:1;n===-1&&(r=r.substring(1)),e[r]=n});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:e})};we.prototype.unionWith=function(t){return this.append({$unionWith:t})};we.prototype.read=function(t,e){return jie.call(this,t,e),this};we.prototype.readConcern=function(t){return Uie.call(this,t),this};we.prototype.redact=function(t,e,r){if(arguments.length===3){if(typeof e=="string"&&!wI.has(e)||typeof r=="string"&&!wI.has(r))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");t={$cond:{if:t,then:e,else:r}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:t})};we.prototype.explain=async function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new YA("Aggregate.prototype.explain() no longer accepts a callback");let r=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");QA(this._pipeline,this._model.schema),await new Promise((o,u)=>{r.hooks.execPre("aggregate",this,a=>{if(a){let c={error:a};return r.hooks.execPost("aggregate",this,[null],c,l=>{u(l)})}else o()})});let n=r.collection.aggregate(this._pipeline,this.options);e==null&&(e=!0);let s=null;try{s=await n.explain(e)}catch(o){await new Promise((u,a)=>{let c={error:o};r.hooks.execPost("aggregate",this,[null],c,l=>l?a(l):u())})}let i={error:null};return await new Promise((o,u)=>{r.hooks.execPost("aggregate",this,[s],i,a=>a?u(a):o())}),s};we.prototype.allowDiskUse=function(t){return this.options.allowDiskUse=t,this};we.prototype.hint=function(t){return this.options.hint=t,this};we.prototype.session=function(t){return t==null?delete this.options.session:this.options.session=t,this};we.prototype.option=function(t){for(let e in t)this.options[e]=t[e];return this};we.prototype.cursor=function(t){return this.options.cursor=t||{},new bI(this)};we.prototype.collation=function(t){return this.options.collation=t,this};we.prototype.facet=function(t){return this.append({$facet:t})};we.prototype.search=function(t){return this.append({$search:t})};we.prototype.pipeline=function(){return this._pipeline};we.prototype.exec=async function(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]=="function")throw new YA("Aggregate.prototype.exec() no longer accepts a callback");let e=this._model,r=this._model.collection;if(xie(this.options,e.db.options,e.base.options),vie(this.options,e.db.options,e.base.options),this.options&&this.options.cursor)return new bI(this);if(QA(this._pipeline,this._model.schema),Lie(this._pipeline),await new Promise((o,u)=>{e.hooks.execPre("aggregate",this,a=>{if(a){let c={error:a};return e.hooks.execPost("aggregate",this,[null],c,l=>{u(l)})}else o()})}),!this._pipeline.length)throw new YA("Aggregate has empty pipeline");let n=kie(this.options||{}),s;try{s=await(await r.aggregate(this._pipeline,n)).toArray()}catch(o){await new Promise((u,a)=>{let c={error:o};e.hooks.execPost("aggregate",this,[null],c,l=>{if(l)return a(l);u()})})}let i={error:null};return await new Promise((o,u)=>{e.hooks.execPost("aggregate",this,[s],i,a=>a?u(a):o())}),s};we.prototype.then=function(t,e){return this.exec().then(t,e)};we.prototype.catch=function(t){return this.exec().then(null,t)};we.prototype.finally=function(t){return this.exec().finally(t)};Symbol.asyncIterator!=null&&(we.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()});function Vie(t){if(typeof t!="object"||t===null)return!1;let e=Object.keys(t);return e.length===1&&e[0][0]==="$"}we._prepareDiscriminatorPipeline=QA;TI.exports=we});var BI=y((Kde,MI)=>{"use strict";var zie=_t(),XA=class{constructor(e){e!=null&&Object.assign(this,zie(e))}};MI.exports=XA});var FI=y((Yde,PI)=>{"use strict";PI.exports=function t(e,r){let n=Object.keys(r.paths),s=n.length;for(let i=0;i<s;++i){let o="",u=n[i],a=r.paths[u],c=a.splitPath(),l=c.length,f=e;for(let h=0;h<l&&f!=null;++h){let d=c[h];if(o+=(o.length?".":"")+d,h===l-1){if(typeof f[d]<"u"){a.$isSingleNested?t(f[d],a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(f[d])&&f[d].forEach(m=>t(m,a.schema));break}let p=a.getDefault(e,!1,{skipCast:!0});typeof p<"u"&&(f[d]=p,a.$isSingleNested?t(p,a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(p)&&p.forEach(m=>t(m,a.schema)))}else f[d]==null&&(f[d]={}),f=f[d]}}}});var e9=y((Qde,NI)=>{"use strict";NI.exports=ZA;function ZA(t,e=new WeakSet,r=!1){if(!e.has(t)){e.add(t);for(let n of Object.keys(t.paths)){let s=t.paths[n];if(s.schema&&(ZA(s.schema,e),!!s.schema._applyDiscriminators&&!(s._appliedDiscriminators&&!r))){for(let i of s.schema._applyDiscriminators.keys()){let{schema:o,options:u}=s.schema._applyDiscriminators.get(i);ZA(o,e),s.discriminator(i,o,r?{...u,overwriteExisting:!0}:u)}s._appliedDiscriminators=!0}}}}});var II=y((Jde,$I)=>{"use strict";var Wie=pt(),Gie=ae();$I.exports=function t(e,r){let n=t9();function s(i,o){Object.defineProperty(e.prototype,i,{get:function(){let u={};for(let a in o.methods[i])u[a]=o.methods[i][a].bind(this);return u},configurable:!0})}for(let i of Object.keys(r.methods)){let o=r.methods[i];if(r.tree.hasOwnProperty(i))throw new Error('You have a method and a property in your schema both named "'+i+'"');if(typeof o=="function"&&n.prototype[i]===o){delete r.methods[i];continue}r.reserved[i]&&!Wie(r,`methodOptions.${i}.suppressWarning`,!1)&&Gie.warn(`mongoose: the method name "${i}" is used by mongoose internally, overwriting it may cause bugs. If you're sure you know what you're doing, you can suppress this error by using \`schema.method('${i}', fn, { suppressWarning: true })\`.`),typeof o=="function"?e.prototype[i]=o:s(i,r)}e.$appliedMethods=!0;for(let i of Object.keys(r.paths)){let o=r.paths[i];o.$isSingleNested&&!o.caster.$appliedMethods&&t(o.caster,o.schema),o.$isMongooseDocumentArray&&!o.Constructor.$appliedMethods&&t(o.Constructor,o.schema)}}});var vI=y((Xde,xI)=>{"use strict";var RI=h4(),Hie=bc(),Kie=Im(),Gm=ae().isPOJO;xI.exports=function(e,r,n){if(r==null||e==null)return e;let s=null;return Kie(r)?s=!1:Hie(r)&&(s=!0),s==null?e:s?(n=n||RI(r),r9(e,r,n)):(n=n||RI(r),n9(e,r,n))};function r9(t,e,r,n,s){if(t==null||typeof t!="object")return t;let i={...t};n=s?n||{}:e;for(let o of Object.keys(i)){let u=s?s+"."+o:o;e.hasOwnProperty(u)||n.hasOwnProperty(o)?Gm(e[u])||Gm(n[o])?i[o]=r9(i[o],e,r,n[o],u):delete i[o]:r[u]&&(i[o]=r9(i[o],e,r,n[o],u))}return i}function n9(t,e,r,n,s){if(t==null||typeof t!="object")return t;let i={...t};n=s?n||{}:e;for(let o of Object.keys(i)){let u=s?s+"."+o:o;if(e.hasOwnProperty(u)||n.hasOwnProperty(o)){(Gm(e[u])||Gm(n[o]))&&(i[o]=n9(i[o],e,r,n[o],u));continue}else r[u]?i[o]=n9(i[o],e,r,n[o],u):delete i[o]}return i}});var qI=y((Zde,kI)=>{"use strict";kI.exports=function(e){let r=!1;for(let n of Object.keys(e))e[n]==="text"&&(r=!0);return r}});var jI=y((epe,LI)=>{"use strict";var Yie=qI();LI.exports=function(e,r,n){Yie(e)||n.hasOwnProperty("collation")&&!r.hasOwnProperty("collation")&&(r.collation=n.collation)}});var VI=y((tpe,UI)=>{"use strict";var Qie=W0().queryMiddlewareFunctions,Jie=p0();UI.exports=function(e,r,n){let s={useErrorHandlers:!0,numCallbackParams:1};r=r.filter(i=>Qie.indexOf(i.name)!==-1?!!i.model:i.model!==!1),e.$__insertMany=r.createWrapper("insertMany",e.$__insertMany,e,s);for(let i of Object.keys(n))if(r.hasHooks(i)){let o=e[i];e[i]=function(){let u=arguments.length,a=u>0?arguments[u-1]:null,c=typeof a=="function"?a:null,l=Array.prototype.slice.call(arguments,0,c==null?u:u-1);return Jie(c,f=>{r.execPre(i,e,l,function(h){if(h!=null)return f(h);let d=0,p=o.apply(e,l.concat(m));p!=null&&typeof p.then=="function"&&p.then(g=>m(null,g),g=>m(g));function m(g,E){if(!(d++>0)){if(g!=null)return f(g);r.execPost(i,e,[E],function(_){if(_!=null)return f(_);f(null,E)})}}})},e.events)}}}});var WI=y((rpe,zI)=>{"use strict";zI.exports=function(e,r){for(let n in r.statics)e[n]=r.statics[n]}});var Hm=y((npe,GI)=>{"use strict";GI.exports=function t(e){return this instanceof t?(this.val=e,this):new t(e)}});var sf=y((spe,HI)=>{"use strict";HI.exports=new WeakMap});var JI=y((ipe,QI)=>{"use strict";var Xie=_t(),KI=sf(),Zie=ee().modelSymbol,eoe=ae();QI.exports=YI;var Km=Symbol("mongoose#assignRawDocsToIdStructure#hasArray");function YI(t,e,r,n,s){let i=[],o=n.isVirtual&&n.justOne&&t.length>1?!1:n.sort&&t.length>1,u=n.$nullIfNotFound,a,c,l;eoe.isMongooseArray(t)&&(t=t.__array);let f=0,h=t.length;if(o&&s&&n[Km]===void 0){n[Km]=!1;for(let d in r)if(Array.isArray(r[d])){n[Km]=!0;break}}for(f=0;f<h;++f){if(l=t[f],Array.isArray(l)){YI(l,e,r,n,!0),i.push(l);continue}if(l===null&&o===!1){i.push(l);continue}if(c=String(l),a=e[c],n.clone&&a!=null)if(n.lean){let d=KI.get(a);a=Xie(a),KI.set(a,d)}else a=a.constructor.hydrate(a._doc);if(s)if(a)if(o){let d=r[c];n[Km]?i.push(a):i[d]=a}else i.push(a);else l!=null&&l[Zie]!=null?i.push(l):i.push(n.retainNullValues||u?null:l);else i[f]=a||null}t.length=0,i.length&&i.forEach(function(d,p){t[p]=d})}});var i9=y((ope,XI)=>{"use strict";XI.exports=s9;function s9(t,e){if(t.virtuals[e])return{virtual:t.virtuals[e],path:void 0};let r=e.split("."),n="",s="";for(let i=0;i<r.length;++i){if(n+=(n.length>0?".":"")+r[i],t.virtuals[n]){if(i===r.length-1)return{virtual:t.virtuals[n],path:s};continue}if(!t.nested[n]){if(t.paths[n]&&t.paths[n].schema){t=t.paths[n].schema;let o=r.slice(i+1).join(".");if(t.virtuals[o]){if(i===r.length-2)return{virtual:t.virtuals[o],nestedSchemaPath:[s,n].filter(u=>!!u).join(".")};continue}if(i+1<r.length&&t.discriminators)for(let u of Object.keys(t.discriminators)){let a=s9(t.discriminators[u],o);if(a!=null){let c=[s,n,a.nestedSchemaPath].filter(l=>!!l).join(".");return{virtual:a.virtual,nestedSchemaPath:c}}}s+=(s.length>0?".":"")+n,n="";continue}if(t.discriminators)for(let o of Object.keys(t.discriminators)){let u=s9(t.discriminators[o],e);if(u)return u}return null}}}});var eR=y((Ym,ZI)=>{(function(t,e){typeof Ym=="object"&&typeof ZI<"u"?e(Ym):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.sift={}))})(Ym,function(t){"use strict";var e=function(S,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(D[H]=I[H])},e(S,b)};function r(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");e(S,b);function D(){this.constructor=S}S.prototype=b===null?Object.create(b):(D.prototype=b.prototype,new D)}var n=function(S){var b="[object "+S+"]";return function(D){return s(D)===b}},s=function(S){return Object.prototype.toString.call(S)},i=function(S){return S instanceof Date?S.getTime():o(S)?S.map(i):S&&typeof S.toJSON=="function"?S.toJSON():S},o=n("Array"),u=n("Object"),a=n("Function"),c=function(S){return S&&(S.constructor===Object||S.constructor===Array||S.constructor.toString()==="function Object() { [native code] }"||S.constructor.toString()==="function Array() { [native code] }")&&!S.toJSON},l=function(S,b){if(S==null&&S==b||S===b)return!0;if(Object.prototype.toString.call(S)!==Object.prototype.toString.call(b))return!1;if(o(S)){if(S.length!==b.length)return!1;for(var D=0,I=S.length;D<I;D++)if(!l(S[D],b[D]))return!1;return!0}else if(u(S)){if(Object.keys(S).length!==Object.keys(b).length)return!1;for(var H in S)if(!l(S[H],b[H]))return!1;return!0}return!1},f=function(S,b,D,I,H,te){var le=b[I];if(o(S)&&isNaN(Number(le))){for(var Oe=0,kr=S.length;Oe<kr;Oe++)if(!f(S[Oe],b,D,I,Oe,S))return!1}return I===b.length||S==null?D(S,H,te,I===0):f(S[le],b,D,I+1,le,S)},h=function(){function S(b,D,I,H){this.params=b,this.owneryQuery=D,this.options=I,this.name=H,this.init()}return S.prototype.init=function(){},S.prototype.reset=function(){this.done=!1,this.keep=!1},S}(),d=function(S){r(b,S);function b(D,I,H,te){var le=S.call(this,D,I,H)||this;return le.children=te,le}return b.prototype.reset=function(){this.keep=!1,this.done=!1;for(var D=0,I=this.children.length;D<I;D++)this.children[D].reset()},b.prototype.childrenNext=function(D,I,H,te){for(var le=!0,Oe=!0,kr=0,es=this.children.length;kr<es;kr++){var qr=this.children[kr];if(qr.done||qr.next(D,I,H,te),qr.keep||(Oe=!1),qr.done){if(!qr.keep)break}else le=!1}this.done=le,this.keep=Oe},b}(h),p=function(S){r(b,S);function b(D,I,H,te,le){var Oe=S.call(this,D,I,H,te)||this;return Oe.name=le,Oe}return b}(d),m=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.next=function(D,I,H,te){this.childrenNext(D,I,H,te)},b}(d),g=function(S){r(b,S);function b(D,I,H,te,le){var Oe=S.call(this,I,H,te,le)||this;return Oe.keyPath=D,Oe.propop=!0,Oe._nextNestedValue=function(kr,es,qr,ov){return Oe.childrenNext(kr,es,qr,ov),!Oe.done},Oe}return b.prototype.next=function(D,I,H){f(D,this.keyPath,this._nextNestedValue,0,I,H)},b}(d),E=function(S,b){if(S instanceof Function)return S;if(S instanceof RegExp)return function(I){var H=typeof I=="string"&&S.test(I);return S.lastIndex=0,H};var D=i(S);return function(I){return b(D,i(I))}},_=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){this._test=E(this.params,this.options.compare)},b.prototype.next=function(D,I,H){(!Array.isArray(H)||H.hasOwnProperty(I))&&this._test(D,I,H)&&(this.done=!0,this.keep=!0)},b}(h),A=function(S,b,D){return new _(S,b,D)},C=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.next=function(){this.done=!0,this.keep=!1},b}(h),x=function(S){return function(b,D,I,H){return b==null?new C(b,D,I,H):S(b,D,I,H)}},F=function(S){return x(function(b,D,I,H){var te=typeof i(b),le=S(b);return new _(function(Oe){return typeof i(Oe)===te&&le(Oe)},D,I,H)})},T=function(S,b,D,I){var H=I.operations[S];return H||V(S),H(b,D,I,S)},V=function(S){throw new Error("Unsupported operation: "+S)},z=function(S,b){for(var D in S)if(b.operations.hasOwnProperty(D)||D.charAt(0)==="$")return!0;return!1},R=function(S,b,D,I,H){if(z(b,H)){var te=N(b,D,H),le=te[0],Oe=te[1];if(Oe.length)throw new Error("Property queries must contain only operations, or exact objects.");return new g(S,b,I,H,le)}return new g(S,b,I,H,[new _(b,I,H)])},M=function(S,b,D){b===void 0&&(b=null);var I=D===void 0?{}:D,H=I.compare,te=I.operations,le={compare:H||l,operations:Object.assign({},te||{})},Oe=N(S,null,le),kr=Oe[0],es=Oe[1],qr=[];return kr.length&&qr.push(new g([],S,b,le,kr)),qr.push.apply(qr,es),qr.length===1?qr[0]:new m(S,b,le,qr)},N=function(S,b,D){var I=[],H=[];if(!c(S))return I.push(new _(S,S,D)),[I,H];for(var te in S)if(D.operations.hasOwnProperty(te)){var le=T(te,S[te],S,D);if(le&&!le.propop&&b&&!D.operations[b])throw new Error("Malformed query. "+te+" cannot be matched against property.");le!=null&&I.push(le)}else te.charAt(0)==="$"?V(te):H.push(R(te.split("."),S[te],te,S,D));return[I,H]},q=function(S){return function(b,D,I){return S.reset(),S.next(b,D,I),S.keep}},K=function(S,b){return b===void 0&&(b={}),q(M(S,null,b))},Ue=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){this._test=E(this.params,this.options.compare)},b.prototype.reset=function(){S.prototype.reset.call(this),this.keep=!0},b.prototype.next=function(D){this._test(D)&&(this.done=!0,this.keep=!1)},b}(h),hr=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){if(!this.params||typeof this.params!="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=M(this.params,this.owneryQuery,this.options)},b.prototype.reset=function(){S.prototype.reset.call(this),this._queryOperation.reset()},b.prototype.next=function(D){if(o(D)){for(var I=0,H=D.length;I<H;I++){this._queryOperation.reset();var te=D[I];this._queryOperation.next(te,I,D,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},b}(h),ft=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){this._queryOperation=M(this.params,this.owneryQuery,this.options)},b.prototype.reset=function(){S.prototype.reset.call(this),this._queryOperation.reset()},b.prototype.next=function(D,I,H,te){this._queryOperation.next(D,I,H,te),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},b}(h),Lt=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){},b.prototype.next=function(D){o(D)&&D.length===this.params&&(this.done=!0,this.keep=!0)},b}(h),vr=function(S){if(S.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},dr=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!1,D}return b.prototype.init=function(){var D=this;vr(this.params),this._ops=this.params.map(function(I){return M(I,null,D.options)})},b.prototype.reset=function(){this.done=!1,this.keep=!1;for(var D=0,I=this._ops.length;D<I;D++)this._ops[D].reset()},b.prototype.next=function(D,I,H){for(var te=!1,le=!1,Oe=0,kr=this._ops.length;Oe<kr;Oe++){var es=this._ops[Oe];if(es.next(D,I,H),es.keep){te=!0,le=es.keep;break}}this.keep=le,this.done=te},b}(h),Gi=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!1,D}return b.prototype.next=function(D,I,H){S.prototype.next.call(this,D,I,H),this.keep=!this.keep},b}(dr),P9=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.init=function(){var D=this;this._testers=this.params.map(function(I){if(z(I,D.options))throw new Error("cannot nest $ under "+D.name.toLowerCase());return E(I,D.options.compare)})},b.prototype.next=function(D,I,H){for(var te=!1,le=!1,Oe=0,kr=this._testers.length;Oe<kr;Oe++){var es=this._testers[Oe];if(es(D)){te=!0,le=!0;break}}this.keep=le,this.done=te},b}(h),ev=function(S){r(b,S);function b(D,I,H,te){var le=S.call(this,D,I,H,te)||this;return le.propop=!0,le._in=new P9(D,I,H,te),le}return b.prototype.next=function(D,I,H,te){this._in.next(D,I,H),o(H)&&!te?this._in.keep?(this.keep=!1,this.done=!0):I==H.length-1&&(this.keep=!0,this.done=!0):(this.keep=!this._in.keep,this.done=!0)},b.prototype.reset=function(){S.prototype.reset.call(this),this._in.reset()},b}(h),tv=function(S){r(b,S);function b(){var D=S!==null&&S.apply(this,arguments)||this;return D.propop=!0,D}return b.prototype.next=function(D,I,H){H.hasOwnProperty(I)===this.params&&(this.done=!0,this.keep=!0)},b}(h),rv=function(S){r(b,S);function b(D,I,H,te){var le=S.call(this,D,I,H,D.map(function(Oe){return M(Oe,I,H)}),te)||this;return le.propop=!1,vr(D),le}return b.prototype.next=function(D,I,H,te){this.childrenNext(D,I,H,te)},b}(p),nv=function(S){r(b,S);function b(D,I,H,te){var le=S.call(this,D,I,H,D.map(function(Oe){return M(Oe,I,H)}),te)||this;return le.propop=!0,le}return b.prototype.next=function(D,I,H,te){this.childrenNext(D,I,H,te)},b}(p),F9=function(S,b,D){return new _(S,b,D)},N9=function(S,b,D,I){return new Ue(S,b,D,I)},$9=function(S,b,D,I){return new dr(S,b,D,I)},I9=function(S,b,D,I){return new Gi(S,b,D,I)},R9=function(S,b,D,I){return new hr(S,b,D,I)},x9=function(S,b,D,I){return new ev(S,b,D,I)},v9=function(S,b,D,I){return new P9(S,b,D,I)},k9=F(function(S){return function(b){return b<S}}),q9=F(function(S){return function(b){return b<=S}}),L9=F(function(S){return function(b){return b>S}}),j9=F(function(S){return function(b){return b>=S}}),U9=function(S,b,D){var I=S[0],H=S[1];return new _(function(te){return i(te)%I===H},b,D)},V9=function(S,b,D,I){return new tv(S,b,D,I)},z9=function(S,b,D){return new _(new RegExp(S,b.$options),b,D)},W9=function(S,b,D,I){return new ft(S,b,D,I)},G9={number:function(S){return typeof S=="number"},string:function(S){return typeof S=="string"},bool:function(S){return typeof S=="boolean"},array:function(S){return Array.isArray(S)},null:function(S){return S===null},timestamp:function(S){return S instanceof Date}},H9=function(S,b,D){return new _(function(I){if(typeof S=="string"){if(!G9[S])throw new Error("Type alias does not exist");return G9[S](I)}return I!=null?I instanceof S||I.constructor===S:!1},b,D)},K9=function(S,b,D,I){return new rv(S,b,D,I)},Y9=function(S,b,D,I){return new nv(S,b,D,I)},Q9=function(S,b,D){return new Lt(S,b,D,"$size")},J9=function(){return null},X9=function(S,b,D){var I;if(a(S))I=S;else if(!process.env.CSP_ENABLED)I=new Function("obj","return "+S);else throw new Error('In CSP mode, sift does not support strings in "$where" condition');return new _(function(H){return I.bind(H)(H)},b,D)},sv=Object.freeze({__proto__:null,$Size:Lt,$eq:F9,$ne:N9,$or:$9,$nor:I9,$elemMatch:R9,$nin:x9,$in:v9,$lt:k9,$lte:q9,$gt:L9,$gte:j9,$mod:U9,$exists:V9,$regex:z9,$not:W9,$type:H9,$and:K9,$all:Y9,$size:Q9,$options:J9,$where:X9}),Z9=function(S,b,D){var I=D===void 0?{}:D,H=I.compare,te=I.operations;return M(S,b,{compare:H,operations:Object.assign({},sv,te||{})})},iv=function(S,b){b===void 0&&(b={});var D=Z9(S,null,b);return q(D)};t.$Size=Lt,t.$all=Y9,t.$and=K9,t.$elemMatch=R9,t.$eq=F9,t.$exists=V9,t.$gt=L9,t.$gte=j9,t.$in=v9,t.$lt=k9,t.$lte=q9,t.$mod=U9,t.$ne=N9,t.$nin=x9,t.$nor=I9,t.$not=W9,t.$options=J9,t.$or=$9,t.$regex=z9,t.$size=Q9,t.$type=H9,t.$where=X9,t.EqualsOperation=_,t.createDefaultQueryOperation=Z9,t.createEqualsOperation=A,t.createOperationTester=q,t.createQueryOperation=M,t.createQueryTester=K,t.default=iv,Object.defineProperty(t,"__esModule",{value:!0})})});var rR=y((upe,o9)=>{var tR=eR();o9.exports=tR.default;Object.assign(o9.exports,tR)});var aR=y((ape,uR)=>{"use strict";var toe=H0(),roe=Hm(),noe=JI(),Qm=pt(),soe=i9(),oR=sf(),nR=z0(),ioe=_4(),u9=Ts(),sR=rR().default,Jm=ae(),{populateModelSymbol:ooe}=ee();uR.exports=function(e){let r=Object.assign({},Qm(e,"allOptions.options.options"),Qm(e,"allOptions.options")),n=Object.assign({},e.options,r,{justOne:e.justOne,isVirtual:e.isVirtual});n.$nullIfNotFound=e.isVirtual;let s=e.populatedModel,i=[].concat(e.rawIds);e.allIds=[].concat(e.allIds),noe(e.rawIds,e.rawDocs,e.rawOrder,n);let o=e.docs,u=e.rawIds,a=e.options,c=e.count&&e.isVirtual,l,f=0;function h(d){if(++f,c)return d;if(d instanceof roe)return d.val;if(d===void 0)return d;let p=e.allIds[l];if(e.path.endsWith(".$*"))return of(d,a,n,p);if(e.justOne===!0&&Array.isArray(d)){let m=[];for(let g of d){let E=oR.get(g);(E==null||E===s)&&m.push(g)}for(;d.length>m.length;)Array.prototype.pop.apply(d,[]);for(let g=0;g<m.length;++g)d[g]=m[g];return of(d[0],a,n,p)}else{if(e.justOne===!1&&!Array.isArray(d))return of([d],a,n,p);if(e.justOne===!0&&!Array.isArray(d)&&Array.isArray(p))return of(d,a,n,d==null?d:p[f-1])}return of(d,a,n,p)}for(l=0;l<o.length;++l){f=0;let d=e.path.endsWith(".$*")?e.path.slice(0,-3):e.path,p=u9.get(d,o[l],nR);if(p==null&&!soe(e.originalModel.schema,d))continue;let m;c?m=uoe(u[l]):Array.isArray(e.match)?m=Array.isArray(u[l])?u[l].filter(x=>x==null||sR(e.match[l])(x)):[u[l]].filter(x=>x==null||sR(e.match[l])(x))[0]:m=u[l];let g=e.originalModel.schema,E=Qm(o[l],"$__",null)!=null,_=E?p instanceof Map:Jm.isPOJO(p);if(_=_&&Qm(g._getSchema(d),"$isSchemaMap"),!e.isVirtual&&_){let x=p instanceof Map?Array.from(p.keys()):Object.keys(p);m=m.reduce((F,T,V)=>(F.set(x[V],T),F),new Map)}if(E&&Array.isArray(m))for(let x of m)x!=null&&x.$__!=null&&(x.$__.parent=o[l]);else E&&m!=null&&m.$__!=null&&(m.$__.parent=o[l]);if(e.isVirtual&&E){o[l].$populated(d,e.justOne?i[0]:i,e.allOptions),Array.isArray(m)&&(m=m.map(x=>x??void 0)),u9.set(d,m,o[l],void 0,h,!1);continue}let A=d.split("."),C=o[l];for(let x=0;x<A.length-1&&!(Array.isArray(C)&&!Jm.isArrayIndex(A[x])||A[x]==="$*");++x){if(C[A[x]]==null){let F=A.slice(0,x+1).join("."),T=g._getSchema(F);if(m==null&&T!=null&&T.$isMongooseArray)break;C[A[x]]={}}if(C=C[A[x]],typeof C!="object")break}o[l].$__&&(e.allOptions.options[ooe]=e.allOptions.model,o[l].$populated(d,e.unpopulatedValues[l],e.allOptions.options),m!=null&&m.$__!=null&&(m.$__.wasPopulated={value:e.unpopulatedValues[l]}),m instanceof Map&&!m.$isMongooseMap&&(m=new toe(m,d,o[l],o[l].schema.path(d).$__schemaType))),u9.set(d,m,o[l],nR,h,!1),o[l].$__&&ioe(o[l],[e.allOptions.options])}};function uoe(t){return Array.isArray(t)?t.some(e=>Array.isArray(e)||e===null)?t.map(e=>e==null?0:Array.isArray(e)?e.filter(r=>r!=null).length:1):t.filter(e=>e!=null).length:t==null?0:1}function of(t,e,r,n){let s=typeof r.transform=="function",i=s?r.transform:aoe;if(Array.isArray(t)){let o=[],u=t.length;for(let l=0;l<u;++l){let f=t[l],h=Array.isArray(n)?n[l]:n;if(!(!a9(f)&&(!r.retainNullValues||f!=null)&&!s)){{if(!r.retainNullValues&&f==null)continue;s&&(f=i(a9(f)?f:null,h))}if(iR(f,e),o.push(f),e.originalLimit&&o.length>=e.originalLimit)break}}let a=o.length;for(;t.length>a;)Array.prototype.pop.apply(t,[]);let c=0;if(Jm.isMongooseArray(t))for(c=0;c<a;++c)t.set(c,o[c],!0);else for(c=0;c<a;++c)t[c]=o[c];return t}return a9(t)||Jm.isPOJO(t)?(iR(t,e),i(t,n)):t instanceof Map?t:r.justOne===!1?[]:t==null?i(t,n):i(null,n)}function iR(t,e){t!=null&&e.excludeId&&(typeof t.$__setValue=="function"?delete t._doc._id:delete t._id)}function a9(t){return t==null?!1:Array.isArray(t)||t.$isMongooseMap||t.$__!=null||oR.has(t)}function aoe(t){return t}});var c9=y((cpe,cR)=>{"use strict";var coe=yA();cR.exports=function(e,r,n){if(!n||!(r&&r.upsert))return;coe(e)[n]||(r.overwrite?e[n]=0:(e.$setOnInsert||(e.$setOnInsert={}),e.$setOnInsert[n]=0))}});var yR=y((lpe,mR)=>{"use strict";var loe=ut(),foe=Ps(),lR=u_(),fR=a_(),uf=$c(),hR=bA(),hoe=_t(),dR=c9(),{inspect:doe}=require("util"),pR=LA();mR.exports=function(e,r,n){let s=e.base.now(),i=e.base.options.setDefaultsOnInsert;return r.insertOne?o=>{let u=Kc(e,r.insertOne.document),a=new u(r.insertOne.document);u.schema.options.timestamps&&Xm(r.insertOne,n)&&a.initializeTimestamps(),n.session!=null&&a.$session(n.session);let c=u?.schema?.options?.versionKey;if(c&&a[c]==null&&(a[c]=0),r.insertOne.document=a,n.skipValidation||r.insertOne.skipValidation){o(null);return}r.insertOne.document.$validate().then(()=>{o(null)},l=>{o(l,null)})}:r.updateOne?o=>{try{if(!r.updateOne.filter)throw new Error("Must provide a filter object.");if(!r.updateOne.update)throw new Error("Must provide an update object.");let u=Kc(e,r.updateOne.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict,l=hoe(r.updateOne.update);af(a,r.updateOne.filter);let f=Xm(r.updateOne,n);if(u.schema.$timestamps!=null&&f){let d=u.schema.$timestamps.createdAt,p=u.schema.$timestamps.updatedAt;fR(s,d,p,l,{})}f&&lR(s,l,u.schema),(r.updateOne.setDefaultsOnInsert==null?i:r.updateOne.setDefaultsOnInsert)!==!1&&pR(r.updateOne.filter,u.schema,l,{setDefaultsOnInsert:!0,upsert:r.updateOne.upsert}),dR(l,r.updateOne,u.schema.options.versionKey),r.updateOne.filter=uf(u.schema,r.updateOne.filter,{strict:c,upsert:r.updateOne.upsert}),r.updateOne.update=hR(u.schema,l,{strict:c,upsert:r.updateOne.upsert},u,r.updateOne.filter)}catch(u){return o(u,null)}o(null)}:r.updateMany?o=>{try{if(!r.updateMany.filter)throw new Error("Must provide a filter object.");if(!r.updateMany.update)throw new Error("Must provide an update object.");let u=Kc(e,r.updateMany.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict;(r.updateMany.setDefaultsOnInsert==null?i:r.updateMany.setDefaultsOnInsert)!==!1&&pR(r.updateMany.filter,u.schema,r.updateMany.update,{setDefaultsOnInsert:!0,upsert:r.updateMany.upsert});let f=Xm(r.updateMany,n);if(u.schema.$timestamps!=null&&f){let h=u.schema.$timestamps.createdAt,d=u.schema.$timestamps.updatedAt;fR(s,h,d,r.updateMany.update,{})}f&&lR(s,r.updateMany.update,u.schema),af(a,r.updateMany.filter),dR(r.updateMany.update,r.updateMany,u.schema.options.versionKey),r.updateMany.filter=uf(u.schema,r.updateMany.filter,{strict:c,upsert:r.updateMany.upsert}),r.updateMany.update=hR(u.schema,r.updateMany.update,{strict:c,upsert:r.updateMany.upsert},u,r.updateMany.filter)}catch(u){return o(u,null)}o(null)}:r.replaceOne?o=>{let u=Kc(e,r.replaceOne.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict;af(a,r.replaceOne.filter);try{r.replaceOne.filter=uf(u.schema,r.replaceOne.filter,{strict:c,upsert:r.replaceOne.upsert})}catch(h){return o(h,null)}let l=new u(r.replaceOne.replacement,c,!0);u.schema.options.timestamps&&Xm(r.replaceOne,n)&&l.initializeTimestamps(),n.session!=null&&l.$session(n.session);let f=u?.schema?.options?.versionKey;if(f&&l[f]==null&&(l[f]=0),r.replaceOne.replacement=l,n.skipValidation||r.replaceOne.skipValidation){r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),o(null);return}r.replaceOne.replacement.$validate().then(()=>{r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),o(null)},h=>{o(h,null)})}:r.deleteOne?o=>{let u=Kc(e,r.deleteOne.filter),a=u.schema;af(a,r.deleteOne.filter);try{r.deleteOne.filter=uf(u.schema,r.deleteOne.filter)}catch(c){return o(c,null)}o(null)}:r.deleteMany?o=>{let u=Kc(e,r.deleteMany.filter),a=u.schema;af(a,r.deleteMany.filter);try{r.deleteMany.filter=uf(u.schema,r.deleteMany.filter)}catch(c){return o(c,null)}o(null)}:o=>{let u=new loe(`Invalid op passed to \`bulkWrite()\`: ${doe(r)}`);o(u,null)}};function af(t,e){t!=null&&t.discriminatorMapping&&!t.discriminatorMapping.isRoot&&(e[t.discriminatorMapping.key]=t.discriminatorMapping.value)}function Kc(t,e){let r=t.schema.options.discriminatorKey;return e!=null&&e.hasOwnProperty(r)&&(t=foe(t.discriminators,e[r])||t),t}function Xm(t,e){let r=t.timestamps,n=e.timestamps;return r??n??!0}});var AR=y((fpe,_R)=>{"use strict";var poe=Hm(),moe=T0(),{trusted:Zm}=dc(),gR=Lm();_R.exports=function(e,r,n,s,i){let o=yoe(r);if(n.size===1){let u=Array.from(n)[0],a=s.schema.path(u);if(u!=="_id"||!o._id)e=ER(e,a,i),o[u]=Zm({$in:e});else if(u==="_id"&&o._id){let l=gR(o[u])?o[u]:{$eq:o[u]};o[u]={...Zm({$in:e}),...l}}let c=moe(u);for(let l=0;l<c.length-1;++l){let f=c[l];if(o[f]!=null&&o[f].$elemMatch!=null){o[f].$elemMatch[u.slice(f.length+1)]=Zm({$in:e}),delete o[u];break}}}else{let u=[];Array.isArray(o.$or)?(o.$and=[{$or:o.$or},{$or:u}],delete o.$or):o.$or=u;for(let a of n)if(a!=="_id"||!o._id){let c=s.schema.path(a);e=ER(e,c,i),u.push({[a]:{$in:e}})}else if(a==="_id"&&o._id){let c=gR(o[a])?o[a]:{$eq:o[a]};o[a]={...Zm({$in:e}),...c}}}return o};function ER(t,e,r){return t=t.filter(n=>!(n instanceof poe)),r?t.filter(n=>{try{return e.cast(n),!0}catch{return!1}}):t}function yoe(t){return Array.isArray(t)?t.length>1?{$or:[].concat(t.map(e=>Object.assign({},e)))}:Object.assign({},t[0]):Object.assign({},t)}});var CR=y((hpe,OR)=>{"use strict";function goe(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}}OR.exports=goe});var wR=y((dpe,SR)=>{"use strict";SR.exports=function(e){return e==null?null:Object.keys(e)[0]}});var MR=y((ppe,TR)=>{"use strict";var bR=Tu(),Eoe=pt(),_oe=Ps(),DR=sf(),Yc=Ts(),Aoe=ee().populateModelSymbol;TR.exports=function t(e,r,n,s){let i=r.path(s),o=n;if(i)return i;let u=r.discriminatorMapping&&r.discriminatorMapping.key;if(u&&e!=null){if(n!=null&&n[u]!=null){let l=_oe(e.discriminators,n[u]);r=l?l.schema:r}else if(e.discriminators!=null)return Object.keys(e.discriminators).reduce((l,f)=>{let h=e.discriminators[f];return l.concat(t(h,h.schema,null,s))},[])}function a(l,f,h,d){let p=l.length+1,m,g;for(;p--;){if(g=l.slice(0,p).join("."),m=f.path(g),m==null)continue;if(m.caster){if(m.caster instanceof bR)return m.caster;let A=null;if(m.schema!=null&&m.schema.discriminators!=null){let C=m.schema.discriminators,x=g+"."+m.schema.options.discriminatorKey,F=h?Yc.get(x,h)||[]:[];A=Object.keys(C).reduce(function(T,V){let z=C[V].discriminatorMapping.value;return(n==null||F.indexOf(V)!==-1||F.indexOf(z)!==-1)&&T.push(C[V]),T},[])}if(p!==l.length&&m.schema){let C;if(l[p]==="$")return p+1===l.length?m:(C=a(l.slice(p+1),f,h?Yc.get(g,h):null,d.concat(l.slice(0,p))),C&&(C.$parentSchemaDocArray=C.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m)),C);if(A!=null&&A.length>0){C=[];for(let x of A){let F=a(l.slice(p),x,h?Yc.get(g,h):null,d.concat(l.slice(0,p)));F!=null&&(F.$parentSchemaDocArray=F.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m),F.$parentSchemaDocArray&&(C.$parentSchemaDocArray=F.$parentSchemaDocArray),C.push(F))}return C}else return C=a(l.slice(p),m.schema,h?Yc.get(g,h):null,d.concat(l.slice(0,p))),C&&(C.$parentSchemaDocArray=C.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m)),C}else if(p!==l.length&&m.$isMongooseArray&&m.casterConstructor.$isMongooseArray){let C=m;for(;C.$isMongooseArray&&!C.$isMongooseDocumentArray;)C=C.casterConstructor;let x=a(l.slice(p),C.schema,null,d.concat(l.slice(0,p)));if(x!=null)return x;if(C.schema.discriminators){let F=[];for(let T of Object.keys(C.schema.discriminators)){let V=C.schema.discriminators[T]||C.schema,z=a(l.slice(p),V,null,d.concat(l.slice(0,p)));z!=null&&F.push(z)}if(F.length>0)return F}}}else if(m.$isSchemaMap&&m.$__schemaType instanceof bR)return m.$__schemaType;let E=d.concat([g]).join(".");if(o!=null&&o.$__&&o.$populated(E)&&p<l.length){let A=n.$__.populated[E].options[Aoe];if(A!=null)return a(l.slice(p),A.schema,h?Yc.get(g,h):null,d.concat(l.slice(0,p)))}let _=Eoe(o,g);if(_!=null){let A=Array.isArray(_)&&_.length>0?DR.get(_[0]):DR.get(_),C=A!=null?A.schema:null;if(C!=null){let x=a(l.slice(p),C,h?Yc.get(g,h):null,d.concat(l.slice(0,p)));if(x!=null)return x.$parentSchemaDocArray=x.$parentSchemaDocArray||(C.$isSingleNested?null:C),x}}return m}}let c=s.split(".");for(let l=0;l<c.length;++l)c[l]==="$"&&(c[l]="0");return a(c,r,n,[])}});var IR=y((mpe,$R)=>{"use strict";var PR=Je(),Ooe=Hm(),Coe=_t(),Xn=pt(),Soe=Ps(),woe=Jr(),BR=MR(),boe=i9(),cf=z0(),ju=Ts(),e2=Z4(),xr=ae(),h9=ee().modelSymbol,l9=ee().populateModelSymbol,d9=Du().schemaMixedSymbol,Doe=u4();$R.exports=function(e,r,n){let s,i=r.length,o=[],u=n.model&&n.model.modelName||n.model,a,c,l,f={},h=e.schema;if(n._localModel!=null&&n._localModel.schema.nested[n.path])return[];let d=boe(e.schema,n.path);if((d==null?null:d.virtual)!=null)return Toe(e,r,n,d);let m=BR(e,h,null,n.path);if(m=Array.isArray(m)?m:[m].filter(_=>_!=null),!(n.strictPopulate===!1||n.options?.strictPopulate===!1)&&m.length===0&&n._localModel!=null)return new Doe(n._fullPath||n.path);for(let _=0;_<i;_++){s=r[_];let A=null,C=s!=null&&s.$__!=null?s.$__schema:h;if(a=BR(e,C,s,n.path),a!=null&&a.$isMongooseDocumentArray&&a.options.ref==null&&a.options.refPath==null)continue;if(a&&a.$parentSchemaDocArray&&Xn(n,"options.sort")!=null)return new PR("Cannot populate with `sort` on path "+n.path+" because it is a subproperty of a document array");l=null;let F=!1,T=null,V=null,z=null;if(a!=null&&a.instance==="Embedded"){if(a.options.ref){let ft={localField:n.path+"._id",foreignField:"_id",justOne:!0},Lt=E(s,a,u,e),vr=ju.get(n.path,s),dr=ju.get("_id",vr);p9(e,o,f,Lt.modelNames,n,ft,dr,s,V,vr)}continue}if(Array.isArray(a)){let ft=a;for(let Lt of ft){let vr,dr;try{dr=E(s,Lt,u,e),vr=dr.modelNames,F=F||dr.isRefPath,T=T||dr.refPath,A=dr.justOne}catch(Gi){return Gi}if(!(F&&!dr.isRefPath)&&vr){l=l||[];for(let Gi of vr)l.indexOf(Gi)===-1&&l.push(Gi)}}}else{try{let ft=E(s,a,u,e);l=ft.modelNames,F=ft.isRefPath,T=T||ft.refPath,A=ft.justOne,V=Xn(a,"options.populate",null),F&&(z=l,l=Array.from(new Set(l)))}catch(ft){return ft}if(!l)continue}let R={},M=n.path,N="_id";if("justOne"in n&&n.justOne!==void 0?A=n.justOne:a&&!a[d9]&&(n.path.endsWith("."+a.path)||n.path===a.path)&&(A=Array.isArray(a)?a.every(ft=>!ft.$isMongooseArray):!a.$isMongooseArray),!l)continue;R.isVirtual=!1,R.justOne=A,R.localField=M,R.foreignField=N;let q=FR(s,M,e,n,null,a),K=String(xr.getValue(N,s));n._docs[K]=Array.isArray(q)?q.slice():q;let Ue=Xn(n,"match",null),hr=typeof Ue=="function";hr&&(Ue=Ue.call(s,s)),R.match=Ue,R.hasMatchFunction=hr,R.isRefPath=F,R.modelNamesInOrder=z,F&&(l=Moe(s,h,R,n,T,q)||l);try{p9(e,o,f,l,n,R,q,s,V)}catch(ft){return ft}}return o;function E(_,A,C,x){let F,T=!1,V=null,z=A;A&&A.instance==="Array"&&(A=A.caster),A&&A.$isSchemaMap&&(A=A.$__schemaType);let R=A&&A.options&&A.options.ref;if(c=A&&A.options&&A.options.refPath,A!=null&&A[d9]&&!R&&!c&&!C)return{modelNames:null};if(C)F=[C];else if(c!=null){if(typeof c=="function"){let M=n.path.slice(0,n.path.length-A.path.length-1),N=ju.get(M,_,cf),q=Array.isArray(N)?xr.array.flatten(N):N?[N]:[];F=new Set;for(let K of q)c=c.call(K,K,n.path),e2(c,_,n.path,h,n._queryProjection).forEach(Ue=>F.add(Ue));F=Array.from(F)}else F=e2(c,_,n.path,h,n._queryProjection);T=!0}else{let M,N,q,K,Ue=x,hr=x.schema.options.discriminatorKey;if(!A&&hr&&(K=xr.getValue(hr,_))){let ft=Soe(x.discriminators,K)||x;if(ft!=null)Ue=ft;else try{Ue=m9(x.db,K)}catch(Lt){return Lt}q=Ue.schema._getSchema(n.path),q&&q.caster&&(q=q.caster)}else q=A;if(z&&z.path.endsWith(".$*")?V=!z.$isMongooseArray&&!z._arrayPath:q!=null&&(V=!q.$isMongooseArray&&!q._arrayPath),(M=Xn(q,"options.ref"))!=null)if(q!=null&&typeof M=="function"&&n.path.endsWith("."+q.path)){F=new Set;let ft=n.path.slice(0,n.path.length-q.path.length-1),Lt=ju.get(ft,_,cf),vr=Array.isArray(Lt)?xr.array.flatten(Lt):Lt?[Lt]:[];for(let dr of vr)F.add(f9(M,dr));vr.length===0?F=[f9(M,_)]:F=Array.from(F)}else M=f9(M,_),F=[M];else if((q=Xn(A,"options.refPath"))!=null)if(T=!0,typeof N=="function"){let ft=n.path.slice(0,n.path.length-q.path.length-1),Lt=ju.get(ft,_,cf),vr=Array.isArray(Lt)?xr.array.flatten(Lt):Lt?[Lt]:[];F=new Set;for(let dr of vr)N=N.call(dr,dr,n.path),e2(N,_,n.path,h,n._queryProjection).forEach(Gi=>F.add(Gi));F=Array.from(F)}else F=e2(N,_,n.path,h,n._queryProjection)}if(!F)if(n._localModel==null)F=[x.modelName];else return{modelNames:F,justOne:V,isRefPath:T,refPath:c};return Array.isArray(F)||(F=[F]),{modelNames:F,justOne:V,isRefPath:T,refPath:c}}};function Toe(t,e,r,n){let s=[],i={},o=n.virtual;for(let u of e){let a=null,c={},l,f=n.nestedSchemaPath?n.nestedSchemaPath+".":"";typeof r.localField=="string"?l=r.localField:typeof o.options.localField=="function"?l=f+o.options.localField.call(u,u):Array.isArray(o.options.localField)?l=o.options.localField.map(_=>f+_):l=f+o.options.localField,c.count=o.options.count,o.options.skip!=null&&!r.hasOwnProperty("skip")&&(r.skip=o.options.skip),o.options.limit!=null&&!r.hasOwnProperty("limit")&&(r.limit=o.options.limit),o.options.perDocumentLimit!=null&&!r.hasOwnProperty("perDocumentLimit")&&(r.perDocumentLimit=o.options.perDocumentLimit);let h=o.options.foreignField;if(!l||!h)return new PR(`Cannot populate virtual \`${r.path}\` on model \`${t.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);typeof l=="function"&&(l=l.call(u,u)),typeof h=="function"&&(h=h.call(u,u)),c.isRefPath=!1;let d=null;"justOne"in r&&r.justOne!==void 0&&(d=r.justOne),a=o._getModelNamesForPopulate(u),o.options.refPath?(d=!!o.options.justOne,c.isRefPath=!0):o.options.ref&&(d=!!o.options.justOne),c.isVirtual=!0,c.virtual=o,c.justOne=d;let p=Xn(c,"virtual.options.match",null)||Xn(c,"virtual.options.options.match",null),m=Xn(r,"match",null)||p,g=typeof m=="function";if(g&&(m=m.call(u,u,c.virtual)),Array.isArray(l)&&Array.isArray(h)&&l.length===h.length){m=Object.assign({},m);for(let _=1;_<l.length;++_)m[h[_]]=NR(ju.get(l[_],u,cf),t.schema),g=!0;l=l[0],h=h[0]}c.localField=l,c.foreignField=h,c.match=m,c.hasMatchFunction=g;let E=FR(u,l,t,r,o);try{p9(t,s,i,a,r,c,E,u)}catch(_){return _}}return s}function p9(t,e,r,n,s,i,o,u,a,c){let l=s.connection!=null?s.connection:t.db;if(c=c===void 0?o:c,Array.isArray(c)&&(c=xr.cloneArrays(c)),n==null)return;let f=n.length;for(;f--;){let h=n[f];if(h==null)continue;let d;if(s.model&&s.model[h9])d=s.model;else if(h[h9])d=h,h=d.modelName;else try{d=m9(l,h)}catch(_){if(o!==void 0)throw _;d=null}let p=o,m=Array.isArray(o)?xr.array.flatten(o):[],g=i.modelNamesInOrder?i.modelNamesInOrder:n;i.isRefPath&&Array.isArray(o)&&m.length===g.length&&(p=m.filter((_,A)=>g[A]===h));let E=s.perDocumentLimit==null?Xn(s,"options.perDocumentLimit",null):s.perDocumentLimit;if(!r[h]||E!=null){let _={model:d};i.isVirtual&&Xn(i.virtual,"options.options")?_.options=Coe(i.virtual.options.options):a!=null&&(_.options=Object.assign({},a)),xr.merge(_,s),s[l9]=d,_[l9]=d,r[h]={model:d,options:_,match:i.hasMatchFunction?[i.match]:i.match,docs:[u],ids:[p],allIds:[o],unpopulatedValues:[c],localField:new Set([i.localField]),foreignField:new Set([i.foreignField]),justOne:i.justOne,isVirtual:i.isVirtual,virtual:i.virtual,count:i.count,[l9]:d},e.push(r[h])}else r[h].localField.add(i.localField),r[h].foreignField.add(i.foreignField),r[h].docs.push(u),r[h].ids.push(p),r[h].allIds.push(o),r[h].unpopulatedValues.push(c),i.hasMatchFunction&&r[h].match.push(i.match)}}function m9(t,e){return t.models[e]==null&&t._parent!=null?m9(t._parent,e):t.model(e)}function f9(t,e){return typeof t=="function"&&!t[h9]?t.call(e,e):t}function FR(t,e,r,n,s,i){let o=r.schema._getPathType(e),u=o==="real"?r.schema.path(e):o.schema,a=u&&u.getters?u.getters:[];e=u!=null&&u.instance==="Embedded"?e+"._id":e;let c=Xn(n,"options",{}),l="getters"in c?c.getters:Xn(s,"options.getters",!1);if(a.length!==0&&l){let f=t.$__!=null?t:r.hydrate(t),h=xr.getValue(e,t);if(Array.isArray(h)){let d=xr.getValue(e.split(".").slice(0,-1),f);return h.map((p,m)=>u.applyGetters(p,d[m]))}else return u.applyGetters(h,f)}else return NR(ju.get(e,t,cf),i)}function NR(t,e){if(t!=null&&t.$__!=null||t!=null&&t._id!=null&&(e==null||!e.$isSchemaMap))return t._id;if(Array.isArray(t)){let r=t.__array!=null?t.__array:t;for(let n=0;n<r.length;++n)r[n]!=null&&r[n].$__!=null&&(r[n]=r[n]._id);return xr.isMongooseArray(t)&&t.$schema()?t.$schema()._castForPopulate(t,t.$parent()):[].concat(t)}if(woe(t)==="Object"&&(e==null||e[d9]==null)){let r=[];for(let n of Object.keys(t))r.push(t[n]);return r}return t instanceof Map?Array.from(t.values()):t}function Moe(t,e,r,n,s,i){if(!r.isRefPath||s==null)return;let o=s.split("."),u="",a;for(let c=0;c<o.length;++c){let l=o[c];u=u+(u.length===0?"":".")+l;let f=e.path(u);if(f!=null&&f.$isMongooseArray&&f.caster.discriminators!=null&&Object.keys(f.caster.discriminators).length!==0){let h=xr.getValue(u,t),d=n.path.substring(u.length+1),p=f.caster.schema.options.discriminatorKey;a=[];for(let m of h){let g=xr.getValue(p,m),E=f.caster.discriminators[g],_=E&&E.schema;if(_==null)continue;let A=_.path(d);if(A==null||A.options.refPath==null){let x=xr.getValue(r.localField.substring(u.length+1),m);i.forEach((F,T)=>{F===x&&(i[T]=Ooe(F))});continue}let C=xr.getValue(o.slice(c+1).join("."),m);a.push(C)}}}return a}});var xR=y((ype,RR)=>{"use strict";var Boe=pt();RR.exports=function(e){if(Array.isArray(e)){let n=Object.keys(e[0]);return n.length===1&&n[0]==="_id"&&e[0]._id!=="hashed"}if(typeof e!="object")return!1;let r=Boe(e,"key",{});return Object.keys(r).length===1&&r.hasOwnProperty("_id")}});var qR=y((gpe,kR)=>{"use strict";var t2=pt(),vR=ae();kR.exports=function(e,r,n){if(n.textIndexVersion!=null){delete n.key._fts,delete n.key._ftsx;let u={...n.weights,...n.key};if(Object.keys(u).length!==Object.keys(e).length)return!1;for(let a of Object.keys(u)){if(!(a in e))return!1;let c=u[a];if(c!==t2(r,"weights."+a)&&!(c===1&&t2(r,"weights."+a)==null))return!1}return r.default_language!==n.default_language?n.default_language==="english"&&r.default_language==null:!0}let s=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let u of s)if(!(!(u in r)&&!(u in n))){if(u==="collation"){if(r[u]==null||n[u]==null)return r[u]==null&&n[u]==null;let a=Object.keys(r.collation),c=r.collation,l=n.collation;for(let f of a)if(t2(c,f)!==t2(l,f))return!1}else if(!vR.deepEqual(r[u],n[u]))return!1}let i=Object.keys(e),o=Object.keys(n.key);if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u]||!vR.deepEqual(e[i[u]],n.key[o[u]]))return!1;return!0}});var VR=y((Epe,UR)=>{"use strict";var Poe=Lm();function Foe(t,e){return jR({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"schema"})}function Noe(t,e){return jR({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"db"})}UR.exports={getRelatedSchemaIndexes:Foe,getRelatedDBIndexes:Noe};function jR({baseModelName:t,discriminatorMapping:e,indexes:r,indexesType:n}){let s=e&&e.key,i=e&&e.value;return s?t?r.filter(u=>{let a=LR(u,n);return a&&a[s]===i}):r.filter(u=>{let a=LR(u,n);return!a||!a[s]||Poe(a[s])&&!("$eq"in a[s])}):r}function LR(t,e){if(e==="schema"){let r=t[1];return r&&r.partialFilterExpression}return t.partialFilterExpression}});var WR=y((_pe,zR)=>{"use strict";zR.exports=$oe;function $oe(t,e,r){let n=0,s=0,i=null;if(e<=0)throw new Error("Limit must be positive");if(t.length===0)return r(null,[]);for(let c=0;c<t.length&&c<e;++c)o();function o(){t[s+n](a(s+n)),++n}let u=[];function a(c){return(l,f)=>{if(--n,++s,i==null){if(l!=null)return i=l,r(i);if(u[c]=f,s===t.length)return r(null,u);s+n<t.length&&o()}}}}});var HR=y((Ape,GR)=>{"use strict";GR.exports=function t(e,r,n){if(r!=null)for(let s=0;s<r.length;++s)Array.isArray(r[s])?t(e,r[s],n+"."+s):e.push(n+"."+s)}});var XR=y((Ope,JR)=>{"use strict";var KR=pt(),YR=Ts(),QR=kA();JR.exports=function(e,r,n){let s=QR(KR(r,"select",null),!0)||QR(KR(r,"options.select",null),!0);if(s!=null){for(let i of e)if(s.hasOwnProperty("-"+i))for(let o of n)o.$__!=null?YR.unset(i,o._doc):YR.unset(i,o)}}});var ex=y((Cpe,ZR)=>{"use strict";var Ioe=Je(),r2=class extends Ioe{constructor(e,r,n,s){let i=e.map(o=>o.message).join(", ");i.length>200&&(i=i.slice(0,200)+"..."),super(`${s} failed with ${e.length} Mongoose validation errors: ${i}`),this.validationErrors=e,this.results=r,this.rawResult=n,this.operation=s}};Object.defineProperty(r2.prototype,"name",{value:"MongooseBulkWriteError"});ZR.exports=r2});var t9=y((_x,Ax)=>{"use strict";var Roe=JA(),xoe=JE(),Uu=en(),voe=t0(),koe=o4(),y9=require("events").EventEmitter,A9=mc(),qoe=Fl(),de=Je(),Loe=_0(),joe=s4(),n2=Vm(),Uoe=BI(),g9=Mc(),E9=wu(),ax=r4(),tx=n4(),Voe=O0(),zoe=FI(),Woe=e9(),Goe=G0(),cx=II(),Hoe=vI(),lx=jI(),Koe=VI(),fx=WI(),hx=mA(),Yoe=aR(),Qoe=yR(),ni=_t(),Joe=AR(),dx=c9(),rx=CR(),Xoe=w0(),Zoe=gm(),eue=wR(),_9=N_(),ff=pt(),tue=Jr(),s2=Ps(),rue=IR(),Xc=fn(),o2=bs().internalToObjectOptions,O9=xR(),px=qR(),{getRelatedDBIndexes:nue,getRelatedSchemaIndexes:sue}=VR(),nx=X4(),C9=r_(),iue=D0(),oue=sf(),uue=WR(),aue=T0(),cue=KA(),mx=HR(),lue=XR(),fue=_A(),sx=Vu(),ix=require("util"),xe=ae(),yx=ex(),hue=A4(),Zc=1,e1=2,Qc=Zc|e1,S9=ee().arrayAtomicsSymbol,hf=Symbol("mongoose#Model#collection"),u2=Symbol("mongoose#Model#db"),gx=ee().modelSymbol,lf=Symbol("mongoose#Model#subclassed"),due=Object.assign({},o2,{bson:!0,flattenObjectIds:!1});function W(t,e,r){if(e instanceof g9)throw new TypeError("2nd argument to `Model` constructor must be a POJO or string, **not** a schema. Make sure you're calling `mongoose.model()`, not `mongoose.Model()`.");if(typeof t=="string")throw new TypeError("First argument to `Model` constructor must be an object, **not** a string. Make sure you're calling `mongoose.model()`, not `mongoose.Model()`.");Uu.call(this,t,e,r)}Object.setPrototypeOf(W.prototype,Uu.prototype);W.prototype.$isMongooseModelPrototype=!0;W.prototype.db;W.prototype.collection;W.prototype.$__collection;W.prototype.modelName;W.prototype.$where;W.prototype.baseModelName;W.events;W._middleware;function Ex(t,e){if(t.$where!=null)for(let r of Object.keys(t.$where))e[r]=t.$where[r]}W.prototype.$__handleSave=function(t,e){let r={};hx(this.$__schema,t),typeof t.writeConcern<"u"?(r.writeConcern={},"w"in t.writeConcern&&(r.writeConcern.w=t.writeConcern.w),"j"in t.writeConcern&&(r.writeConcern.j=t.writeConcern.j),"wtimeout"in t.writeConcern&&(r.writeConcern.wtimeout=t.writeConcern.wtimeout)):("w"in t&&(r.w=t.w),"j"in t&&(r.j=t.j),"wtimeout"in t&&(r.wtimeout=t.wtimeout)),"checkKeys"in t&&(r.checkKeys=t.checkKeys);let n=this.$session();if(!r.hasOwnProperty("session")&&n!=null&&(r.session=n),this.$isNew){let o=this.toObject(due);if((o||{})._id===void 0){Xc(function(){e(new de("document must have an _id before saving"))});return}this.$__version(!0,o),this[hf].insertOne(o,r).then(u=>e(null,u),u=>{Jc(this,!0),e(u,null)}),this.$__reset(),Jc(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;let s=this.$__delta();if(t.pathsToSave){for(let o in s[1].$set)if(!t.pathsToSave.includes(o)){if(t.pathsToSave.some(u=>o.slice(0,u.length)===u&&o.charAt(u.length)==="."))continue;delete s[1].$set[o]}}if(s){if(s instanceof de){e(s);return}let o=this.$__where(s[0]);if(o instanceof de){e(o);return}Ex(this,o);let u=s[1];if(this.$__schema.options.minimize){for(let a of Object.values(u))if(a!=null)for(let c of Object.keys(a))a[c]==null||typeof a[c]!="object"||xe.isPOJO(a[c])&&(hue(a[c]),Object.keys(a[c]).length===0&&(delete a[c],u.$unset=u.$unset||{},u.$unset[c]=1))}this[hf].updateOne(o,u,r).then(a=>{a.$where=o,e(null,a)},a=>{this.$__undoReset(),e(a)})}else{i.call(this);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),Jc(this,!1);function i(){let o=Object.assign({},t,r),u=this.$__where(),a=this.$__schema.options.optimisticConcurrency;if(a&&!Array.isArray(a)){let c=this.$__schema.options.versionKey,l=this.$__getValue(c);l!=null&&(u[c]=l)}this.constructor.collection.findOne(u,o).then(c=>{e(null,{$where:u,matchedCount:c?1:0})}).catch(e)}};W.prototype.$__save=function(t,e){this.$__handleSave(t,(r,n)=>{if(r)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},u=>{e(u,this)});let s=0;if((t!=null?t.writeConcern!=null?t.writeConcern.w:t.w:0)!==0){if(n!=null&&(Array.isArray(n)?s=n.length:n.matchedCount!=null?s=n.matchedCount:s=n),this.$__.version&&!this.$__.inserting){let u=e1===(e1&this.$__.version);this.$__.version=void 0;let a=this.$__schema.options.versionKey,c=this.$__getValue(a)||0;if(s<=0){this.$__undoReset();let l=this.$__.$versionError||new ax(this,c,this.$__.modifiedPaths);return e(l)}u&&this.$__setValue(a,c+1)}if(n!=null&&s<=0)return this.$__undoReset(),r=new voe(n.$where,this.constructor.modelName,s,n),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},a=>{e(a,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,s),this.constructor.emit("save",this,s),e(null,this)})};function pue(t,e){let r=t.$__schema.options.versionKey;if(!r)return null;let n=t.$__getValue(r)||0;return new ax(t,n,e)}W.prototype.save=async function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new de("Model.prototype.save() no longer accepts a callback");let r;if(this.$op="save",this.$__.saving?r=new tx(this):this.$__.saving=new tx(this),e=new Uoe(e),e.hasOwnProperty("session")&&this.$session(e.session),this.$__.timestamps!=null&&(e.timestamps=this.$__.timestamps),this.$__.$versionError=pue(this,this.modifiedPaths()),r)throw this.$__handleReject(r),r;return this.$__.saveOptions=e,await new Promise((n,s)=>{this.$__save(e,i=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,i!=null)return this.$__handleReject(i),s(i);n()})}),this};W.prototype.$save=W.prototype.save;function mue(t,e){let r=t.$__schema.options.skipVersioning;return r?(e=e.replace(/\.\d+\./,"."),r[e]):!1}function Io(t,e,r,n,s,i){if(i||(i="$set"),r[i]||(r[i]={}),r[i][n.path]=s,t.$__schema.options.versionKey!==!1&&!mue(t,n.path)&&Qc!==(Qc&t.$__.version)&&!t.$__schema.options.optimisticConcurrency){switch(i){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}i==="$push"||i==="$addToSet"||i==="$pullAll"||i==="$pull"?/\.\d+\.|\.\d+$/.test(n.path)?i2.call(t):t.$__.version=e1:/^\$p/.test(i)||Array.isArray(s)?i2.call(t):/\.\d+\.|\.\d+$/.test(n.path)&&(t.$__.version=Zc)}}function yue(t,e,r,n,s){if(r.$set&&r.$set[n.path])return;if(typeof s.$__getAtomics=="function"){s.$__getAtomics().forEach(function(f){let h=f[0],d=f[1];Io(t,e,r,n,d,h)});return}let i=s[S9],o=Object.keys(i),u=o.length,a,c;if(u===0)return xe.isMongooseObject(s)?s=s.toObject({depopulate:1,_isNested:!0}):s.valueOf&&(s=s.valueOf()),Io(t,e,r,n,s);function l(f){return xe.isMongooseObject(f)?f.toObject({depopulate:1,_isNested:!0}):f}for(;u--;)c=o[u],a=i[c],xe.isMongooseObject(a)?a=a.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(a)?a=a.map(l):a.valueOf&&(a=a.valueOf()),c==="$addToSet"&&(a={$each:a}),Io(t,e,r,n,a,c)}W.prototype.$__delta=function(){let t=this.$__dirty(),e=this.$__schema.options.optimisticConcurrency;if(e)if(Array.isArray(e)){let u=new Set(e);this.modifiedPaths().find(c=>u.has(c))&&(this.$__.version=t.length?Qc:Zc)}else this.$__.version=t.length?Qc:Zc;if(!t.length&&Qc!==this.$__.version)return;let r={},n={},s=t.length,i=[],o=0;for(r._id=this._doc._id,(r&&r._id&&r._id.$__||null)!=null&&(r._id=r._id.toObject({transform:!1,depopulate:!0}));o<s;++o){let u=t[o],a=u.value,c=gue(this,u.path,a);if(c){i.push(c);continue}if(!this.$populated(u.path,!0)&&this.$__.selected){let f=u.path.split("."),h=f[0];if(this.$__.selected[h]&&this.$__.selected[h].$elemMatch)if(f.length>1&&f[1]==0&&typeof r[h]>"u")r[h]=this.$__.selected[h],f[1]="$",u.path=f.join(".");else{i.push(u.path);continue}}if(!(this.$isDefault(u.path)&&this.$__.selected&&(u.path.indexOf(".")===-1&&nx(this.$__.selected,u.path)||aue(u.path).find(h=>nx(this.$__.isSelected,h))))&&!i.length)if(a===void 0)Io(this,r,n,u,1,"$unset");else if(a===null)Io(this,r,n,u,null);else if(xe.isMongooseArray(a)&&a.$path()&&a[S9])yue(this,r,n,u,a);else if(a[qoe.pathSymbol]&&Buffer.isBuffer(a))a=a.toObject(),Io(this,r,n,u,a);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[u.path]!=null){let f=this.$__.primitiveAtomics[u.path],h=eue(f);Io(this,r,n,u,f[h],h)}else a=ni(a,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),Io(this,r,n,u,a)}return i.length?new koe(i):(this.$__.version&&this.$__version(r,n),Object.keys(n).length===0?[r,null]:[r,n])};function gue(t,e,r){let n=t.$populated(e,!0);if(!n&&t.$__.selected){let i=e.split(".")[0];if(t.$__.selected[i+".$"])return i}if(!(n&&xe.isMongooseArray(r)))return;if(n.options.match||n.options.options&&xe.object.hasOwnProperty(n.options.options,"limit")||n.options.options&&n.options.options.skip||n.options.select&&(n.options.select._id===0||/\s?-_id\s?/.test(n.options.select))){let i=r[S9];if(Object.keys(i).length===0||i.$set||i.$pop)return e}}W.prototype.$__version=function(t,e){let r=this.$__schema.options.versionKey;if(t===!0){r&&(fue(e,r,0),this.$__setValue(r,0));return}if(r!==!1&&this.$__isSelected(r)){if(Zc===(Zc&this.$__.version)){let n=this.$__getValue(r);n!=null&&(t[r]=n)}e1===(e1&this.$__.version)&&(ff(e.$set,r,null)!=null?++e.$set[r]:(e.$inc=e.$inc||{},e.$inc[r]=1))}};function i2(){return this.$__.version=Qc,this}W.prototype.increment=i2;W.prototype.$__where=function(e){return e||(e={}),e._id||(e._id=this._doc._id),this._doc._id===void 0?new de("No _id found on document!"):e};W.prototype.deleteOne=function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new de("Model.prototype.deleteOne() no longer accepts a callback");e||(e={}),e.hasOwnProperty("session")&&this.$session(e.session);let r=this,n=this.$__where();if(n instanceof Error)throw n;let s=r.constructor.deleteOne(n,e);return this.$session()!=null&&("session"in s.options||(s.options.session=this.$session())),s.pre(function(o){r.constructor._middleware.execPre("deleteOne",r,[r],o)}),s.pre(function(o){_9(r.$getAllSubdocs(),(u,a)=>{u.constructor._middleware.execPre("deleteOne",u,[u],a)},o)}),s.pre(function(o){return r.$__.isDeleted?o(A9.skipWrappedFunction()):o()}),s.post(function(o){_9(r.$getAllSubdocs(),(u,a)=>{u.constructor._middleware.execPost("deleteOne",u,[u],{},a)},o)}),s.post(function(o){r.constructor._middleware.execPost("deleteOne",r,[r],{},o)}),s};W.prototype.$model=function(e){return arguments.length===0?this.constructor:this[u2].model(e)};W.prototype.model=W.prototype.$model;W.exists=function(e,r){if(_e(this,"exists"),typeof arguments[2]=="function")throw new de("Model.exists() no longer accepts a callback");return this.findOne(e).select({_id:1}).lean().setOptions(r)};W.discriminator=function(t,e,r){let n;if(typeof t=="function"&&(n=t,t=xe.getFunctionName(n),!(n.prototype instanceof W)))throw new de("The provided class "+t+" must extend Model");r=r||{};let s=xe.isPOJO(r)?r.value:r,i=typeof r.clone=="boolean"?r.clone:!0,o=typeof r.mergePlugins=="boolean"?r.mergePlugins:!0;if(_e(this,"discriminator"),xe.isObject(e)&&!e.instanceOfSchema&&(e=new g9(e)),e instanceof g9&&i&&(e=e.clone()),e=Zoe(this,t,e,s,o,r.mergeHooks),this.db.models[t]&&!e.options.overwriteModels)throw new joe(t);e.$isRootDiscriminator=!0,e.$globalPluginsApplied=!0,n=this.db.model(n||t,e,this.$__collection.name),this.discriminators[t]=n;let u=this.discriminators[t];if(Object.setPrototypeOf(u.prototype,this.prototype),Object.defineProperty(u,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),cx(u,e),fx(u,e),this[lf]!=null)for(let a of this[lf])a.discriminators=a.discriminators||{},a.discriminators[t]=n.__subclass(n.db,e,a.collection.name);return u};function _e(t,e){if(t==null||t===global)throw new de("`Model."+e+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+e+"()` where `MyModel` is a Mongoose model.");if(t[gx]==null)throw new de("`Model."+e+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+e+"()`")}for(let t in y9.prototype)W[t]=y9.prototype[t];W.init=function(){if(_e(this,"init"),typeof arguments[0]=="function")throw new de("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;let e=this.db,r=async()=>{if(xe.getOption("autoIndex",this.schema.options,e.config,e.base.options))return await this.ensureIndexes({_automatic:!0})},n=async()=>{if(!xe.getOption("autoSearchIndex",this.schema.options,e.config,e.base.options))return;let a=[];for(let c of this.schema._searchIndexes)a.push(await this.createSearchIndex(c));return a},s=async()=>{if((e.readyState===sx.connecting||e.readyState===sx.disconnected)&&e._shouldBufferCommands()&&await new Promise(a=>{e._queue.push({fn:a})}),!!xe.getOption("autoCreate",this.schema.options,e.config,e.base.options))return await this.createCollection()};this.$init=s().then(()=>r()).then(()=>n());let i=this.$init.catch,o=this;return this.$init.catch=function(){return o.$caught=!0,i.apply(o.$init,arguments)},this.$init};W.createCollection=async function(e){if(_e(this,"createCollection"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.createCollection() no longer accepts a callback");let r=await new Promise((a,c)=>{this.hooks.execPre("createCollection",this,[e],l=>{if(l!=null)return l instanceof A9.skipWrappedFunction?a(!0):c(l);a()})}),n=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;n!=null&&(e=Object.assign({},n,e));let s=this&&this.schema&&this.schema.options&&this.schema.options.collation;s!=null&&(e=Object.assign({collation:s},e));let i=this&&this.schema&&this.schema.options&&this.schema.options.capped;i!=null&&(typeof i=="number"?e=Object.assign({capped:!0,size:i},e):typeof i=="object"&&(e=Object.assign({capped:!0},i,e)));let o=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;o!=null&&(e=Object.assign({timeseries:o},e),e.expireAfterSeconds!=null||(e.expires!=null?xe.expires(e):this.schema.options.expireAfterSeconds!=null?e.expireAfterSeconds=this.schema.options.expireAfterSeconds:this.schema.options.expires!=null&&(e.expires=this.schema.options.expires,xe.expires(e))));let u=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;u!=null&&(e=Object.assign({clusteredIndex:{...u,unique:!0}},e));try{r||await this.db.createCollection(this.$__collection.collectionName,e)}catch(a){a!=null&&(a.name!=="MongoServerError"||a.code!==48)&&await new Promise((c,l)=>{let f={error:a};this.hooks.execPost("createCollection",this,[null],f,h=>{if(h!=null)return l(h);c()})})}return await new Promise((a,c)=>{this.hooks.execPost("createCollection",this,[this.$__collection],l=>{if(l!=null)return c(l);a()})}),this.$__collection};W.syncIndexes=async function(e){if(_e(this,"syncIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.syncIndexes() no longer accepts a callback");let r=this;try{await r.createCollection()}catch(i){if(i!=null&&(i.name!=="MongoServerError"||i.code!==48))throw i}let n=await r.diffIndexes(),s=await r.cleanIndexes({...e,toDrop:n.toDrop});return await r.createIndexes({...e,toCreate:n.toCreate}),s};W.createSearchIndex=async function(e){return _e(this,"createSearchIndex"),await this.$__collection.createSearchIndex(e)};W.updateSearchIndex=async function(e,r){return _e(this,"updateSearchIndex"),await this.$__collection.updateSearchIndex(e,r)};W.dropSearchIndex=async function(e){return _e(this,"dropSearchIndex"),await this.$__collection.dropSearchIndex(e)};W.diffIndexes=async function(){if(typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.syncIndexes() no longer accepts a callback");let e=this,r=await e.listIndexes().catch(u=>{if(u.codeName!="NamespaceNotFound")throw u});r===void 0&&(r=[]),r=nue(e,r);let n=e.schema,s=sue(e,n.indexes()),i=_ue(n,s,r),o=Eue(n,s,r,i);return{toDrop:i,toCreate:o}};function Eue(t,e,r,n){let s=[];for(let[i,o]of e){let u=!1,a=C9(t,ni(o));for(let c of r)if(!O9(c)&&px(i,a,c)&&!n.includes(c.name)){u=!0;break}u||s.push(i)}return s}function _ue(t,e,r){let n=[];for(let s of r){let i=!1;if(!O9(s)){for(let[o,u]of e){let a=C9(t,ni(u));if(lx(o,a,t.options),px(o,a,s)){i=!0;break}}i||n.push(s.name)}}return n}W.cleanIndexes=async function(e){if(_e(this,"cleanIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.cleanIndexes() no longer accepts a callback");let r=this,n=r.$__collection;if(Array.isArray(e&&e.toDrop))return await ox(e.toDrop,n);let s=await r.diffIndexes();return await ox(s.toDrop,n)};async function ox(t,e){return t.length===0?[]:(await Promise.all(t.map(r=>e.dropIndex(r))),t)}W.listIndexes=async function(){if(_e(this,"listIndexes"),typeof arguments[0]=="function")throw new de("Model.listIndexes() no longer accepts a callback");return this.$__collection.buffer&&await new Promise(e=>{this.$__collection.addQueue(e)}),this.$__collection.listIndexes().toArray()};W.ensureIndexes=async function(e){if(_e(this,"ensureIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.ensureIndexes() no longer accepts a callback");await new Promise((r,n)=>{Aue(this,e,s=>{if(s!=null)return n(s);r()})})};W.createIndexes=async function(e){if(_e(this,"createIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(e)};function Aue(t,e,r){let n=t.schema.indexes(),s;e=e||{};let i=function(f){f&&!t.$caught&&t.emit("error",f),t.emit("index",f||s),r&&r(f||s)};for(let f of n)O9(f)&&xe.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+t.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!n.length){Xc(function(){i()});return}let o=function(f,h,d,p){t.emit("index-single-done",f,h,d,p)},u=function(f,h){t.emit("index-single-start",f,h)},a=t.schema._baseSchema,c=a?a.indexes():[];Xc(function(){e._automatic&&!t.collection.collection?t.collection.addQueue(l,[]):l()});function l(){if(e._automatic&&(t.schema.options.autoIndex===!1||t.schema.options.autoIndex==null&&t.db.config.autoIndex===!1))return i();let f=n.shift();if(!f)return i();if(e._automatic&&f[1]._autoIndex===!1||c.find(p=>xe.deepEqual(p,f)))return l();let h=ni(f[0]),d=ni(f[1]);if(delete d._autoIndex,C9(t.schema,d),hx(t.schema,d),lx(h,d,t.schema.options),u(h,e),"background"in e&&(d.background=e.background),"toCreate"in e&&e.toCreate.length===0)return i();t.collection.createIndex(h,d).then(p=>{o(null,h,d,p),l()},p=>{s||(s=p),t.$caught||t.emit("error",p),o(p,h,d),l()})}}W.schema;W.db;W.collection;W.$__collection;W.base;W.discriminators;W.translateAliases=function(e,r){_e(this,"translateAliases");let n=(s,i)=>{let o,u=[],a=s.split("."),c=this.schema;for(let f in a){let h=a[f];if(c&&c.aliases[h]){if(o=c.aliases[h],r&&o in e)throw new de(`Provided object has both field "${h}" and its alias "${o}"`);u.push(o)}else o=h,u.push(h);c&&c.paths[o]?c=c.paths[o].schema:c=null}let l=u.join(".");return e instanceof Map?e.set(l,i):e[l]=i,l!==s&&(e instanceof Map?e.delete(s):delete e[s]),e};if(typeof e=="object"){if(e instanceof Map)for(let s of new Map(e))e=n(s[0],s[1]);else for(let s of Object.keys(e))if(e=n(s,e[s]),s[0]==="$")if(Array.isArray(e[s]))for(let i in e[s])e[s][i]=this.translateAliases(e[s][i]);else this.translateAliases(e[s]);return e}else return e};W.deleteOne=function(e,r){if(_e(this,"deleteOne"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.prototype.deleteOne() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return n.setOptions(r),n.deleteOne(e)};W.deleteMany=function(e,r){if(_e(this,"deleteMany"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.deleteMany() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return n.setOptions(r),n.deleteMany(e)};W.find=function(e,r,n){if(_e(this,"find"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new de("Model.find() no longer accepts a callback");let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),s.find(e)};W.findById=function(e,r,n){if(_e(this,"findById"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.findById() no longer accepts a callback");return typeof e>"u"&&(e=null),this.findOne({_id:e},r,n)};W.findOne=function(e,r,n){if(_e(this,"findOne"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.findOne() no longer accepts a callback");let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),s.findOne(e)};W.estimatedDocumentCount=function(e){return _e(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(e)};W.countDocuments=function(e,r){if(_e(this,"countDocuments"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.countDocuments() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return r!=null&&n.setOptions(r),n.countDocuments(e)};W.distinct=function(e,r){if(_e(this,"distinct"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new de("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(e,r)};W.where=function(e,r){_e(this,"where");let n=new this.Query({},{},this,this.$__collection).find({});return n.where.apply(n,arguments)};W.$where=function(){_e(this,"$where");let e=new this.Query({},{},this,this.$__collection).find({});return e.$where.apply(e,arguments)};W.findOneAndUpdate=function(t,e,r){if(_e(this,"findOneAndUpdate"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new de("Model.findOneAndUpdate() no longer accepts a callback");arguments.length===1&&(e=t,t=null,r=null);let n;r&&(n=r.fields||r.projection),e=ni(e,{depopulate:!0,_isNested:!0}),dx(e,r,this.schema.options.versionKey);let s=new this.Query({},{},this,this.$__collection);return s.select(n),s.findOneAndUpdate(t,e,r)};W.findByIdAndUpdate=function(t,e,r){if(_e(this,"findByIdAndUpdate"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new de("Model.findByIdAndUpdate() no longer accepts a callback");return t instanceof Uu&&(t=t._id),this.findOneAndUpdate.call(this,{_id:t},e,r)};W.findOneAndDelete=function(t,e){if(_e(this,"findOneAndDelete"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.findOneAndDelete() no longer accepts a callback");let r;e&&(r=e.select,e.select=void 0);let n=new this.Query({},{},this,this.$__collection);return n.select(r),n.findOneAndDelete(t,e)};W.findByIdAndDelete=function(t,e){if(_e(this,"findByIdAndDelete"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new de("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:t},e)};W.findOneAndReplace=function(t,e,r){if(_e(this,"findOneAndReplace"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new de("Model.findOneAndReplace() no longer accepts a callback");let n;r&&(n=r.select,r.select=void 0);let s=new this.Query({},{},this,this.$__collection);return s.select(n),s.findOneAndReplace(t,e,r)};W.create=async function(e,r){if(typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.create() no longer accepts a callback");_e(this,"create");let n,s=this.schema.options.discriminatorKey;if(Array.isArray(e))n=e,r=r!=null&&typeof r=="object"?r:{};else{let u=arguments[arguments.length-1];if(r={},typeof u=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.create() no longer accepts a callback");n=[...arguments],n.length>1&&!u&&n.pop(),n.length===2&&n[0]!=null&&n[1]!=null&&n[0].session==null&&u&&tue(u.session)==="ClientSession"&&!this.schema.path("session")&&xe.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(n.length===0)return Array.isArray(e)?[]:null;let i=[],o=typeof r.aggregateErrors=="boolean"?!r.aggregateErrors:!0;if(delete r.aggregateErrors,r.ordered){for(let u=0;u<n.length;u++)try{let a=n[u],c=this.discriminators&&a[s]!=null?this.discriminators[a[s]]||s2(this.discriminators,a[s]):this;if(c==null)throw new de(`Discriminator "${a[s]}" not found for model "${this.modelName}"`);let l=a;l instanceof c||(l=new c(l)),await l.$save(r),i.push(l)}catch(a){if(!o)i.push(a);else throw a}return i}else if(!o)i=await Promise.allSettled(n.map(async u=>{let a=this.discriminators&&u[s]!=null?this.discriminators[u[s]]||s2(this.discriminators,u[s]):this;if(a==null)throw new de(`Discriminator "${u[s]}" not found for model "${this.modelName}"`);let c=u;return c instanceof a||(c=new a(c)),await c.$save(r),c})),i=i.map(u=>u.status==="fulfilled"?u.value:u.reason);else{let u=null;if(i=await Promise.all(n.map(async a=>{let c=this.discriminators&&a[s]!=null?this.discriminators[a[s]]||s2(this.discriminators,a[s]):this;if(c==null)throw new de(`Discriminator "${a[s]}" not found for model "${this.modelName}"`);try{let l=a;return l instanceof c||(l=new c(l)),await l.$save(r),l}catch(l){u||(u=l)}})),u)throw u}return!Array.isArray(e)&&n.length===1?i[0]:i};W.watch=function(t,e){_e(this,"watch");let r=n=>{if(t=t||[],cue(t,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;let s=this.$__collection.watch(t,e);n(null,s)});else{let s=this.$__collection.watch(t,e);n(null,s)}};return e=e||{},e.model=this,new xoe(r,t,e)};W.startSession=function(){return _e(this,"startSession"),this.db.startSession.apply(this.db,arguments)};W.insertMany=async function(e,r){if(_e(this,"insertMany"),typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.insertMany() no longer accepts a callback");return new Promise((n,s)=>{this.$__insertMany(e,r,(i,o)=>{if(i!=null)return s(i);n(o)})})};W.$__insertMany=function(t,e,r){let n=this;typeof e=="function"&&(r=e,e=null),r=r||xe.noop,e=e||{};let s=e.limit||1e3,i=!!e.rawResult,o=typeof e.ordered=="boolean"?e.ordered:!0,u=typeof e.throwOnValidationError=="boolean"?e.throwOnValidationError:!1,a=!!e.lean;Array.isArray(t)||(t=[t]);let c=[],l=new Map,f=o?null:new Array(t.length),h=t.map((d,p)=>m=>{if(a)return Xc(()=>m(null,d));if(!(d instanceof n)){if(d!=null&&typeof d!="object")return m(new Loe(d,"arr."+p,"insertMany"));try{d=new n(d)}catch(g){return m(g)}}if(e.session!=null&&d.$session(e.session),a)return Xc(()=>m(null,d));d.$validate().then(()=>{m(null,d)},g=>{if(o===!1)return c.push(g),l.set(g,p),f[p]=g,m(null,null);m(g)})});uue(h,s,function(d,p){if(d){r(d,null);return}let m=new Map,g=new Map;for(let A=0;A<p.length;++A)m.set(p[A],A);let E=p.filter(function(A){return A!=null});for(let A=0;A<E.length;++A)g.set(A,m.get(E[A]));if(c.length>0&&c.sort((A,C)=>l.get(A)-l.get(C)),E.length===0){if(i)return r(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:c}});r(null,[]);return}let _=a?E:E.map(function(A){return A.$__schema.options.versionKey&&(A[A.$__schema.options.versionKey]=0),(!e||e.timestamps!==!1)&&A.initializeTimestamps&&(!A.$__||A.$__.timestamps!==!1)?A.initializeTimestamps().toObject(o2):A.toObject(o2)});n.$__collection.insertMany(_,e).then(A=>{if(!a)for(let C of E)C.$__reset(),Jc(C,!1);if(o===!1&&u&&c.length>0){for(let C=0;C<f.length;++C)f[C]===void 0&&(f[C]=p[C]);return r(new yx(c,f,A,"insertMany"))}if(i){if(o===!1){for(let C=0;C<f.length;++C)f[C]===void 0&&(f[C]=p[C]);A.mongoose={validationErrors:c,results:f}}return r(null,A)}if(e.populate!=null)return n.populate(E,e.populate).then(C=>{r(null,C)},C=>{throw C!=null&&(C.insertedDocs=E),C});r(null,E)},A=>{A.writeErrors==null&&(A.result&&A.result.result&&A.result.result.writeErrors)!=null&&(A.writeErrors=A.result.result.writeErrors);let C=A&&A.writeErrors,x=new Set((A&&A.writeErrors||[]).map(T=>T.index));if(A.writeErrors!=null)for(let T=0;T<A.writeErrors.length;++T){let V=g.get(A.writeErrors[T].index);A.writeErrors[T]={...A.writeErrors[T],index:V},o||(f[V]=A.writeErrors[T])}if(!o){for(let T=0;T<f.length;++T)f[T]===void 0&&(f[T]=p[T]);A.results=f}let F=-1;A.insertedDocs=E.filter((T,V)=>{let z=!C||x.has(V);if(o){if(F>-1)return V<F;z&&(F=V)}return!z}).map(function(V){return a||(V.$__reset(),Jc(V,!1)),V}),i&&o===!1&&(A.mongoose={validationErrors:c,results:f}),r(A,null)})})};function Jc(t,e){t.$isNew=e,t.$emit("isNew",e),t.constructor.emit("isNew",e);let r=t.$getAllSubdocs();for(let n of r)n.$isNew=e,n.$emit("isNew",e)}W.bulkWrite=async function(e,r){if(_e(this,"bulkWrite"),typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.bulkWrite() no longer accepts a callback");r=r||{};let n=await new Promise((u,a)=>{this.hooks.execPre("bulkWrite",this,[e,r],c=>{if(c!=null)return c instanceof A9.skipWrappedFunction?u(c):a(c);u()})});if(n)return n.args[0];let s=r.ordered==null?!0:r.ordered;if(e.length===0)return rx();let i=e.map(u=>Qoe(this,u,r)),o=null;if(s){await new Promise((u,a)=>{_9(i,(c,l)=>c(l),c=>{if(c)return a(c);u()})});try{o=await this.$__collection.bulkWrite(e,r)}catch(u){await new Promise((a,c)=>{let l={error:u};this.hooks.execPost("bulkWrite",this,[null],l,f=>{if(f!=null)return c(f);a()})})}}else{let u=i.length,a=[],c=[],l=[];await new Promise(d=>{for(let p=0;p<i.length;++p)i[p](m=>{m==null?a.push(p):(c.push({index:p,error:m}),l[p]=m),--u<=0&&d()})}),c=c.sort((d,p)=>d.index-p.index).map(d=>d.error);let f=a;if(a=a.sort().map(d=>e[d]),a.length===0)return rx();let h;[o,h]=await this.$__collection.bulkWrite(a,r).then(d=>[d,null]).catch(d=>[null,d]),h&&(c.length>0&&(h.mongoose=h.mongoose||{},h.mongoose.validationErrors=c),await new Promise((d,p)=>{let m={error:h};this.hooks.execPost("bulkWrite",this,[null],m,g=>{if(g!=null)return p(g);d()})}));for(let d=0;d<f.length;++d)l[f[d]]=null;if(c.length>0){if(r.throwOnValidationError)throw new yx(c,l,o,"bulkWrite");o.mongoose=o.mongoose||{},o.mongoose.validationErrors=c,o.mongoose.results=l}}return await new Promise((u,a)=>{this.hooks.execPost("bulkWrite",this,[o],c=>{if(c!=null)return a(c);u()})}),o};W.bulkSave=async function(e,r){if(r=r||{},r.timestamps!=null)for(let o of e)o.$__.saveOptions=o.$__.saveOptions||{},o.$__.saveOptions.timestamps=r.timestamps;else for(let o of e)o.$__.timestamps!=null&&(o.$__.saveOptions=o.$__.saveOptions||{},o.$__.saveOptions.timestamps=o.$__.timestamps);await Promise.all(e.map(Oue));let n=this.buildBulkWriteOperations(e,{skipValidation:!0,timestamps:r.timestamps}),{bulkWriteResult:s,bulkWriteError:i}=await this.bulkWrite(n,r).then(o=>({bulkWriteResult:o,bulkWriteError:null}),o=>({bulkWriteResult:null,bulkWriteError:o}));if(await Promise.all(e.map(async o=>{(i&&i.writeErrors.find(a=>(a.err.op._id||a.err.op.q._id).toString()===o._id.toString()))==null&&await Cue(o)})),i&&i.writeErrors&&i.writeErrors.length)throw i;return s};function Oue(t){return new Promise((e,r)=>{t.schema.s.hooks.execPre("save",t,n=>{if(n){r(n);return}e()})})}function Cue(t){return new Promise((e,r)=>{t.$isNew&&Jc(t,!1),t.$__reset(),t.schema.s.hooks.execPost("save",t,[t],{},n=>{if(n){r(n);return}e()})})}W.applyDefaults=function t(e){if(e.$__!=null){Voe(e,e.$__.fields,e.$__.exclude);for(let r of e.$getAllSubdocs())t(r,r.$__.fields,r.$__.exclude);return e}return zoe(e,this.schema),e};W.castObject=function(e,r){r=r||{};let n={},s=this.schema,i=Object.keys(s.paths);for(let u of i){let a=s.path(u);if(!a||!a.$isMongooseArray)continue;let c=ff(e,u);mx(i,c,u)}let o=null;for(let u of i){let a=s.path(u);if(a==null)continue;let c=ff(e,u,void 0);if(c==null)continue;let l=u.indexOf(".")===-1?[u]:u.split("."),f=n;for(let h=0;h<l.length-1;++h)f[l[h]]==null&&(f[l[h]]=isNaN(l[h+1])?{}:[]),f=f[l[h]];if(!a.$isMongooseDocumentArray){if(a.$isSingleNested||a.$isMongooseDocumentArrayElement){try{c=W.castObject.call(a.caster,c)}catch(h){r.ignoreCastErrors||(o=o||new E9,o.addError(u,h));continue}f[l[l.length-1]]=c;continue}try{c=a.cast(c),f[l[l.length-1]]=c}catch(h){r.ignoreCastErrors||(o=o||new E9,o.addError(u,h));continue}}}if(o!=null)throw o;return n};W.buildBulkWriteOperations=function(e,r){if(!Array.isArray(e))throw new Error(`bulkSave expects an array of documents to be passed, received \`${e}\` instead`);i();let n=this.schema.options.discriminatorKey;return e.reduce((o,u,a)=>{if(!r.skipValidation){if(!(u instanceof Uu))throw new Error(`documents.${a} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);let h=u.validateSync();if(h)throw h}if(u.isNew){let h={insertOne:{document:u}};return xe.injectTimestampsOption(h.insertOne,r.timestamps),o.push(h),o}let l=u.$__delta();if(l!=null&&!xe.isEmptyObject(l[0])){let h=u.$__where(l[0]),d=l[1];Ex(u,h),u[n]!=null&&!(n in h)&&(h[n]=u[n]),u.$__version(h,l);let p={updateOne:{filter:h,update:d}};return xe.injectTimestampsOption(p.updateOne,r.timestamps),o.push(p),o}return o},[]);function i(){r=r||{},r.skipValidation==null&&(r.skipValidation=!1)}};W.hydrate=function(t,e,r){_e(this,"hydrate"),e!=null&&(t!=null&&t.$__!=null&&(t=t.toObject(o2)),t=Hoe(t,e));let n=wl().createModel(this,t,e);return n.$init(t,r),n};W.updateMany=function(e,r,n){return _e(this,"updateMany"),w9(this,"updateMany",e,r,n)};W.updateOne=function(e,r,n){return _e(this,"updateOne"),w9(this,"updateOne",e,r,n)};W.replaceOne=function(e,r,n){_e(this,"replaceOne");let s=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;return s&&!r[s]&&(r[s]=0),w9(this,"replaceOne",e,r,n)};function w9(t,e,r,n,s){let i=new t.Query({},{},t,t.collection);r instanceof Uu?r=r.toObject():r=ni(r),s=typeof s=="function"?s:ni(s);let o=t&&t.schema&&t.schema.options&&t.schema.options.versionKey||null;return dx(n,s,o),i[e](r,n,s)}W.aggregate=function(e,r){if(_e(this,"aggregate"),typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.aggregate() no longer accepts a callback");let n=new Roe(e||[]);return n.model(this),r!=null&&n.option(r),n};W.validate=async function(e,r,n){if((arguments.length<3||arguments.length===3&&typeof arguments[2]=="function")&&(n=e),typeof n=="function"||typeof arguments[3]=="function")throw new de("Model.validate() no longer accepts a callback");let s=this.schema,i=s.options.discriminatorKey;s.discriminators!=null&&e!=null&&e[i]!=null&&(s=Xoe(s,e[i])||s);let o=Object.keys(s.paths);if(r!=null){let c=typeof r=="string"?new Set(r.split(" ")):Array.isArray(r)?new Set(r):new Set(o);o=o.filter(l=>{if(r.pathsToSkip){if(Array.isArray(r.pathsToSkip)){if(r.pathsToSkip.find(d=>d==l))return!1}else if(typeof r.pathsToSkip=="string"&&r.pathsToSkip.includes(l))return!1}let f=l.split("."),h=f[0];for(let d of f){if(c.has(h))return!0;h+="."+d}return c.has(l)})}for(let c of o){let l=s.path(c);if(!l||!l.$isMongooseArray||l.$isMongooseDocumentArray)continue;let f=ff(e,c);mx(o,f,c)}let u=null;o=new Set(o);try{e=this.castObject(e)}catch(c){u=c;for(let l of Object.keys(u.errors||{}))o.delete(l)}let a=o.size;return new Promise((c,l)=>{for(let h of o){let d=s.path(h);if(d==null){f();continue}let p=h.indexOf(".")===-1?[h]:h.split("."),m=e;for(let E=0;E<p.length-1;++E)m=m[p[E]];let g=ff(e,h,void 0);d.doValidate(g,E=>{E&&(u=u||new E9,u.addError(h,E)),f()},n,{path:h})}function f(){--a<=0&&(u?l(u):c(e))}})};W.populate=async function(e,r){if(_e(this,"populate"),typeof r=="function"||typeof arguments[2]=="function")throw new de("Model.populate() no longer accepts a callback");let n=this;r=xe.populate(r);let s={};return new Promise((i,o)=>{Sue(n,e,r,s,(u,a)=>{if(u)return o(u);i(a)})})};function Sue(t,e,r,n,s){let i=r.length;if(r.length===0)return s(null,e);for(let u of r)Due(t,e,u,o);function o(u){if(u)return s(u,null);--i||s(null,e)}}var wue=/\s?-_id\s?/,bue=/\s?-_id\s?/g;function Due(t,e,r,n){let s=r;if(r.strictPopulate==null&&(r._localModel!=null&&r._localModel.schema._userProvidedOptions.strictPopulate!=null?s.strictPopulate=r._localModel.schema._userProvidedOptions.strictPopulate:(r._localModel!=null&&t.base.options.strictPopulate!=null||t.base.options.strictPopulate!=null)&&(s.strictPopulate=t.base.options.strictPopulate)),Array.isArray(e)||(e=[e]),e.length===0||e.every(xe.isNullOrUndefined))return n();let i=rue(t,e,s);if(i instanceof de)return Xc(function(){n(i)});let o=i.length,u=[];function a(p){return p!==void 0}let c=o,l=!1,f=[];for(let p=0;p<o;++p){let m=i[p],g=m.options.select,E=xe.array.flatten(m.ids,a);E=xe.array.unique(E);let _={};if(_.sort=m&&m.options&&m.options.options&&m.options.options.sort||void 0,_.excludeId=wue.test(g)||g&&g._id===0,m.options&&m.options.options&&m.options.options.lean&&m.options.options.lean.transform&&(m.options.options._leanTransform=m.options.options.lean.transform,m.options.options.lean=!0),E.length===0||E.every(xe.isNullOrUndefined)){--c,ux(t,[],m,_);continue}l=!0,typeof s.foreignField=="string"&&(m.foreignField.clear(),m.foreignField.add(s.foreignField));let A=Joe(E,m.match,m.foreignField,m.model,m.options.skipInvalidIds);_.excludeId&&(typeof g=="string"?g=g.replace(bue," "):Array.isArray(g)?g=g.filter(C=>C!=="-_id"):(g={...g},delete g._id)),m.options.options&&m.options.options.limit!=null?_.originalLimit=m.options.options.limit:m.options.limit!=null&&(_.originalLimit=m.options.limit),f.push([m,A,g,_,h])}if(!l){if(i.length!==0)return n();if(s.populate!=null){let p=xe.populate(s.populate).map(m=>Object.assign({},m,{path:s.path+"."+m.path}));t.populate(e,p).then(m=>{n(null,m)},m=>{n(m)});return}return n()}for(let p of f)Tue.apply(null,p);function h(p,m){if(p!=null)return n(p,null);u=u.concat(m),--c===0&&d()}function d(){for(let p of f){let m=p[0],g=p[3];for(let E of u)m.options._childDocs.push(E);try{ux(t,u,m,g)}catch(E){return n(E)}}for(let p of f)lue(p[0].foreignField,p[0].options,u);for(let p of f){let m=p[0];if(m.options&&m.options.options&&m.options.options._leanTransform)for(let g of u)m.options.options._leanTransform(g)}n()}}function Tue(t,e,r,n,s){let i=ni(t.options.populate),o=Object.assign({skip:t.options.skip,limit:t.options.limit,perDocumentLimit:t.options.perDocumentLimit},t.options.options);t.count&&delete o.skip,o.perDocumentLimit!=null?(o.limit=o.perDocumentLimit,delete o.perDocumentLimit):o.limit!=null&&(o.limit=o.limit*t.ids.length);let u=t.model.find(e,r,o);for(let a of t.foreignField)a!=="_id"&&u.selectedInclusively()&&!iue(u._fields,a)&&u.select(a);if(t.count)for(let a of t.foreignField)u.select(a);if(i){t.model.baseModelName!=null&&(Array.isArray(i)?i.forEach(c=>{c.strictPopulate=!1}):typeof i=="string"?i={path:i,strictPopulate:!1}:i.strictPopulate=!1);let a=t.options._fullPath||t.options.path;if(Array.isArray(i))for(let c of i)c._fullPath=a+"."+c.path;else typeof i=="object"&&(i._fullPath=a+"."+i.path);u.populate(i)}u.exec().then(a=>{for(let c of a)oue.set(c,t.model);s(null,a)},a=>{s(a)})}function ux(t,e,r,n){let s=r.options,i=r.isVirtual,o=r.justOne,u,a=s&&s.options&&s.options.lean||!1,c=e.length,l={},f={},h,d,p=ni(r.allIds);for(let m=0;m<c;m++)if(d=e[m],d!=null)for(let g of r.foreignField){if(u=xe.getValue(g,d),Array.isArray(u)){u=xe.array.unique(xe.array.flatten(u));for(let E of u)E instanceof Uu&&(E=E._id),h=String(E),f[h]?Array.isArray(f[h])?(f[h].push(d),l[h].push(m)):(f[h]=[f[h],d],l[h]=[l[h],m]):i&&!o?(f[h]=[d],l[h]=[m]):(f[h]=d,l[h]=m)}else u instanceof Uu&&(u=u._id),h=String(u),f[h]?Array.isArray(f[h])?(f[h].push(d),l[h].push(m)):(i||f[h].constructor!==d.constructor||String(f[h]._id)!==String(d._id))&&(f[h]=[f[h],d],l[h]=[l[h],m]):(f[h]=d,l[h]=m);a||(d.$__.wasPopulated=d.$__.wasPopulated||{value:u})}Yoe({originalModel:t,rawIds:r.isVirtual?p:r.allIds,allIds:p,unpopulatedValues:r.unpopulatedValues,foreignField:r.foreignField,rawDocs:f,rawOrder:l,docs:r.docs,path:s.path,options:n,justOne:r.justOne,isVirtual:r.isVirtual,allOptions:r,populatedModel:r.model,lean:a,virtual:r.virtual,count:r.count,match:r.match})}W.compile=function(e,r,n,s,i){if(r.options.versionKey!==!1&&!r.paths[r.options.versionKey]){let f={};f[r.options.versionKey]=Number,r.add(f)}let u;typeof e=="function"&&e.prototype instanceof W?(u=e,e=u.name,r.loadClass(u,!1),u.prototype.$isMongooseModelPrototype=!0):u=function f(h,d,p){if(f.hooks.execPreSync("createModel",h),!(this instanceof f))return new f(h,d,p);let m=f.schema.options.discriminatorKey;if(f.discriminators==null||h==null||h[m]==null){W.call(this,h,d,p);return}let g=f.discriminators[h[m]]||s2(f.discriminators,h[m]);if(g!=null)return new g(h,d,p);W.call(this,h,d,p)},u.hooks=r.s.hooks.clone(),u.base=i,u.modelName=e,u.prototype instanceof W||(Object.setPrototypeOf(u,W),Object.setPrototypeOf(u.prototype,W.prototype)),u.model=function(h){return this.db.model(h)},u.db=s,u.prototype.db=s,u.prototype[u2]=s,u.discriminators=u.prototype.discriminators=void 0,u[gx]=!0,u.events=new y9,r._preCompile();let c={schemaUserProvidedOptions:r._userProvidedOptions||{},capped:r.options.capped,Promise:u.base.Promise,modelName:e};r.options.autoCreate!==void 0&&(c.autoCreate=r.options.autoCreate);let l=s.collection(n,c);return u.prototype.collection=l,u.prototype.$collection=l,u.prototype[hf]=l,u.prototype.$__setSchema(r),cx(u,r),fx(u,r),Goe(u,r),Koe(u,r.s.hooks,r.statics),u.schema=u.prototype.$__schema,u.collection=l,u.$__collection=l,u.Query=function(){n2.apply(this,arguments)},Object.setPrototypeOf(u.Query.prototype,n2.prototype),u.Query.base=n2.base,u.Query.prototype.constructor=n2,u._applyQueryMiddleware(),Mue(u,r.query),u};W.$__updateConnection=function(e){this.db=e,this.prototype.db=e,this.prototype[u2]=e;let r=e.collection(this.collection.collectionName,this.collection.opts);this.prototype.collection=r,this.prototype.$collection=r,this.prototype[hf]=r,this.collection=r,this.$__collection=r};function Mue(t,e){for(let r in e)t.Query.prototype[r]=e[r]}W.__subclass=function(e,r,n){let s=this,i=function l(f,h,d){if(!(this instanceof l))return new l(f,h,d);s.call(this,f,h,d)};if(Object.setPrototypeOf(i,s),Object.setPrototypeOf(i.prototype,s.prototype),i.db=e,i.prototype.db=e,i.prototype[u2]=e,s[lf]=s[lf]||[],s[lf].push(i),s.discriminators!=null){i.discriminators={};for(let l of Object.keys(s.discriminators))i.discriminators[l]=s.discriminators[l].__subclass(s.db,s.discriminators[l].schema,n)}let o=r&&typeof r!="string"?r:s.prototype.$__schema,u=o.options||{},a=o._userProvidedOptions||{};n||(n=s.prototype.$__schema.get("collection")||xe.toCollectionName(s.modelName,this.base.pluralize()));let c={schemaUserProvidedOptions:a,capped:o&&u.capped};return i.prototype.collection=e.collection(n,c),i.prototype.$collection=i.prototype.collection,i.prototype[hf]=i.prototype.collection,i.collection=i.prototype.collection,i.$__collection=i.collection,i.init().catch(()=>{}),i};W.recompileSchema=function(){if(this.prototype.$__setSchema(this.schema),this.schema._applyDiscriminators!=null)for(let e of this.schema._applyDiscriminators.keys())this.discriminator(e,this.schema._applyDiscriminators.get(e));Woe(this.schema,new WeakSet,!0)};W.inspect=function(){return`Model { ${this.modelName} }`};ix.inspect.custom&&(W[ix.inspect.custom]=W.inspect);W._applyQueryMiddleware=function(){let e=this.Query,r=this.schema.s.hooks.filter(n=>{let s=Bue(n);return n.name==="validate"?!!s.query:n.name==="deleteOne"||n.name==="updateOne"?!!s.query||Object.keys(s).length===0:n.query!=null||n.document!=null?!!n.query:!0});e.prototype._queryMiddleware=r};function Bue(t){let e={};return t.hasOwnProperty("query")&&(e.query=t.query),t.hasOwnProperty("document")&&(e.document=t.document),e}Ax.exports=_x=W});var Cx=y((df,Ox)=>{"use strict";Ox.exports=Nue;df.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var Pue=df.pluralization;df.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var Fue=df.uncountables;function Nue(t){let e;return t=t.toLowerCase(),!~Fue.indexOf(t)&&(e=Pue.filter(function(r){return t.match(r[0])}),e[0])?t.replace(e[0][0],e[0][1]):t}});var Tx=y((Spe,Dx)=>{"use strict";var bx=ut(),Sx=require("util"),wx=e4(),si=class extends bx{constructor(){super(""),this.errors={}}toString(){return wx(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof si){let{errors:n}=r;for(let s of Object.keys(n))this.addError(s,n[s]);return}this.errors[e]=r,this.message=wx(this)}};Sx.inspect.custom&&(si.prototype[Sx.inspect.custom]=si.prototype.inspect);Object.defineProperty(si.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(si.prototype,"name",{value:"SetOptionError"});var b9=class extends bx{constructor(e){super(`"${e}" is not a valid option to set`)}};si.SetOptionInnerError=b9;Dx.exports=si});var Bx=y(()=>{"use strict";var Mx=ae();typeof jest<"u"&&!process.env.SUPPRESS_JEST_WARNINGS&&(typeof window<"u"&&Mx.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's default jsdom test environment. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning."),setTimeout.clock!=null&&typeof setTimeout.clock.Date=="function"&&Mx.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's mock timers enabled. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning."))});var Rx=y(($x,Ix)=>{"use strict";var Px=en(),Fx=require("events").EventEmitter,Nx=Je(),$ue=Mc(),Iue=Fi(),Rue=Nx.ValidationError,xue=G0(),vue=Co();function Zn(t,e,r,n,s){if(!(this instanceof Zn))return new Zn(t,e,r,n,s);if(vue(e)&&!e.instanceOfSchema&&(e=new $ue(e)),e=this.schema||e,!this.schema&&e.options._id&&(t=t||{},t._id===void 0&&(t._id=new Iue)),!e)throw new Nx.MissingSchemaError;this.$__setSchema(e),Px.call(this,t,r,n,s),xue(this,e,{decorateDoc:!0});for(let i in e.methods)this[i]=e.methods[i];for(let i in e.statics)this[i]=e.statics[i]}Zn.prototype=Object.create(Px.prototype);Zn.prototype.constructor=Zn;Zn.events=new Fx;Zn.$emitter=new Fx;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(t){Zn[t]=function(){return Zn.$emitter[t].apply(Zn.$emitter,arguments)}});Zn.ValidationError=Rue;Ix.exports=$x=Zn});var vx=y((Dpe,D9)=>{"use strict";var kue=en(),que=Rx(),xx=!1;D9.exports=function(){return xx?que:kue};D9.exports.setBrowser=function(t){xx=t}});var Wx=y((Vx,zx)=>{"use strict";var Lue=en(),jue=require("events").EventEmitter,qx=mc(),Wi=Mc(),Uue=Jt(),pf=Il(),Vue=e_(),T9=Vu(),kx=ON(),zue=Pc(),Wue=Vm(),Lx=t9(),Gue=sA(),Hue=R_(),jx=yf(),Kue=Cx(),M9=ae(),Yue=uA(),Que=$c(),Jue=JA(),Xue=dc().trusted,Zue=qA(),eae=Xr(),c2=ut(),a2=Tx(),tae=e9(),Ux=Symbol.for("mongoose:default");Bx();var rae=/^[0-9A-Fa-f]{24}$/;function Q(t){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new jue,this.__driver=jx.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0,autoSearchIndex:!1},t);let e=M9.getOption("createInitialConnection",this.options);if(e==null||e){let r=this.createConnection();r.models=this.models}if(this.options.pluralization&&(this._pluralize=Kue),!t||!t[Ux]){let r=this;this.Schema=function(){return this.base=r,Wi.apply(this,arguments)},this.Schema.prototype=Object.create(Wi.prototype),Object.assign(this.Schema,Wi),this.Schema.base=this,this.Schema.Types=Object.assign({},Wi.Types)}else for(let r of["Schema","model"])this[r]=Q.prototype[r];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(Hue).map(r=>[r,{deduplicate:!0}])})}Q.prototype.cast=Que;Q.prototype.STATES=T9;Q.prototype.ConnectionStates=T9;Q.prototype.driver=jx;Q.prototype.setDriver=function(e){let r=this instanceof Q?this:fr;if(r.__driver===e)return r;if(r.connections&&r.connections.find(o=>o.readyState!==T9.disconnected)){let o="Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver";throw new c2(o)}r.__driver=e;let s=e.Connection,i=r.connections[0];r.connections=[new s(r)],r.connections[0].models=r.models;for(let o of Object.values(r.models))o.db===i&&o.$__updateConnection(r.connections[0]);return r};Q.prototype.set=function(t,e){let r=this instanceof Q?this:fr;if(arguments.length===1&&typeof t!="object"){if(kx.indexOf(t)===-1){let i=new a2;throw i.addError(t,new a2.SetOptionInnerError(t)),i}return r.options[t]}let n={};arguments.length===2&&(n={[t]:e}),arguments.length===1&&typeof t=="object"&&(n=t);let s;for(let[i,o]of Object.entries(n)){if(kx.indexOf(i)===-1){s||(s=new a2),s.addError(i,new a2.SetOptionInnerError(i));continue}r.options[i]=o,i==="objectIdGetter"&&(o?Object.defineProperty(fr.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}):delete fr.Types.ObjectId.prototype._id)}if(s)throw s;return r};Q.prototype.get=Q.prototype.set;Q.prototype.createConnection=function(t,e){let r=this instanceof Q?this:fr,n=r.__driver.Connection,s=new n(r);return r.connections.push(s),r.nextConnectionId++,r.events.emit("createConnection",s),arguments.length>0&&s.openUri(t,{...e,_fireAndForget:!0}),s};Q.prototype.connect=async function(e,r){if(typeof r=="function"||arguments.length>=3&&typeof arguments[2]=="function")throw new c2("Mongoose.prototype.connect() no longer accepts a callback");let n=this instanceof Q?this:fr;return n.connection.openUri(e,r).then(()=>n)};Q.prototype.disconnect=async function(){if(arguments.length>=1&&typeof arguments[0]=="function")throw new c2("Mongoose.prototype.disconnect() no longer accepts a callback");let e=this instanceof Q?this:fr;e.connections.length<=0||await Promise.all(e.connections.map(n=>n.close()))};Q.prototype.startSession=function(){let t=this instanceof Q?this:fr;return t.connection.startSession.apply(t.connection,arguments)};Q.prototype.pluralize=function(t){let e=this instanceof Q?this:fr;return arguments.length>0&&(e._pluralize=t),e._pluralize};Q.prototype.model=function(t,e,r,n){let s=this instanceof Q?this:fr;if(typeof e=="string"&&(r=e,e=!1),arguments.length===1){let a=s.models[t];if(!a)throw new c2.MissingSchemaError(t);return a}if(M9.isObject(e)&&!(e instanceof Wi)&&(e=new Wi(e)),e&&!(e instanceof Wi))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");n=n||{};let i=e;e&&(s.get("cloneSchemas")&&(e=e.clone()),s._applyPlugins(e));let o=s.options.hasOwnProperty("overwriteModels")?s.options.overwriteModels:n.overwriteModels;if(s.models.hasOwnProperty(t)&&n.cache!==!1&&o!==!0){if(i&&i.instanceOfSchema&&i!==s.models[t].schema)throw new s.Error.OverwriteModelError(t);if(r&&r!==s.models[t].collection.name){let a=s.models[t];return e=a.prototype.schema,a.__subclass(s.connection,e,r)}return s.models[t]}if(e==null)throw new s.Error.MissingSchemaError(t);let u=s._model(t,e,r,n);return s.connection.models[t]=u,s.models[t]=u,u};Q.prototype._model=function(t,e,r,n){let s=this instanceof Q?this:fr,i;if(typeof t=="function"&&(i=t,t=i.name,!(i.prototype instanceof Lx)))throw new s.Error("The provided class "+t+" must extend Model");e&&(s.get("cloneSchemas")&&(e=e.clone()),s._applyPlugins(e)),(e==null||!("pluralization"in e.options))&&(e.options.pluralization=s.options.pluralization),r||(r=e.get("collection")||M9.toCollectionName(t,s.pluralize()));let o=n.connection||s.connection;if(i=s.Model.compile(i||t,e,r,o,s),i.init().catch(function(){}),o.emit("model",i),e._applyDiscriminators!=null)for(let u of e._applyDiscriminators.keys()){let{schema:a,options:c}=e._applyDiscriminators.get(u);i.discriminator(u,a,c)}return tae(e),i};Q.prototype.deleteModel=function(t){let e=this instanceof Q?this:fr;return e.connection.deleteModel(t),delete e.models[t],e};Q.prototype.modelNames=function(){let t=this instanceof Q?this:fr;return Object.keys(t.models)};Q.prototype._applyPlugins=function(t,e){let r=this instanceof Q?this:fr;e=e||{},e.applyPluginsToDiscriminators=r.options&&r.options.applyPluginsToDiscriminators||!1,e.applyPluginsToChildSchemas=typeof(r.options&&r.options.applyPluginsToChildSchemas)=="boolean"?r.options.applyPluginsToChildSchemas:!0,Gue(t,r.plugins,e,"$globalPluginsApplied")};Q.prototype.plugin=function(t,e){let r=this instanceof Q?this:fr;return r.plugins.push([t,e]),r};Q.prototype.__defineGetter__("connection",function(){return this.connections[0]});Q.prototype.__defineSetter__("connection",function(t){t instanceof this.__driver.Connection&&(this.connections[0]=t,this.models=t.models)});Q.prototype.connections;Q.prototype.nextConnectionId;Q.prototype.Aggregate=Jue;Object.defineProperty(Q.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(t){this.__driver.Collection=t}});Object.defineProperty(Q.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(t){t!==this.__driver.Connection&&(this.__driver.Connection=t)}});Q.prototype.version=Yue.version;Q.prototype.Mongoose=Q;Q.prototype.Schema=Wi;Q.prototype.SchemaType=Uue;Q.prototype.SchemaTypes=Wi.Types;Q.prototype.VirtualType=Vue;Q.prototype.Types=zue;Q.prototype.Query=Wue;Q.prototype.Model=Lx;Q.prototype.Document=Lue;Q.prototype.DocumentProvider=vx();Q.prototype.ObjectId=pf.ObjectId;Q.prototype.isValidObjectId=function(t){return(this instanceof Q?this:fr).Types.ObjectId.isValid(t)};Q.prototype.isObjectIdOrHexString=function(t){return eae(t,"ObjectId")||typeof t=="string"&&rae.test(t)};Q.prototype.syncIndexes=function(t){return(this instanceof Q?this:fr).connection.syncIndexes(t)};Q.prototype.Decimal128=pf.Decimal128;Q.prototype.Mixed=pf.Mixed;Q.prototype.Date=pf.Date;Q.prototype.Number=pf.Number;Q.prototype.Error=Je();Q.prototype.MongooseError=ut();Q.prototype.now=function(){return new Date};Q.prototype.CastError=Nr();Q.prototype.SchemaTypeOptions=bn();Q.prototype.mquery=vA();Q.prototype.sanitizeFilter=Zue;Q.prototype.trusted=Xue;Q.prototype.skipMiddlewareFunction=qx.skipWrappedFunction;Q.prototype.overwriteMiddlewareResult=qx.overwriteResult;var fr=zx.exports=Vx=new Q({[Ux]:!0})});var Kx=y((Tpe,Hx)=>{"use strict";yf().set(_N());var Gx=Wx();Gx.Mongoose.prototype.mongo=Kp();Hx.exports=Gx});var B9=y((Mpe,ie)=>{"use strict";var oe=Kx();ie.exports=oe;ie.exports.default=oe;ie.exports.mongoose=oe;ie.exports.cast=oe.cast;ie.exports.STATES=oe.STATES;ie.exports.setDriver=oe.setDriver;ie.exports.set=oe.set;ie.exports.get=oe.get;ie.exports.createConnection=oe.createConnection;ie.exports.connect=oe.connect;ie.exports.disconnect=oe.disconnect;ie.exports.startSession=oe.startSession;ie.exports.pluralize=oe.pluralize;ie.exports.model=oe.model;ie.exports.deleteModel=oe.deleteModel;ie.exports.modelNames=oe.modelNames;ie.exports.plugin=oe.plugin;ie.exports.connections=oe.connections;ie.exports.version=oe.version;ie.exports.Mongoose=oe.Mongoose;ie.exports.Schema=oe.Schema;ie.exports.SchemaType=oe.SchemaType;ie.exports.SchemaTypes=oe.SchemaTypes;ie.exports.VirtualType=oe.VirtualType;ie.exports.Types=oe.Types;ie.exports.Query=oe.Query;ie.exports.Model=oe.Model;ie.exports.Document=oe.Document;ie.exports.ObjectId=oe.ObjectId;ie.exports.isValidObjectId=oe.isValidObjectId;ie.exports.isObjectIdOrHexString=oe.isObjectIdOrHexString;ie.exports.syncIndexes=oe.syncIndexes;ie.exports.Decimal128=oe.Decimal128;ie.exports.Mixed=oe.Mixed;ie.exports.Date=oe.Date;ie.exports.Number=oe.Number;ie.exports.Error=oe.Error;ie.exports.MongooseError=oe.MongooseError;ie.exports.now=oe.now;ie.exports.CastError=oe.CastError;ie.exports.SchemaTypeOptions=oe.SchemaTypeOptions;ie.exports.mongo=oe.mongo;ie.exports.mquery=oe.mquery;ie.exports.sanitizeFilter=oe.sanitizeFilter;ie.exports.trusted=oe.trusted;ie.exports.skipMiddlewareFunction=oe.skipMiddlewareFunction;ie.exports.overwriteMiddlewareResult=oe.overwriteMiddlewareResult});var uae={};hv(uae,{handler:()=>oae});module.exports=dv(uae);var Yx=t7(B9());async function Qx(){try{let t=process.env.MONGO_DB_CONNECTION;if(!t)throw`


YOU NEED TO ADD THE MONGO_DB_CONNECTION STRING INTO YOUR .env FILE IN THE ROOT DIRECTORY


`;Yx.default.connect(t,{useUnifiedTopology:!0,useNewUrlParser:!0}).then(()=>console.info("MongoDB connected!")).catch(e=>console.error(`MongoDB connection error: ${e}`))}catch(t){console.error(t)}}var l2=t7(B9()),nae=new l2.Schema({uuid:{type:String,required:!0},name:{type:String,required:!0},number:{type:String,required:!0},location:{type:{type:String,enum:["Point"],required:!0},coordinates:{type:[Number],required:!0}},address:{street:{type:String,required:!0},houseNumber:{type:String,required:!0},zip:{type:String,required:!0},city:{type:String,required:!0}},availability:{type:Map,of:Boolean,required:!0},imageUrl:{type:String,required:!0},capacity:{total:{type:Number,required:!0},underThree:{type:Number,required:!0}},minimumAcceptanceAgeInMonths:{type:Number,required:!0},contactDetails:{email:String,phone:String,website:String},openingHours:{type:Map,of:{from:String,to:String},required:!0},approach:{pedagogicalConcepts:[String],emphasis:[String],languages:[String],mixedAgesDescriptions:[String]},foundingDate:{type:String,required:!0},closingDate:{type:String},version:{type:String,required:!1}},{timestamps:!0}),sae=(0,l2.model)("KitaDetail",nae),Jx=sae;var iae=(t,e,r)=>{let n=(e-1)*r,s=n+r,i;s>t.length?i=t.slice(n):i=t.slice(n,s);let o=Math.ceil(t.length/r);return{meta:{page:e,totalPages:o>0?o:1,itemsPerPage:r,totalItems:t.length,amountOfItems:i.length,nextPage:e<o?e+1:!1},items:i}},Xx=iae;var f2=class{};f2.getKitasInRadius=async(e,r,n,s,i)=>{try{let o=await Jx.find({location:{$nearSphere:{$geometry:{type:"Point",coordinates:[r,e]},$maxDistance:n}}}).limit(50);return Xx(o,s,i)}catch(o){throw console.error("Error in getKitasInRadius:",o),new Error("Something went wrong")}};var Zx=f2;var oae=async(t,e)=>{try{Qx(),console.log("Received event:",JSON.stringify(t,null,2));let r=JSON.parse(t.body);if(!r)return"Invalid request body.";let{lat:n,lng:s,radius:i,page:o,limit:u}=r;console.log("lat:",n,"lng:",s,"radius:",i,"page:",o,"limit:",u);let a=Number(n),c=Number(s),l=Number(i||2500),f=Number(o||1),h=Number(u||50);return isNaN(a)||isNaN(c)||a===0||c===0?"Invalid latitude or longitude provided.":await Zx.getKitasInRadius(a,c,l,f,h)}catch(r){return console.error(r),"Something went wrong. Please try again later."}};0&&(module.exports={handler});
/*! Bundled license information:

mongoose/lib/driver.js:
  (*!
   * ignore
   *)

mongoose/lib/connectionState.js:
  (*!
   * Connection states
   *)

mongoose/lib/helpers/immediate.js:
  (*!
   * Centralize this so we can more easily work around issues with people
   * stubbing out `process.nextTick()` in tests using sinon:
   * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
   * See gh-6074
   *)

mongoose/lib/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/mongooseError.js:
  (*!
   * ignore
   *)

mongoose/lib/types/objectid.js:
  (*!
   * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
   *)

mongoose/lib/options.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/clone.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from abstract Collection.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/cursor/changeStream.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/notFound.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/cast.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/error/combinePathErrors.js:
  (*!
   * ignore
   *)

mongoose/lib/error/validation.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/error/validator.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/version.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/parallelSave.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/overwriteModel.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/missingSchema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/serverSelection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/divergentArray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/strict.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/strictPopulate.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema/operators/exists.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/type.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schematype/handleImmutable.js:
  (*!
   * ignore
   *)

mpath/lib/index.js:
  (*!
   * Split a string path into components delimited by '.' or
   * '[\d+]'
   *
   * #### Example:
   *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
   *)
  (*!
   * Recursively set nested arrays
   *)
  (*!
   * Returns the value passed to it.
   *)

mongoose/lib/stateMachine.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/internal.js:
  (*!
   * Dependencies
   *)

mongoose/lib/schema/mixed.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/objectExpected.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/objectParameter.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/parallelValidate.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/document/applyDefaults.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/cleanModifiedSubpaths.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/compile.js:
  (*!
   * exports
   *)

mongoose/lib/helpers/common.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isDefiningProjection.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isExclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isPathSelectedInclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/queryHelpers.js:
  (*!
   * Module dependencies
   *)
  (*!
   * ignore
   *)

mongoose/lib/types/subdocument.js:
  (*!
   * ignore
   *)

mongoose/lib/types/arraySubdocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Subdocument
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/array/methods/index.js:
  (*!
   * ignore
   *)
  (*!
   * Minimize _just_ empty objects along the path chain specified
   * by `parts`, ignoring all other paths. Useful in cases where
   * you want to minimize after unsetting a path.
   *
   * #### Example:
   *
   *     const obj = { foo: { bar: { baz: {} } }, a: {} };
   *     _minimizePath(obj, 'foo.bar.baz');
   *     obj; // { a: {} }
   *)

mongoose/lib/types/array/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/documentArray/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/document.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Document exposes the NodeJS event emitter API, so you can use
   * `on`, `once`, etc.
   *)
  (*!
   * Converts to POJO when you use the document for querying
   *)
  (*!
   * Runs queued functions
   *)
  (*!
   * Applies virtuals properties to `json`.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schemaType.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/virtualType.js:
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/schema/idGetter.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schema/handleTimestampOption.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToChildren.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToUpdate.js:
  (*!
   * ignore
   *)

mongoose/lib/constants.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/model/applyHooks.js:
  (*!
   * ignore
   *)

mongoose/lib/types/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Buffer.
   *)
  (*!
   * Compile other Buffer methods marking this buffer as modified.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/map.js:
  (*!
   * ignore
   *)

mongoose/lib/types/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/options/schemaArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/cast.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/options/schemaNumberOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/bitwise.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/number.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/operators/helpers.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/geospatial.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/array.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/bigint.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/boolean.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/schemaBufferOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/schemaDateOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/date.js:
  (*!
   * Module requirements.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/decimal128.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/plugins/saveSubdocs.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/sharding.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/validateBeforeSave.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/model/discriminator.js:
  (*!
   * ignore
   *)

mongoose/lib/error/invalidSchemaOption.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/schema/subdocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/documentArrayElement.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/schemaDocumentArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/documentArray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaArray.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/map.js:
  (*!
   * ignore
   *)

mongoose/lib/options/schemaObjectIdOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/objectId.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/schemaStringOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/string.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/uuid.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter.
   *)
  (*!
   * ignore
   *)
  (*!
   * Recursively set options on implicitly created schemas
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/syncIndexes.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter
   *)
  (*!
   * Reset document state in between transaction retries re: gh-13698
   *)
  (*!
   * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
   *)
  (*!
   * ignore
   *)
  (*!
   * Treat `on('error')` handlers as handling the initialConnection promise
   * to avoid uncaught exceptions when using `on('error')`. See gh-14377.
   *)
  (*!
   * Treat `once('error')` handlers as handling the initialConnection promise
   * to avoid uncaught exceptions when using `on('error')`. See gh-14377.
   *)
  (*!
   * Called internally by `openUri()` to create a MongoClient instance.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from Connection.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/validOptions.js:
  (*!
   * Valid mongoose options
   *)

mongoose/lib/error/eachAsyncMultiError.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/cursor/eachAsync.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/cursor/queryCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/castUpdate.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isInclusive.js:
  (*!
   * ignore
   *)

mquery/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mquery/lib/mquery.js:
  (*!
   * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
   *
   *     Thing.where('type').nin(array)
   *)
  (*!
   * @ignore
   *)
  (*!
   * limit, skip, batchSize, comment
   *
   * Sets these associated options.
   *
   *     query.comment('feed query');
   *)
  (*!
   * Internal helper for updateMany, updateOne
   *)
  (*!
   * Permissions
   *)
  (*!
   * Exports.
   *)

mongoose/lib/helpers/query/hasDollarKeys.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/selectPopulatedFields.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/updateValidators.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/query.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * inherit mquery
   *)
  (*!
   * Overwrite mquery's `_distinct`, because Mongoose uses that name
   * to store the field to apply distinct on.
   *)
  (*!
   * ignore
   *)
  (*!
   * If `translateAliases` option is set, call `Model.translateAliases()`
   * on the following query properties: filter, projection, update, distinct.
   *)
  (*!
   * Convert sort values
   *)
  (*!
   * Export
   *)

mongoose/lib/cursor/aggregationCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/aggregate.js:
  (*!
   * Module dependencies
   *)
  (*!
   * define methods
   *)
  (*!
   * Helpers
   *)
  (*!
   * Exports
   *)

mongoose/lib/helpers/populate/leanPopulateMap.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getVirtual.js:
  (*!
   * ignore
   *)

sift/lib/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

mongoose/lib/helpers/populate/getSchemaTypes.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getModelsMapForPopulate.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/parallelLimit.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/removeDeselectedForeignField.js:
  (*!
   * ignore
   *)

mongoose/lib/error/bulkWriteError.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/model.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Give the constructor the ability to emit events.
   *)
  (*!
   * Populates `docs`
   *)
  (*!
   * Applies query middleware from this model's schema to this model's
   * Query constructor.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/setOptionError.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/browserDocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from the NodeJS document
   *)
  (*!
   * ignore
   *)
  (*!
   * Browser doc exposes the event emitter API
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/documentProvider.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/mongoose.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/index.js:
  (*!
   * Module dependencies.
   *)
*/
//# sourceMappingURL=index.js.map
